<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Oct 14 14:01:21 PDT 2013 -->
<title>DiffItem</title>
<meta name="date" content="2013-10-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DiffItem";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../gw/api/diff/DiffAdd.html" title="class in gw.api.diff"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../gw/api/diff/DiffPathElement.html" title="class in gw.api.diff"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?gw/api/diff/DiffItem.html" target="_top">Frames</a></li>
<li><a href="DiffItem.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gw.api.diff</div>
<h2 title="Class DiffItem" class="title">Class DiffItem</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>gw.api.diff.DiffItem</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;T&gt;</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../gw/api/diff/DiffAdd.html" title="class in gw.api.diff">DiffAdd</a>, <a href="../../../gw/api/diff/DiffProperty.html" title="class in gw.api.diff">DiffProperty</a>, <a href="../../../gw/api/diff/DiffRemove.html" title="class in gw.api.diff">DiffRemove</a>, <a href="../../../gw/api/diff/DiffWindow.html" title="class in gw.api.diff">DiffWindow</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">DiffItem</span>
extends <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a>&lt;T&gt;</pre>
<div class="block">DiffItems are used to describe the differences between the same logical bean
in two different branches. A single DiffItem described a single change
between a bean on a source branch and its counterpart in the branch on which
the DiffItem's bean was based (the target branch).
<p/>
There are four types of changes that a DiffItem can represent: (1) Add - a
bean is added to a branch and doesn't exist in the based-on branch. (2)
Remove - a bean is removed from this branch, (3) Property - a single property
is changed on a bean, (4) Window - a bean's effective range is changed (this
type of change is rare). See JavaDoc on the DiffItem subtypes for further
details on a specific DiffItem type.
<p/>
DiffIems are created in one of two ways: they're automatically generated by
comparing a branch to it's based-on branch, or they're manually generated by
inspecting two branches that aren't based on one another. It's important to
understand how these two ways of creating DiffItems.
<p/>
In the automatically generated case the DiffItems represent the differences
at the database level between two branches as we we're able to do compile a
complete set of DiffItems using the BasedOn and ChangeType columns. For
display purposes this is usually more information than required, so the
results are often filtered, e.g. see PolicyPeriodDiffPlugin.filterDiffItems.
Examples of automatically generated DiffItems include: Difference UI, OOS
conflict resolving, and Preemption handling.
<p/>
In the manually generated case since the branches you're comparing aren't
based on one another there is no easy or automatic way to compare them at the
database level so they must be compared by traversing each bean graph, e.g.
see PolicyPeriodDiffPlugin.compareBranches. Examples of manutally generated
DiffItems include: comparing multi-quote versions, and comparing bound
revisions.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== PROPERTY SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="property_summary">
<!--   -->
</a>
<h3>Property Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Property Summary table, listing properties, and an explanation">
<caption><span>Properties</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Type</th>
<th class="colLast" scope="col">Property and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../gw/api/diff/DiffProperty.html" title="class in gw.api.diff">DiffProperty</a></code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#asProperty">as</a></strong></code>
<div class="block">Returns this diff as a property diff.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#Add">Add</a></strong></code>
<div class="block">Whether this diff is a diff add.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../entity/KeyableBean.html" title="class in entity">KeyableBean</a></code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#Bean">Bean</a></strong></code>
<div class="block">Get the bean associated with this change.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#EffDated">EffDated</a></strong></code>
<div class="block">True if this bean is effective dated. In most cases DiffItems will be
contructed with an EffDated bean.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../entity/EffDated.html" title="class in entity">EffDated</a></code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#EffDatedBean">EffDatedBean</a></strong></code>
<div class="block">Returns EffDated bean associated with this change. This simply casts
getBean(). If not EffDated then an exception will be thrown.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#MergeChange">MergeChange</a></strong></code>
<div class="block">Whether this is a merge change.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#OOSChange">OOSChange</a></strong></code>
<div class="block">Whether this change occurred out of sequence.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#OOSConflict">OOSConflict</a></strong></code>
<div class="block">Whether this change is an out-of-sequence conflict with a future value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../gw/api/diff/DiffPathElement.html" title="class in gw.api.diff">DiffPathElement</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#Path">Path</a></strong></code>
<div class="block">For debugging</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#Property">Property</a></strong></code>
<div class="block">Whether this diff is a property diff.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#Remove">Remove</a></strong></code>
<div class="block">Whether this diff is a diff remove.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#SliceEdit">SliceEdit</a></strong></code>
<div class="block">Whether this diff is a slice edit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#ValueMap">ValueMap</a></strong></code>
<div class="block">For adding arbitrary values to DiffItem via enhancements</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#Window">Window</a></strong></code>
<div class="block">Whether this diff is a window diff.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#Class" title="class or interface in java.lang">Class</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#applyDiffToBranchvoid applyDiffToBranch (entity.EffDatedBranch branch)">applyDiffToBranch</a></strong>(<a href="../../../entity/EffDatedBranch.html" title="class in entity">EffDatedBranch</a>&nbsp;branch)</code>
<div class="block">Apply a DiffItem to a target branch. This should only be called if
canApplyDiffToBranch returns true, otherwise an exception will be thrown.
<p/>
Its possible for a change to be applicable (canApplyDiffToBranch returns
true), but its application has no affect on the target branch. This can
happen with Add: [1]: In most cases the period ranges of the source and
target branches are the same so the source bean is added in its entirety to
the target branch but in the rare case where the period range of the target
branch is different, only add the bean for the duration of its range that
overlaps with the target's period range. [2]: Only add the source bean to
the target future period if the source been existed at the end of the
source period range (or cancellation date if there is one). If the source
bean was added and then later removed at a later date, before the source
period end, then it shouldn't exist in the future period.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../gw/api/diff/DiffAdd.html" title="class in gw.api.diff">DiffAdd</a></code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#asAddgw.api.diff.DiffAdd asAdd ()">asAdd</a></strong>()</code>
<div class="block">Returns this diff as a diff add.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../gw/api/diff/DiffProperty.html" title="class in gw.api.diff">DiffProperty</a></code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#asPropertygw.api.diff.DiffProperty asProperty ()">asProperty</a></strong>()</code>
<div class="block">Returns this diff as a property diff.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../gw/api/diff/DiffRemove.html" title="class in gw.api.diff">DiffRemove</a></code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#asRemovegw.api.diff.DiffRemove asRemove ()">asRemove</a></strong>()</code>
<div class="block">Returns this diff as a diff remove.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../gw/api/diff/DiffWindow.html" title="class in gw.api.diff">DiffWindow</a></code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#asWindowgw.api.diff.DiffWindow asWindow ()">asWindow</a></strong>()</code>
<div class="block">Returns this diff as a window diff.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#canApplyDiffToBranchboolean canApplyDiffToBranch (entity.EffDatedBranch branch)">canApplyDiffToBranch</a></strong>(<a href="../../../entity/EffDatedBranch.html" title="class in entity">EffDatedBranch</a>&nbsp;branch)</code>
<div class="block">Check is this DiffItem can be applied to a target branch. The answer
depends on the type of change (Add, Remove, Property, Window) and the state
of the target branch.
<p/>
A DiffItem is applied to another branch in the following cases:
<p/>
(1) Apply a preempted branches changes to the new branch created for it.
<p/>
(2) Apply a policy change in a prior period to the future period. There are
two sub-cases here: (2a) the future period is bound, in which case the
changes are applied to a new branch created from the most recently bound
branch in the future period, or (2b) the future period is in draft in which
case the changes are applied directly to the draft branch.
<p/>
If a change cannot be applied to the target branch then it's considered a
conflict (but not an OOS conflict, that's different). For example, a
property on a bean was changed in the source branch but that bean has been
removed in the target branch. Typically such conflicts these are displayed
to the end-user for informational purposes but ultimately ignored. For
example, in the case of preemption, all changes that can be applied from
the preempted branch are automatically applied to the new branch, and those
that can't be applied are displayed to the end-user but do not affect the
new branch.
<p/>
The following rules are used to determine if a DiffItem can be applied to
the target branch. The numbers in brackets refer to the case in which the
change is being applied, e.g. [1] = Preemption (see above). [SE] or [NSE]
refers to whether the change is a slice edit or non-slice edit. It's
important to remember that non-slice edits are not typical, as you'll see
the logic for handling them is more complicated. See isSliceEdit for
details of that's considered a slice edit.
<p/>
Add - Always true, an add can always be applied.
<p/>
Property - [1-SE]: True if source bean exists on the target branch at the
effective date of source change (at slice date). [1-NSE]: True if effective
range of source bean matches the effective range of target bean. [2]: True
if source bean exists at the start of target future period.
<p/>
Remove - [1]: True If the source bean exists in the target branch at the
date when it was removed in the souce (at the expiration date of the source
bean). [2]: If the bean exists at the start of the target future period.
<p/>
Window - Always false, a window change can never be applied.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#canMergeOOSChangeboolean canMergeOOSChange ()">canMergeOOSChange</a></strong>()</code>
<div class="block">Whether this diff can be merged forward.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#compareToint compareTo (java.lang.Object o)">compareTo</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</code>
<div class="block">{@inheritDoc}</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#equalsboolean equals (java.lang.Object o)">equals</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</code>
<div class="block">{@inheritDoc}</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#hashCodeint hashCode ()">hashCode</a></strong>()</code>
<div class="block">{@inheritDoc}</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#mergeOOSChangevoid mergeOOSChange ()">mergeOOSChange</a></strong>()</code>
<div class="block">Merge OOSE change forward to all future versions, ignoring any conflicts.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#mergeOOSChangeToFirstConflictvoid mergeOOSChangeToFirstConflict ()">mergeOOSChangeToFirstConflict</a></strong>()</code>
<div class="block">Merge OOSE change forward until the first conflict. If the field has no
conflict it will be merged forward to all future versions.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../gw/api/diff/DiffItem.html#setPathvoid setPath (java.util.List path)">setPath</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../gw/api/diff/DiffPathElement.html" title="class in gw.api.diff">DiffPathElement</a>&gt;&nbsp;path)</code>
<div class="block">For debugging</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Comparable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true" title="class or interface in java.lang">Comparable</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html?is-external=true#compareToint compareTo (java.lang.Object Object)" title="class or interface in java.lang">compareTo</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equalsboolean equals (java.lang.Object Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCodeint hashCode ()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyvoid notify ()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAllvoid notifyAll ()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toStringjava.lang.String toString ()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#waitvoid wait ()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#waitvoid wait (long long, int int)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#waitvoid wait (long long)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ PROPERTY DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="property_detail">
<!--   -->
</a>
<h3>Property Detail</h3>
<a name="asProperty">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>as</h4>
<div class="block">Returns this diff as a property diff.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Add">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Add</h4>
<pre>boolean Add</pre>
<div class="block">Whether this diff is a diff add.</div>
</li>
</ul>
<a name="Bean">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Bean</h4>
<pre><a href="../../../entity/KeyableBean.html" title="class in entity">KeyableBean</a> Bean</pre>
<div class="block">Get the bean associated with this change.</div>
</li>
</ul>
<a name="EffDated">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EffDated</h4>
<pre>boolean EffDated</pre>
<div class="block">True if this bean is effective dated. In most cases DiffItems will be
contructed with an EffDated bean.</div>
</li>
</ul>
<a name="EffDatedBean">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EffDatedBean</h4>
<pre><a href="../../../entity/EffDated.html" title="class in entity">EffDated</a> EffDatedBean</pre>
<div class="block">Returns EffDated bean associated with this change. This simply casts
getBean(). If not EffDated then an exception will be thrown.</div>
</li>
</ul>
<a name="MergeChange">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MergeChange</h4>
<pre>boolean MergeChange</pre>
<div class="block">Whether this is a merge change.</div>
</li>
</ul>
<a name="OOSChange">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OOSChange</h4>
<pre>boolean OOSChange</pre>
<div class="block">Whether this change occurred out of sequence.</div>
</li>
</ul>
<a name="OOSConflict">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OOSConflict</h4>
<pre>boolean OOSConflict</pre>
<div class="block">Whether this change is an out-of-sequence conflict with a future value.</div>
</li>
</ul>
<a name="Path">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Path</h4>
<pre><a href="http://java.sun.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../gw/api/diff/DiffPathElement.html" title="class in gw.api.diff">DiffPathElement</a>&gt; Path</pre>
<div class="block">For debugging</div>
</li>
</ul>
<a name="Property">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Property</h4>
<pre>boolean Property</pre>
<div class="block">Whether this diff is a property diff.</div>
</li>
</ul>
<a name="Remove">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Remove</h4>
<pre>boolean Remove</pre>
<div class="block">Whether this diff is a diff remove.</div>
</li>
</ul>
<a name="SliceEdit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SliceEdit</h4>
<pre>boolean SliceEdit</pre>
<div class="block">Whether this diff is a slice edit.</div>
</li>
</ul>
<a name="ValueMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ValueMap</h4>
<pre><a href="http://java.sun.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>,<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&gt; ValueMap</pre>
<div class="block">For adding arbitrary values to DiffItem via enhancements</div>
</li>
</ul>
<a name="Window">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Window</h4>
<pre>boolean Window</pre>
<div class="block">Whether this diff is a window diff.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="equalsboolean equals (java.lang.Object o)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>boolean&nbsp;equals(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</pre>
<div class="block">{@inheritDoc}</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="hashCodeint hashCode ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>int&nbsp;hashCode()</pre>
<div class="block">{@inheritDoc}</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="applyDiffToBranchvoid applyDiffToBranch (entity.EffDatedBranch branch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyDiffToBranch</h4>
<pre>void&nbsp;applyDiffToBranch(<a href="../../../entity/EffDatedBranch.html" title="class in entity">EffDatedBranch</a>&nbsp;branch)</pre>
<div class="block">Apply a DiffItem to a target branch. This should only be called if
canApplyDiffToBranch returns true, otherwise an exception will be thrown.
<p/>
Its possible for a change to be applicable (canApplyDiffToBranch returns
true), but its application has no affect on the target branch. This can
happen with Add: [1]: In most cases the period ranges of the source and
target branches are the same so the source bean is added in its entirety to
the target branch but in the rare case where the period range of the target
branch is different, only add the bean for the duration of its range that
overlaps with the target's period range. [2]: Only add the source bean to
the target future period if the source been existed at the end of the
source period range (or cancellation date if there is one). If the source
bean was added and then later removed at a later date, before the source
period end, then it shouldn't exist in the future period.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>branch</code> - </dd></dl>
</li>
</ul>
<a name="asAddgw.api.diff.DiffAdd asAdd ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asAdd</h4>
<pre><a href="../../../gw/api/diff/DiffAdd.html" title="class in gw.api.diff">DiffAdd</a>&nbsp;asAdd()</pre>
<div class="block">Returns this diff as a diff add.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="asPropertygw.api.diff.DiffProperty asProperty ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asProperty</h4>
<pre><a href="../../../gw/api/diff/DiffProperty.html" title="class in gw.api.diff">DiffProperty</a>&nbsp;asProperty()</pre>
<div class="block">Returns this diff as a property diff.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="asRemovegw.api.diff.DiffRemove asRemove ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asRemove</h4>
<pre><a href="../../../gw/api/diff/DiffRemove.html" title="class in gw.api.diff">DiffRemove</a>&nbsp;asRemove()</pre>
<div class="block">Returns this diff as a diff remove.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="asWindowgw.api.diff.DiffWindow asWindow ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asWindow</h4>
<pre><a href="../../../gw/api/diff/DiffWindow.html" title="class in gw.api.diff">DiffWindow</a>&nbsp;asWindow()</pre>
<div class="block">Returns this diff as a window diff.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="canApplyDiffToBranchboolean canApplyDiffToBranch (entity.EffDatedBranch branch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canApplyDiffToBranch</h4>
<pre>boolean&nbsp;canApplyDiffToBranch(<a href="../../../entity/EffDatedBranch.html" title="class in entity">EffDatedBranch</a>&nbsp;branch)</pre>
<div class="block">Check is this DiffItem can be applied to a target branch. The answer
depends on the type of change (Add, Remove, Property, Window) and the state
of the target branch.
<p/>
A DiffItem is applied to another branch in the following cases:
<p/>
(1) Apply a preempted branches changes to the new branch created for it.
<p/>
(2) Apply a policy change in a prior period to the future period. There are
two sub-cases here: (2a) the future period is bound, in which case the
changes are applied to a new branch created from the most recently bound
branch in the future period, or (2b) the future period is in draft in which
case the changes are applied directly to the draft branch.
<p/>
If a change cannot be applied to the target branch then it's considered a
conflict (but not an OOS conflict, that's different). For example, a
property on a bean was changed in the source branch but that bean has been
removed in the target branch. Typically such conflicts these are displayed
to the end-user for informational purposes but ultimately ignored. For
example, in the case of preemption, all changes that can be applied from
the preempted branch are automatically applied to the new branch, and those
that can't be applied are displayed to the end-user but do not affect the
new branch.
<p/>
The following rules are used to determine if a DiffItem can be applied to
the target branch. The numbers in brackets refer to the case in which the
change is being applied, e.g. [1] = Preemption (see above). [SE] or [NSE]
refers to whether the change is a slice edit or non-slice edit. It's
important to remember that non-slice edits are not typical, as you'll see
the logic for handling them is more complicated. See isSliceEdit for
details of that's considered a slice edit.
<p/>
Add - Always true, an add can always be applied.
<p/>
Property - [1-SE]: True if source bean exists on the target branch at the
effective date of source change (at slice date). [1-NSE]: True if effective
range of source bean matches the effective range of target bean. [2]: True
if source bean exists at the start of target future period.
<p/>
Remove - [1]: True If the source bean exists in the target branch at the
date when it was removed in the souce (at the expiration date of the source
bean). [2]: If the bean exists at the start of the target future period.
<p/>
Window - Always false, a window change can never be applied.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>branch</code> - Target branch to which to apply change.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if this change can be applied to the target branch.</dd></dl>
</li>
</ul>
<a name="canMergeOOSChangeboolean canMergeOOSChange ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canMergeOOSChange</h4>
<pre>boolean&nbsp;canMergeOOSChange()</pre>
<div class="block">Whether this diff can be merged forward.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="compareToint compareTo (java.lang.Object o)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compareTo</h4>
<pre>int&nbsp;compareTo(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</pre>
<div class="block">{@inheritDoc}</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="mergeOOSChangevoid mergeOOSChange ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeOOSChange</h4>
<pre>void&nbsp;mergeOOSChange()</pre>
<div class="block">Merge OOSE change forward to all future versions, ignoring any conflicts.</div>
</li>
</ul>
<a name="mergeOOSChangeToFirstConflictvoid mergeOOSChangeToFirstConflict ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mergeOOSChangeToFirstConflict</h4>
<pre>void&nbsp;mergeOOSChangeToFirstConflict()</pre>
<div class="block">Merge OOSE change forward until the first conflict. If the field has no
conflict it will be merged forward to all future versions.</div>
</li>
</ul>
<a name="setPathvoid setPath (java.util.List path)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setPath</h4>
<pre>void&nbsp;setPath(<a href="http://java.sun.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../gw/api/diff/DiffPathElement.html" title="class in gw.api.diff">DiffPathElement</a>&gt;&nbsp;path)</pre>
<div class="block">For debugging</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../gw/api/diff/DiffAdd.html" title="class in gw.api.diff"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../gw/api/diff/DiffPathElement.html" title="class in gw.api.diff"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?gw/api/diff/DiffItem.html" target="_top">Frames</a></li>
<li><a href="DiffItem.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
