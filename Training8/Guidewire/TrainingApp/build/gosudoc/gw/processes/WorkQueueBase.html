<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Mon Oct 14 14:01:00 PDT 2013 -->
<title>WorkQueueBase</title>
<meta name="date" content="2013-10-14">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WorkQueueBase";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../gw/processes/WorkItemSetPurge.html" title="class in gw.processes"><span class="strong">Prev Class</span></a></li>
<li><a href="../../gw/processes/WorkQueueInstrumentation.html" title="class in gw.processes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?gw/processes/WorkQueueBase.html" target="_top">Frames</a></li>
<li><a href="WorkQueueBase.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">gw.processes</div>
<h2 title="Class WorkQueueBase" class="title">Class WorkQueueBase&lt;E extends <a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>,W extends <a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.guidewire.pl.system.workqueue.WorkQueue&lt;E,W&gt;</li>
<li>
<ul class="inheritance">
<li>gw.processes.WorkQueueBase&lt;E,W&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>com.guidewire.pl.system.workqueue.DistributedWorker&lt;W&gt;, com.guidewire.pl.system.workqueue.WorkItemCreator&lt;E,W&gt;, com.guidewire.pl.system.workqueue.WorkQueueTargetFinder&lt;E&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">WorkQueueBase&lt;E extends <a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>,W extends <a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&gt;</span>
extends com.guidewire.pl.system.workqueue.WorkQueue&lt;E,W&gt;
implements com.guidewire.pl.system.workqueue.WorkQueueTargetFinder&lt;E&gt;, com.guidewire.pl.system.workqueue.DistributedWorker&lt;W&gt;, com.guidewire.pl.system.workqueue.WorkItemCreator&lt;E,W&gt;</pre>
<div class="block">This class in the base class for all customer work queues.  This object will be instantated once on each server that
is processing the configured WorkQueue.

A subclass must implement processWorkItem.  This will be called whenever a WorkItem for this queue is to be processed.
It maybe called on any server that this WorkQueue has been configured for.  It is run within a transaction.

Until a subclass implements findWorkItems, the batch process will do no work.  If W is not StandardWorkItem, you must
also implement createWorkItem before the batch process will work successfully.

Example:
package gw.test
uses gw.processes.WorkQueueBase
class TestWorkQueue1 extends WorkQueueBase<TestGraphRoot, StandardWorkItem>{
static function newWorkItem(bean : TestGraphRoot, bundle : Bundle) : StandardWorkItem {
return newStandardWorkItem(bean, "TestGosuWorkQueue", bundle)
}
construct() {
super("TestGosuWorkQueue", StandardWorkItem, TestGraphRoot)
}
override function processWorkItem(workItem : StandardWorkItem) {
Transaction.runWithNewBundle(\ bundle -> {
workItem = bundle.add(workItem)
var target = extractTarget(workItem)
...
}, "su")
}
override function createWorkItem(bean : TestGraphRoot, bundle : Bundle) : StandardWorkItem {
return newWorkItem(bean, bundle)
}
override function findTargets() : Iterator<TestGraphRoot> {
return find(tgr in TestGraphRoot)
}
}</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#QueueName">QueueName</a></strong></code>
<div class="block">This will return the queue name from batch process type</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../typekey/BatchProcessType.html" title="class in typekey">BatchProcessType</a></code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#QueueType">QueueType</a></strong></code>
<div class="block">This will return the queue type</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.guidewire.pl.system.workqueue.WorkItemCreator&lt;<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>,<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#WorkItemCreator">WorkItemCreator</a></strong></code>
<div class="block">This will return a work item creator. This method cannot be overridden.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../gw/entity/IEntityType.html" title="class in gw.entity">IEntityType</a></code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#WorkItemType">WorkItemType</a></strong></code>
<div class="block">The work item entity type</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_com.guidewire.pl.system.workqueue.WorkQueue">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.guidewire.pl.system.workqueue.WorkQueue</h3>
<code>InstrumentationFields, LockName</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#Class" title="class or interface in java.lang">Class</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../gw/processes/BatchProcess.html" title="class in gw.processes">BatchProcess</a></code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#createBatchProcessgw.processes.BatchProcess createBatchProcess (java.lang.Object args)">createBatchProcess</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;args)</code>
<div class="block">This will return the created batch process.  Normally this does not need to be
overridden instead you may override findTargets.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a></code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#createWorkItementity.WorkItem createWorkItem (entity.KeyableBean target, gw.pl.persistence.core.Bundle safeBundle)">createWorkItem</a></strong>(<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&nbsp;target,
              <a href="../../gw/pl/persistence/core/Bundle.html" title="class in gw.pl.persistence.core">Bundle</a>&nbsp;safeBundle)</code>
<div class="block">This method will create a new work item.

IMPLEMENTATION NOTE:
The default implementation uses StandardWorkItem to contain the information.  It only
needs to be overridden if you want to use some other entity that is a delegate of WorkItem
for your work item.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.guidewire.pl.system.workqueue.DistributedWorker&lt;<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#createWorkercom.guidewire.pl.system.workqueue.DistributedWorker createWorker ()">createWorker</a></strong>()</code>
<div class="block">This will return a worker that processes work items. This method cannot be overridden.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#doesWriterNeedsArgumentboolean doesWriterNeedsArgument ()">doesWriterNeedsArgument</a></strong>()</code>
<div class="block">Indicates if the writer can start from UI. Returns <code>false</code> and cannot be overridden.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#equalsboolean equals (java.lang.Object o)">equals</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</code>
<div class="block">This is will check equality based on BatchProcesstype</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://java.sun.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#findTargetsjava.util.Iterator findTargets ()">findTargets</a></strong>()</code>
<div class="block">This will return the items to be added to the work queue.

IMPLEMENATION NOTE:
This needs to be implemented if you want to populate the work queue via it's batch process.
This could be a simple query result if the determination is too complex, as the shouldProcessItem
method can be used to fine tune these results.
Once this has been defined you can add categories to the BatchProcessType to indicate that it is
UIRunable and/or Schedulable</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>com.guidewire.pl.system.workqueue.WorkQueueTargetFinder&lt;<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#getFindercom.guidewire.pl.system.workqueue.WorkQueueTargetFinder getFinder (java.lang.Object args)">getFinder</a></strong>(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;args)</code>
<div class="block">This will return a target finder based on the the arguments. This method cannot be overridden.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#handleExceptionboolean handleException (entity.WorkItem workItem, java.lang.Throwable exception, int consecutiveExceptions)">handleException</a></strong>(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;workItem,
               <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;exception,
               int&nbsp;consecutiveExceptions)</code>
<div class="block">This will permit the work queue to add additional process when a exception is thrown.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#hashCodeint hashCode ()">hashCode</a></strong>()</code>
<div class="block">The unique id for this object</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#logStackTraceForWorkItemvoid logStackTraceForWorkItem (entity.WorkItem workItem, java.lang.Throwable throwable)">logStackTraceForWorkItem</a></strong>(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;workItem,
                        <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;throwable)</code>
<div class="block">This method will be ced on each execution if there is an exception processing the work item.  It will
be ced upto max retry times.
This is a user exit so they may perform notification actions in the case.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#processWorkItemvoid processWorkItem (entity.WorkItem item)">processWorkItem</a></strong>(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;item)</code>
<div class="block">This will process this work item.  This is inside of its own transaction.

IMPLEMENTATION NOTE:
If an exception is thrown from this method, it will be retried.  Immediately if CDCE.
This is profiled with tag "WorkerProcessWorkItem"
This is logged with logger WorkQueue.Item
You may want to lock the target</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#shouldProcessItemboolean shouldProcessItem (entity.KeyableBean target)">shouldProcessItem</a></strong>(<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&nbsp;target)</code>
<div class="block">Whether a work item should be created for this target.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../gw/processes/WorkQueueBase.html#workItemFailedvoid workItemFailed (entity.WorkItem workItem)">workItemFailed</a></strong>(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;workItem)</code>
<div class="block">This method is ced when the work item is being flagged as failed.  It will occur after the
number of retries has been exceeded and the next selection found that it has exceeded the max retry times.
(i.e., processtime * (maxretries + 1))</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.guidewire.pl.system.workqueue.WorkQueueTargetFinder">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.guidewire.pl.system.workqueue.WorkQueueTargetFinder</h3>
<code>findTargets, shouldProcessItem</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.guidewire.pl.system.workqueue.DistributedWorker">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.guidewire.pl.system.workqueue.DistributedWorker</h3>
<code>logStackTraceForWorkItem, processWorkItem, workItemFailed</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.guidewire.pl.system.workqueue.WorkItemCreator">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.guidewire.pl.system.workqueue.WorkItemCreator</h3>
<code>createWorkItem</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_com.guidewire.pl.system.workqueue.WorkQueue">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.guidewire.pl.system.workqueue.WorkQueue</h3>
<code>createBatchProcess, createWorker, doesWriterNeedsArgument, equals, findWorkItemsToCheckout, getFinder, handleException, hashCode</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equalsboolean equals (java.lang.Object Object)" title="class or interface in java.lang">equals</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCodeint hashCode ()" title="class or interface in java.lang">hashCode</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyvoid notify ()" title="class or interface in java.lang">notify</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAllvoid notifyAll ()" title="class or interface in java.lang">notifyAll</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toStringjava.lang.String toString ()" title="class or interface in java.lang">toString</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#waitvoid wait ()" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#waitvoid wait (long long, int int)" title="class or interface in java.lang">wait</a>, <a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true#waitvoid wait (long long)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="QueueName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QueueName</h4>
<pre><a href="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> QueueName</pre>
<div class="block">This will return the queue name from batch process type</div>
</li>
</ul>
<a name="QueueType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QueueType</h4>
<pre><a href="../../typekey/BatchProcessType.html" title="class in typekey">BatchProcessType</a> QueueType</pre>
<div class="block">This will return the queue type</div>
</li>
</ul>
<a name="WorkItemCreator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WorkItemCreator</h4>
<pre>com.guidewire.pl.system.workqueue.WorkItemCreator&lt;<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>,<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&gt; WorkItemCreator</pre>
<div class="block">This will return a work item creator. This method cannot be overridden.</div>
</li>
</ul>
<a name="WorkItemType">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WorkItemType</h4>
<pre><a href="../../gw/entity/IEntityType.html" title="class in gw.entity">IEntityType</a> WorkItemType</pre>
<div class="block">The work item entity type</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="equalsboolean equals (java.lang.Object o)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>boolean&nbsp;equals(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;o)</pre>
<div class="block">This is will check equality based on BatchProcesstype</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>o</code> - the other object</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if equal</dd></dl>
</li>
</ul>
<a name="hashCodeint hashCode ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>int&nbsp;hashCode()</pre>
<div class="block">The unique id for this object</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the value of the hash</dd></dl>
</li>
</ul>
<a name="findTargetsjava.util.Iterator findTargets ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findTargets</h4>
<pre><a href="http://java.sun.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&gt;&nbsp;findTargets()</pre>
<div class="block">This will return the items to be added to the work queue.

IMPLEMENATION NOTE:
This needs to be implemented if you want to populate the work queue via it's batch process.
This could be a simple query result if the determination is too complex, as the shouldProcessItem
method can be used to fine tune these results.
Once this has been defined you can add categories to the BatchProcessType to indicate that it is
UIRunable and/or Schedulable</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>an iterator over target items.</dd></dl>
</li>
</ul>
<a name="shouldProcessItemboolean shouldProcessItem (entity.KeyableBean target)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shouldProcessItem</h4>
<pre>boolean&nbsp;shouldProcessItem(<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&nbsp;target)</pre>
<div class="block">Whether a work item should be created for this target.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>target</code> - the bean to be checked</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if this bean is to be processed</dd></dl>
</li>
</ul>
<a name="logStackTraceForWorkItemvoid logStackTraceForWorkItem (entity.WorkItem workItem, java.lang.Throwable throwable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logStackTraceForWorkItem</h4>
<pre>void&nbsp;logStackTraceForWorkItem(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;workItem,
                            <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;throwable)</pre>
<div class="block">This method will be ced on each execution if there is an exception processing the work item.  It will
be ced upto max retry times.
This is a user exit so they may perform notification actions in the case.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>workItem</code> - the WorkItem that cause an exception</dd><dd><code>throwable</code> - the exception that was caught</dd></dl>
</li>
</ul>
<a name="processWorkItemvoid processWorkItem (entity.WorkItem item)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processWorkItem</h4>
<pre>void&nbsp;processWorkItem(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;item)</pre>
<div class="block">This will process this work item.  This is inside of its own transaction.

IMPLEMENTATION NOTE:
If an exception is thrown from this method, it will be retried.  Immediately if CDCE.
This is profiled with tag "WorkerProcessWorkItem"
This is logged with logger WorkQueue.Item
You may want to lock the target</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>item</code> - the WorkItem to process</dd></dl>
</li>
</ul>
<a name="workItemFailedvoid workItemFailed (entity.WorkItem workItem)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>workItemFailed</h4>
<pre>void&nbsp;workItemFailed(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;workItem)</pre>
<div class="block">This method is ced when the work item is being flagged as failed.  It will occur after the
number of retries has been exceeded and the next selection found that it has exceeded the max retry times.
(i.e., processtime * (maxretries + 1))</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>workItem</code> - the WorkItem that has been already processed maxRetry times</dd></dl>
</li>
</ul>
<a name="createBatchProcessgw.processes.BatchProcess createBatchProcess (java.lang.Object args)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBatchProcess</h4>
<pre><a href="../../gw/processes/BatchProcess.html" title="class in gw.processes">BatchProcess</a>&nbsp;createBatchProcess(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;args)</pre>
<div class="block">This will return the created batch process.  Normally this does not need to be
overridden instead you may override findTargets.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - the arguments passed to the batch process
Implementation note:  actually found a use case for implementing this.  These args can
be almost anything that can be serialized.</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="createWorkercom.guidewire.pl.system.workqueue.DistributedWorker createWorker ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWorker</h4>
<pre>com.guidewire.pl.system.workqueue.DistributedWorker&lt;<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&gt;&nbsp;createWorker()</pre>
<div class="block">This will return a worker that processes work items. This method cannot be overridden.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a worker that processes work items.</dd></dl>
</li>
</ul>
<a name="doesWriterNeedsArgumentboolean doesWriterNeedsArgument ()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doesWriterNeedsArgument</h4>
<pre>boolean&nbsp;doesWriterNeedsArgument()</pre>
<div class="block">Indicates if the writer can start from UI. Returns <code>false</code> and cannot be overridden.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getFindercom.guidewire.pl.system.workqueue.WorkQueueTargetFinder getFinder (java.lang.Object args)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFinder</h4>
<pre>com.guidewire.pl.system.workqueue.WorkQueueTargetFinder&lt;<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&gt;&nbsp;getFinder(<a href="http://java.sun.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;args)</pre>
<div class="block">This will return a target finder based on the the arguments. This method cannot be overridden.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - the args that where passed for this run</dd>
<dt><span class="strong">Returns:</span></dt><dd>a work item finder</dd></dl>
</li>
</ul>
<a name="handleExceptionboolean handleException (entity.WorkItem workItem, java.lang.Throwable exception, int consecutiveExceptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleException</h4>
<pre>boolean&nbsp;handleException(<a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;workItem,
                      <a href="http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;exception,
                      int&nbsp;consecutiveExceptions)</pre>
<div class="block">This will permit the work queue to add additional process when a exception is thrown.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>workItem</code> - the work item</dd><dd><code>exception</code> - the exception that was caught</dd><dd><code>consecutiveExceptions</code> - the number of consecutive exceptions</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="createWorkItementity.WorkItem createWorkItem (entity.KeyableBean target, gw.pl.persistence.core.Bundle safeBundle)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createWorkItem</h4>
<pre><a href="../../entity/WorkItem.html" title="class in entity">WorkItem</a>&nbsp;createWorkItem(<a href="../../entity/KeyableBean.html" title="class in entity">KeyableBean</a>&nbsp;target,
                      <a href="../../gw/pl/persistence/core/Bundle.html" title="class in gw.pl.persistence.core">Bundle</a>&nbsp;safeBundle)</pre>
<div class="block">This method will create a new work item.

IMPLEMENTATION NOTE:
The default implementation uses StandardWorkItem to contain the information.  It only
needs to be overridden if you want to use some other entity that is a delegate of WorkItem
for your work item.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>target</code> - the target object</dd><dd><code>safeBundle</code> - the bundle</dd>
<dt><span class="strong">Returns:</span></dt><dd>a new work item</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../gw/processes/WorkItemSetPurge.html" title="class in gw.processes"><span class="strong">Prev Class</span></a></li>
<li><a href="../../gw/processes/WorkQueueInstrumentation.html" title="class in gw.processes"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?gw/processes/WorkQueueBase.html" target="_top">Frames</a></li>
<li><a href="WorkQueueBase.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
