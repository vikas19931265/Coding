<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Combining Predicates with AND and OR Logic</title>
    <link rel="StyleSheet" href="css/querybuilder.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="querybuilder.10.01.html#2569471">Query Builder APIs</a> : <a class="WebWorks_Breadcrumb_Link" href="querybuilder.10.12.html#2569471">Restricting Queries with Predicates on Fields</a> : Combining Predicates with AND and OR Logic </span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="2569471">Combining Predicates with </a><span class="cvh_-_computer_voice_in_heading">AND</span> and <span class="cvh_-_computer_voice_in_heading">OR</span> Logic </h4>
      <div class="B_-_Body"><a name="2569472">Often you need more than one predicate in your query to select the items that you want in your result. For example, to select someone named “John Smith” generally requires you to specify two predicate expressions:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2569473">last_name = “Smith”</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2569474">first_name = “John</a></PRE>
      <div class="B_-_Body"><a name="2569475">To select the person you seek, you want both expressions to be true. That is, you want a person’s last name to be “Smith” </a><span class="Emphasis" style="font-style: italic">and</span> you want that same person’s first name to be “John.” You do not want either expression to be true. That is, you do not want to select people whose last names are “Smith” <span class="Emphasis" style="font-style: italic">or</span> first names are “John.” </div>
      <div class="B_-_Body"><a name="2569476">In contrast with the preceding example, there are times when you want to combine predicate expressions, any of which must be true to select the items that you want. For example, to select addresses from Chicago or Los Angeles also generally requires two predicates:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2569477">city = “Chicago”</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2569478">city = “Los Angeles”</a></PRE>
      <div class="B_-_Body"><a name="2569479">To select the addresses that you seek, you want either expression to be true. That is, you want an address to have “Chicago” as the city </a><span class="Emphasis" style="font-style: italic">or</span> you want it to have “Los Angeles.” </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2569480">Using </a><span class="cvh_-_computer_voice_in_heading">AND</span> to Combine Predicates that All Must Be True</h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2569481">In SQL, you combine predicates with the </a><span class="cv_-_computer_voice">AND</span> keyword if <span class="Emphasis" style="font-style: italic">all</span> must be true to include an item in the result. </div>
      <div class="CS_-_Code_Single_Line"><a name="2569482">WHERE last_name = "Smith" </a><span class="s_-_strong">AND</span> first_name = "John"</div>
      <div class="B_-_Body"><a name="2569483">With the query builder APIs, you combine predicates by calling predicate methods on the query object one after the other if </a><span class="e_-_emphasis">all</span> must be true. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2569484">query.compare("LastName", Equals, "Smith")</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2628988">query.compare("FirstName", Equals, "John")</a></PRE>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2628990">Using </a><span class="cvh_-_computer_voice_in_heading">OR</span> to Combine Predicates that Only One of which Must Be True</h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2628991">In SQL, you combine predicates with the OR keyword if </a><span class="Emphasis" style="font-style: italic">only one </span>must be true to include an item in the result. </div>
      <div class="CS_-_Code_Single_Line"><a name="2569488">WHERE city = "Chicago" </a><span class="s_-_strong">OR</span> city = "Los Angeles"</div>
      <div class="B_-_Body"><a name="2569489">With the query builder APIs, you combine predicates by calling the OR method on the query object if </a><span class="e_-_emphasis">only one</span> must be true. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2569490">query.</a><span class="s_-_strong">or</span>( \ orCriteria -&gt; {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569491">    orCriteria.compare("City", Equals, "Chicago")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569492">    orCriteria.compare("City", Equals, "Los Angeles")</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2569493">&nbsp;&nbsp;}</a></PRE>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2569497">Boolean Algebra of Predicates</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2569500">You can also use advanced Boolean algebra to combine predicates using logical AND and OR. To do this, use the </a><span class="cv_-_computer_voice">and</span> and <span class="cv_-_computer_voice">or</span> methods on queries, tables, and restrictions. The <span class="cv_-_computer_voice">and</span> and <span class="cv_-_computer_voice">or</span> methods modify the original query and add a clause to the query. This feature requires using and understanding the syntax of Gosu <span class="e_-_emphasis">blocks</span>. Blocks are special functions that you defined in-line within another function. For more information about blocks, see <a href="javascript:WWHClickedPopup('gosu', 'blocks.18.1.html#1445150', '');" title="Gosu Blocks">“Gosu Blocks”</a>.</div>
      <div class="B_-_Body"><a name="2869463">The default behavior of a new query is an implicit </a><span class="e_-_emphasis">logical AND</span> between its predicates. This documentation refers to this quality as a <span class="e_-_emphasis">predicate linking mode</span> of <span class="cv_-_computer_voice">AND</span>. A new query always has an implicit predicate linking mode of <span class="cv_-_computer_voice">AND</span>. However, the way you apply <span class="cv_-_computer_voice">and</span> and <span class="cv_-_computer_voice">or</span> methods to a query can change the default linking mode of a new series of predicates. </div>
      <div class="B_-_Body"><a name="2873310">The </a><span class="cv_-_computer_voice">and</span> and <span class="cv_-_computer_voice">or</span> methods change only the linking mode of predicates defined within the block that you pass to the method. The <span class="cv_-_computer_voice">and</span> and <span class="cv_-_computer_voice">or</span> methods never change the linking mode of predicates that you already added. Similarly, <span class="cv_-_computer_voice">and</span> and <span class="cv_-_computer_voice">or</span> methods never change the linking mode of previous predicates compared to the new group of predicates that you are about to add.</div>
      <div class="B_-_Body"><a name="2569508">The </a><span class="cv_-_computer_voice">or</span> method has the following effect on the predicate linking mode of query:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569509">To previously specified restrictions, add one parenthetical phrase.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569510">Link this new parenthetical phrase to previous restrictions in the linking mode already in effect.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569511">The block passed to the </a><span class="cv_-_computer_voice">or</span> method includes a series of predicates. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569512">For predicates inside the block, use a predicate linking mode of OR between them.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569513">One of the predicates defined in the block could instead be another AND or OR grouping, each created with another usage of the </a><span class="cv_-_computer_voice">and</span> or <span class="cv_-_computer_voice">or</span> methods.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2569514">The </a><span class="cv_-_computer_voice">and</span> method has the following effect on the predicate linking mode of query:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569515">To the previous specified restrictions, add one parenthetical phrase.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569516">Link this new parenthetical phrase to previous restrictions in the linking in the linking mode already in effect.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569517">The block passed to the </a><span class="cv_-_computer_voice">and</span> method includes a series of predicates. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569518">For new predicates inside the block, use a predicate linking mode of AND between them. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569519">One of the predicates defined in the block could instead be another AND or OR grouping, each created using another embedded </a><span class="cv_-_computer_voice">and</span> and <span class="cv_-_computer_voice">or</span> methods.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2569520">The syntax of the </a><span class="cvt_-_computer_voice_table">or</span> method is</div>
      <div class="CS_-_Code_Single_Line"><a name="2569521">query.or( \ </a><span class="pc_-_parameter_in_code">OR_GROUPING_VAR</span> -&gt; {</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569522">&nbsp;&nbsp;</a><span class="pc_-_parameter_in_code">OR_GROUPING_VAR</span>.<span class="pc_-_parameter_in_code">PredicateOrBooleanGrouping(...)</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569523">&nbsp;&nbsp;</a><span class="pc_-_parameter_in_code">OR_GROUPING_VAR</span>.<span class="pc_-_parameter_in_code">PredicateOrBooleanGrouping(...)</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569524">&nbsp;&nbsp;</a><span class="pc_-_parameter_in_code">OR_GROUPING_VAR</span>.<span class="pc_-_parameter_in_code">PredicateOrBooleanGrouping(...)</span></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="pc_-_parameter_in_code"><a name="2569525">&nbsp;&nbsp;[...]</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569526">}</a></PRE>
      <div class="B_-_Body"><a name="2569527">The syntax of the </a><span class="cvt_-_computer_voice_table">and</span> method is</div>
      <div class="CS_-_Code_Single_Line"><a name="2569528">query.and( \ </a><span class="pc_-_parameter_in_code">AND_GROUPING_VAR</span> -&gt; {</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569529">&nbsp;&nbsp;</a><span class="pc_-_parameter_in_code">AND_GROUPING_VAR</span>.<span class="pc_-_parameter_in_code">PredicateOrBooleanGrouping(...)</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569530">&nbsp;&nbsp;</a><span class="pc_-_parameter_in_code">AND_GROUPING_VAR</span>.<span class="pc_-_parameter_in_code">PredicateOrBooleanGrouping(...)</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569531">&nbsp;&nbsp;</a><span class="pc_-_parameter_in_code">AND_GROUPING_VAR</span>.<span class="pc_-_parameter_in_code">PredicateOrBooleanGrouping(...)</span></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: italic; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="pc_-_parameter_in_code"><a name="2569532">&nbsp;&nbsp;[...]</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569533">}</a></PRE>
      <div class="B_-_Body"><a name="2569534">Each use of </a><span class="pc_-_parameter_in_code">PredicateOrBooleanGrouping</span> could be either:</div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2569535">A predicate method such as </a><span class="cv_-_computer_voice">compare</span> or <span class="cv_-_computer_voice">between.</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2569536">Another Boolean grouping by calling the </a><span class="cv_-_computer_voice">or</span> or <span class="cv_-_computer_voice">and</span> method again. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2569537">Notice that within the block, you call the predicate and Boolean grouping methods on the argument passed to the block itself. Do not call the predicate and Boolean grouping methods on the original query.</a></div>
      <div class="B_-_Body"><a name="2569538">In the above examples, </a><span class="pc_-_parameter_in_code">OR_GROUPING_VAR</span> and <span class="pc_-_parameter_in_code">AND_GROUPING_VAR</span> refer to a grouping variable name that helps identify the “or” or “and” link mode in each peer group of predicates. You can call these block parameter variables whatever you want. However, Guidewire recommends naming the block parameter variable with names that indicate one of the following:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2569539">Name reminds you of the linking mode</a></span> – Use variables that remind you of the linking mode between predicates in that group, for example <span class="cv_-_computer_voice">or1</span> and <span class="cv_-_computer_voice">and1</span>. Note that you cannot call the variable simply <span class="cv_-_computer_voice">or</span> or <span class="cv_-_computer_voice">and</span>, since those are language keywords. Instead, add numbers or other unique identifiers to the words “and” and “or”.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2569540">Name with specific semantic meaning</a></span> – For example, use <span class="cv_-_computer_voice">carColors</span> for a section that checks for car colors.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2569541">For example, the following simple example links three predicates together with logical OR. In other words, the query returns rows if </a><span class="e_-_emphasis">any</span> of the three predicates are true for that row.</div>
      <PRE class="CF_-_Code_First_Line"><a name="2569542">var q1 = Query.make(MyEntity)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569543">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569544">q1.or( \ or1 -&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569545">&nbsp;&nbsp;or1.compare("Priority", GreaterThan, 11)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569546">&nbsp;&nbsp;or1.compare("ItemNum", LessThan, 33)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569547">&nbsp;&nbsp;or1.compare("DivisionNumber", GreaterThan, 6)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2569548">})</a></PRE>
      <div class="B_-_Body"><a name="2569549">For example, the following simple example links three predicates together with logical AND. In other words, the query returns rows if </a><span class="e_-_emphasis">all</span> three predicates are true for that row. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2569550">var q1 = Query.make(MyEntity)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569551">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569552">q1.and( \ and1 -&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569553">&nbsp;&nbsp;and1.compare("Priority", GreaterThan, 11)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569554">&nbsp;&nbsp;and1.compare("ItemNum", LessThan, 33)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569555">&nbsp;&nbsp;and1.compare("DivisionNumber", GreaterThan, 6)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2569556">})</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2569557">This is functionally is equivalent to simple linking of predicates, where the default linking mode is AND.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2569558">var q1 = Query.make(MyEntity)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569559">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569560">q1.compare("Priority", GreaterThan, 11)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569561">q1.compare("ItemNum", LessThan, 33)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569562">q1.compare("DivisionNumber", GreaterThan, 6)</a></PRE>
      <div class="B_-_Body"><a name="2569563">The power of the query building system is the ability to combine AND and OR groupings. For example, suppose we wanted to represent the following pseudo-code query:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2569564">(Priority &gt; 11) OR ( (ItemNum &lt; 33) AND (DivisionNumber &gt; 6) )</a></div>
      <div class="B_-_Body"><a name="2569565">The following query represents this pseudo-code query using Gosu query builders:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569566">q1.or( \ or1 -&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569567">&nbsp;&nbsp;or1.compare("Priority", GreaterThan, 11)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569568">&nbsp;&nbsp;or1.and(\ and1 -&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569569">&nbsp;&nbsp;&nbsp;&nbsp;and1.compare("ItemNum", LessThan, 33)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569570">&nbsp;&nbsp;&nbsp;&nbsp;and1.compare("DivisionNumber", GreaterThan, 6)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569571">&nbsp;&nbsp;})</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2569572">})</a></PRE>
      <div class="B_-_Body"><a name="2569573">Notice that the outer “or” contains two items, and the second item is an AND grouping. This directly parallels the structure of the parentheses in the pseudo-code.</a></div>
      <div class="B_-_Body"><a name="2569574">You can combine and populate these AND and OR groupings with any of the following:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569575">Predicate methods</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569576">Database functions</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569577">Subselect operations</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2569578">If your query consists of a large number of predicates linked by </a><span class="cv_-_computer_voice">OR</span> clauses, there is an alternative approach that might provide better performance in production, depending on your data:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569579">If the OR clauses all test a single property, rewrite and collapse the tests into a single compare predicate using the </a><span class="cv_-_computer_voice">compareIn</span> method, which takes a list of values. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2569580">For example, suppose your query checks a property for a color value to see if it matches one of 30 color values, use </a><span class="cv_-_computer_voice">compareIn</span> for this type of query.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2569581">Otherwise, you might consider creating multiple subqueries and using a </a><span class="cv_-_computer_voice">union</span> clause to combine subqueries. Consider trying your query with both approaches, and then test production performance with a large number of records.</div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="2569586">Chaining Inside </a><span class="cvh_-_computer_voice_in_heading">AND</span> and <span class="cvh_-_computer_voice_in_heading">OR</span> Groupings</h6>
      <div class="B_-_Body"><a name="2569587">The earlier examples used a pattern that looks like the following:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2569588">var q1 = Query.make(MyEntity)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569589">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569590">q1.or( \ or1 -&gt; {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569591">&nbsp;&nbsp;or1.compare("Priority", GreaterThan, 11)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569592">&nbsp;&nbsp;or1.compare("ItemNum", LessThan, 33)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2569593">&nbsp;&nbsp;or1.compare("DivisionNumber", GreaterThan, 6)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2569594">})</a></PRE>
      <div class="B_-_Body"><a name="2569595">In theory, you could use method chaining of query builder APIs to make it fit on one line, rather than using three different lines. However, in this case it might make the code harder to understand. </a></div>
      <div class="B_-_Body"><a name="2569596">The naming of the Gosu block variable with </a><span class="cv_-_computer_voice">or</span> in the name more closely matches the English construction that would describe the final output. In other words, there is an OR clause between each one. Consider using this pattern in the example, and avoid chaining the predicates together.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>