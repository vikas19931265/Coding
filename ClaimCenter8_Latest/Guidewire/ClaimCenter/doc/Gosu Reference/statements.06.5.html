<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Gosu Functions</title>
    <link rel="StyleSheet" href="css/statements.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="statements.06.1.html#1440333">Statements</a> : Gosu Functions</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1440333">Gosu Functions</a></h3>
      <div class="B_-_Body"><a name="1140503">Functions encapsulate a series of Gosu statements to perform an action and optionally return a value. Generally speaking, functions exist attached to a type. For example, declaring functions within a class. As in other object-oriented languages, </a><span class="e_-_emphasis">functions declared on a type</span> are also called <span class="e_-_emphasis">methods</span>.</div>
      <div class="B_-_Body"><a name="1482939">In the context of a Gosu program (a </a><span class="cv_-_computer_voice">.gsp</span> file), you can declare functions at the top level, without attaching them explicitly to a class. You can then call this function from other places in that Gosu program.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1482958">The built-in </a><span class="cv_-_computer_voice">print</span> function is special because it is always in scope, and is not attached to a type. It is the only true global function in Gosu.</div>
      <div class="B_-_Body"><a name="1478818">Gosu does not support functions defined within other functions. However, you can use the Gosu feature called blocks to do something similar. See </a><a href="javascript:WWHClickedPopup('gosu', 'blocks.18.2.html#1442471', '');" title="What Are Blocks?">“What Are Blocks?”</a> for more information.</div>
      <div class="B_-_Body"><a name="1440874">Unlike Java, Gosu does not support variable argument functions (so-called </a><span class="cv_-_computer_voice">vararg</span> functions), meaning that Gosu does not support arguments with “<span class="cv_-_computer_voice">...</span>” arguments.</div>
      <div class="B_-_Body"><a name="1440875">Gosu permits you to specify only type literals for a function’s return type. Gosu does not support other expressions that might evaluate (indirectly) to a type.</a></div>
      <div class="B_-_Body"><a name="1278142">Gosu requires that you provide the return type in the function definition, unless the return type is </a><span class="cv_-_computer_voice">void</span> (no return value). If the return type void, omit the type and the colon before it. Also, any <span class="cv_-_computer_voice">return</span> statement must return a type that matches the declared function return type. A missing return type or a mismatched return value generates a compiler error. </div>
      <h6 class="HS_-_Head_Sub"><a name="1138430">Syntax</a></h6>
      <PRE class="CF_-_Code_First_Line"><span class="pc_-_parameter_in_code"><a name="1140551">[modifiers]</a></span> function <span class="pc_-_parameter_in_code">IDENTIFIER</span> ( <span class="pc_-_parameter_in_code">argument-declaration-list</span> ) <span class="pc_-_parameter_in_code">[:type-literal]</span> {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140553">&nbsp;&nbsp;</a><span class="pc_-_parameter_in_code">function-body</span></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1140554">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="1140567">Examples</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="1140571">function square( n : Number ) : Number {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140573">&nbsp;&nbsp;return n * n </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140574">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140575">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1278159">// Compile error "Cannot return a value from a void function."</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140576">private function myfunction() { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140578">&nbsp;&nbsp;return "test for null value" </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140582">} </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140583">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266504">function fibonacci( n : Number ) : Number { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266505">  if (n == 0) { return 0 }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266506">  else if (n == 1 ) { return 1 }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266507">  else {return fibonacci( n - 1 ) + fibonacci( n - 2 ) }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1156053">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1266511">&nbsp;&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140597">function concat ( str1:String, str2:String ) : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1140600">&nbsp;&nbsp;return str1 + str2 </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1140601">}</a></PRE>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1441083">For more information about modifiers that can appear before the word </a><span class="cv_-_computer_voice">function</span> in class definitions, see <a href="javascript:WWHClickedPopup('gosu', 'classes.12.5.html#2445687', '');" title="Modifiers">“Modifiers”</a>.</div>
      <div class="B_-_Body"><a name="1441149">If the return type is not </a><span class="cv_-_computer_voice">void</span>, <span class="s_-_strong">all</span> possible code paths must return a value in a method that declares a return type. </div>
      <div class="B_-_Body"><a name="1482990">In other words, if any code path contains a </a><span class="cv_-_computer_voice">return</span> statement, Gosu requires a <span class="cv_-_computer_voice">return</span> statement for all possible paths through the function. The set of all paths includes all outcomes of conditional execution, such as <span class="cv_-_computer_voice">if</span> and <span class="cv_-_computer_voice">switch</span> statements. </div>
      <div class="B_-_Body"><a name="1441165">For example, the following method is invalid:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1441166">//invalid...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1478915">class MyClass {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441167">&nbsp;&nbsp;function myfunction(myParameter) : boolean {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441168">&nbsp;&nbsp;&nbsp;&nbsp;if myParameter==1</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441169">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return true</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441170">&nbsp;&nbsp;&nbsp;&nbsp;if myParameter==2</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441172">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1441173">}</a></PRE>
      <div class="B_-_Body"><a name="1441174">Gosu generates a “Missing Return Statement” error for this function and you must fix this error. The Gosu compiler sees two separate </a><span class="cv_-_computer_voice">if</span> expressions for a total of four total code paths. Even if you believe the function is always used with <span class="p_-_parameter">myParameter</span> set to value 1 or 2 but no other value, you must fix the error. To fix the error, rewrite the code so that all code paths contain a <span class="cv_-_computer_voice">return</span> statement. </div>
      <div class="B_-_Body"><a name="1441175">For example, you can fix the earlier example using an </a><span class="cv_-_computer_voice">else</span> clause:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1441176">class MyClass {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441177">&nbsp;&nbsp;function myfunction(myParameter) : boolean {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441178">&nbsp;&nbsp;&nbsp;&nbsp;if myParameter==1</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441179">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return true</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441180">&nbsp;&nbsp;&nbsp;&nbsp;else</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441181">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return false</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1441182">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1441183">}</a></PRE>
      <div class="B_-_Body"><a name="1441184">Similarly, if you use a </a><span class="cv_-_computer_voice">switch</span> statement, consider using an <span class="cv_-_computer_voice">else</span> section.</div>
      <div class="B_-_Body"><a name="1441185">This strict requirement for </a><span class="cv_-_computer_voice">return</span> statements mirrors the analogous requirements in the Java language.</div>
      <h4 class="H2_-_Heading_2"><a name="1483902">Named Arguments and Argument Defaults</a></h4>
      <div class="B_-_Body"><a name="1483903">In code that calls functions, you can specify argument names explicitly rather than relying on matching the declaration order of the arguments. This helps make your code more readable. For example, typical method calls might look like the following:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1483568">someMethod(true, false) // what do those values represent? difficult to tell visually</a></div>
      <div class="B_-_Body"><a name="1483569">Instead of passing simply a series of one or more comma-separated arguments, pass a colon, then the argument name, then the equals sign, then the value. </a></div>
      <div class="B_-_Body"><a name="1484218">For example:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1484219">someMethod(:redisplay=true, :sendUpdate=false) // easy to read code!</a></div>
      <div class="B_-_Body"><a name="1483943">Additionally, this feature lets you provide default argument values in function declarations. The function caller can omit that argument. If the function caller passes the argument, the passed-in value overrides any declared default value. To declare a default, follow the argument name with an equals sign and then the value.</a></div>
      <div class="B_-_Body"><a name="1483552">To demonstrate default arguments, imagine a function that printed strings with a prefix:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1483219">class MyClass {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483196">var _names : java.util.ArrayList&lt;String&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483205">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483212">construct( strings : java.util.ArrayList&lt;String&gt;) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483229">&nbsp;&nbsp;_strings = strings</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483252">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483259">&nbsp;</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1483187">&nbsp;&nbsp;function printWithPrefix( prefix : String = " ---&gt; ") {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483123">    for( n in _strings ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483124">      print( prefix + n ) // used a passed-in argument, or use the default " ---&gt; " if omitted</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483125">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483180">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483266">}</a></PRE>
      <div class="B_-_Body"><a name="1484576">Notice that in the </a><span class="cv_-_computer_voice">printWithPrefix</span> declaration, the prefix value has the default value <span class="cv_-_computer_voice">" ---&gt; "</span><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">. </span>To use the default values, call this class with the optional arguments omitted. </div>
      <div class="B_-_Body"><a name="1484577">The following example shows calling the </a><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">printWithPrefix</span> method using the default and also a separate time overriding the default.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1483057">var c = new MyClass({"hello", "there"})</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483058">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483643">// Because the argument has a default, it is optional -- you can omit it</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483644">c.printWithPrefix() </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483645">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483657">// Alternatively, specify the parameter to pass and override any default if one exists</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1483658">c.printWithPrefix(:prefix= " next string is:") </a></PRE>
      <div class="B_-_Body"><a name="1484237">The Gosu named arguments feature requires that the method name is not already overloaded on the class.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="1484935">Calling Conventions</a></h6>
      <div class="B_-_Body"><a name="1484967">When you call a function with a multiple arguments, you can name some of the arguments and not others. Any non-named arguments that you call must match in left-to-right order any </a><span class="s_-_strong">arguments without defaults</span>. </div>
      <div class="B_-_Body"><a name="1485374">Gosu considers any additional passed-in non-named arguments as representing the arguments with defaults, passed in the same order (left-to-right) as they are declared in the function.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1483028">Public and Private Functions</a></h4>
      <div class="B_-_Body"><a name="1142381">A function is public by default, meaning that it can be called from any Gosu code. In contrast, a private function can be called only within the library in which it is defined. For example, suppose you have the following two functions defined in a library:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1142383">public function funcA() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142385">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142386">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142387">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142399">private function funcB() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1142389">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1142390">}</a></PRE>
      <div class="B_-_Body"><a name="1142391">Because </a><span class="cv_-_computer_voice">funcA()</span> is defined as public, it can be called from any other Gosu expression. However, <span class="cv_-_computer_voice">funcB()</span> is private, and therefore is not valid anywhere except within the library.</div>
      <div class="B_-_Body"><a name="1142392">For example, a function in another library could call </a><span class="cv_-_computer_voice">funcA()</span>, but it could not call the private <span class="cv_-_computer_voice">funcB()</span>. Because <span class="cv_-_computer_voice">funcA()</span> is defined in the same library as <span class="cv_-_computer_voice">funcB()</span>, however, <span class="cv_-_computer_voice">funcA()</span> can call <span class="cv_-_computer_voice">funcB()</span>.</div>
      <div class="B_-_Body"><a name="1142393">Do </a><span class="s_-_strong">not</span> make any function public without good reason. Therefore, mark a function as private if it is defined only for use inside the library. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1368180">See </a><a href="javascript:WWHClickedPopup('gosu', 'classes.12.5.html#2445687', '');" title="Modifiers">“Modifiers”</a> for more information on class and function level access modifiers.</div>
      <div class="B_-_Body"><a name="1514365">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>