<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Find Expressions</title>
    <link rel="StyleSheet" href="css/find.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;">Find Expressions</span></div>
    <hr align="left" />
    <blockquote>
      <h2 class="CT_-_Chapter_Title"><span class="cvh_-_computer_voice_in_heading"><a name="1407522">Find</a></span> Expressions</h2>
      <div class="B_-_Body"><a name="1407523">A Gosu </a><span class="cv_-_computer_voice">find</span> expression lets you find entity instances in the database and then iterate the found results. </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1407524">Although </a><span class="cv_-_computer_voice">find</span> expressions are supported, the query builder APIs provide an alternative that supports more fully the features of SQL Select statements. For new code, Guidewire <span class="s_-_strong">strongly recommends</span> that you use the newer query builder APIs rather than <span class="cv_-_computer_voice">find</span> expressions. For more information, see <a href="javascript:WWHClickedPopup('gosu', 'querybuilder.10.01.html#3266101', '');" title="Query Builder APIs">“Query Builder APIs”</a>.</div>
      <div class="zChapterTopics">This topic includes:<a name="1365638">&nbsp;</a></div>
      <div class="zChapterTopic_outer" style="margin-left: 57.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="zChapterTopic_inner" style="width: 9.899999999999998pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="zChapterTopic_inner"><a href="javascript:WWHClickedPopup('gosu', 'find.html#1425943', '');" title="Find Expressions" name="1482836">Basic Find Expressions</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="zChapterTopic_outer" style="margin-left: 57.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="zChapterTopic_inner" style="width: 9.899999999999998pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="zChapterTopic_inner"><a href="javascript:WWHClickedPopup('gosu', 'find.html#1359679', '');" title="Find Expressions" name="1482841">Using Exists Expressions for Array Properties in Find Expressions</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="zChapterTopic_outer" style="margin-left: 57.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="zChapterTopic_inner" style="width: 9.899999999999998pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="zChapterTopic_inner"><a href="javascript:WWHClickedPopup('gosu', 'find.html#1359890', '');" title="Find Expressions" name="1482846">Find Expressions that Use Special Substring Keywords</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="zChapterTopic_outer" style="margin-left: 57.6pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="zChapterTopic_inner" style="width: 9.899999999999998pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="zChapterTopic_inner"><a href="javascript:WWHClickedPopup('gosu', 'find.html#1289012', '');" title="Find Expressions" name="1482856">Using the Results of Find Expressions (Using Query Objects)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h3 class="H1NB_-_Heading_1_No_Break"><a name="1425943">Basic </a><span class="cvh_-_computer_voice_in_heading">Find</span> Expressions</h3>
      <div class="B_-_Body"><a name="1425945">Gosu </a><span class="cv_-_computer_voice">find</span> expressions let you query the database using the existing product data model, including data model extensions. You can write useful queries concisely in a single Gosu statement with <span class="cv_-_computer_voice">find</span> expression. </div>
      <div class="B_-_Body"><a name="1358246">A </a><span class="cv_-_computer_voice">find</span> expression uses the following syntax:</div>
      <div class="CS_-_Code_Single_Line"><a name="1137044">var </a><span class="pc_-_parameter_in_code">queryInstance</span> = <span class="s_-_strong">find</span> <span class="s_-_strong">(</span>[var] <span class="pc_-_parameter_in_code">findIdentifier</span> <span class="s_-_strong">in</span> <span class="pc_-_parameter_in_code">findPathExpression</span> <span class="s_-_strong">where</span> <span class="pc_-_parameter_in_code">findCritreiaExpression</span><span class="s_-_strong" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7pt; font-style: normal">)</span></div>
      <div class="B_-_Body"><a name="1137286">A </a><span class="cv_-_computer_voice">find</span> expression has the following parts:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1408150">Identifier</a></span> – The symbol you choose for <span class="p_-_parameter">findIdentifier</span> serves as shorthand for the entity type that is specified by <span class="p_-_parameter">findPathExpression</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1411736">In clause</a></span> – The in clause begins with the <span class="cv_-_computer_voice">in</span> keyword, followed by <span class="p_-_parameter">findPathExpression</span>, which specifies the entity type to find. Find path expressions begin with an entity type literal end, and they end with an entity type literal, not a property. The entity type literal at the end of the path expression sets the type of instances that the expression finds.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1412366">W</a></span><span class="cvh_-_computer_voice_in_heading" style="color: #000000; font-family: Arial; font-size: 8.4pt; font-style: normal; font-weight: bold">here</span><span class="ri_-_run_in_header"> clause</span> – The where clause begins with the <span class="cv_-_computer_voice">where</span> keyword, followed by <span class="p_-_parameter">findCriteriaExpression</span>, which contains one or more conditional expressions. The left-hand operands are object path expressions that begin with <span class="cv_-_computer_voice">findIdentifier</span> and are relative to the entity type specified by <span class="p_-_parameter">findPathExpression</span>. You can use the operators <span class="cv_-_computer_voice">==</span>, <span class="cv_-_computer_voice">!=</span>, <span class="cv_-_computer_voice">&gt;</span>, <span class="cv_-_computer_voice">&lt;</span>, <span class="cv_-_computer_voice">&gt;=</span>, and <span class="cv_-_computer_voice">&lt;=</span>. You can group the conditional expressions with the logical operators <span class="cv_-_computer_voice">or</span> and <span class="cv_-_computer_voice">and</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1409248">The following sample Gosu code finds all activities that are approved. The find path expression begins and ends with the </a><span class="cv_-_computer_voice">Activity</span> entity type, so the found instances are activities. The identifier <span class="cv_-_computer_voice">a</span> is shorthand for <span class="cv_-_computer_voice">Activity</span> in the object path expression in the where clause. This example queries a direct property of <span class="cv_-_computer_voice">Activity</span> instances, the <span class="cv_-_computer_voice">approved</span> property.</div>
      <div class="CS_-_Code_Single_Line"><a name="1409380">var findQuery = find&nbsp;(</a><span class="s_-_strong">activity</span> in <span class="s_-_strong">Activity</span> where <span class="s_-_strong">activity</span>.approved)&nbsp;&nbsp;// Find approved activities.</div>
      <div class="B_-_Body"><a name="1413303">The following sample Gosu code finds all activities assigned to external users. This example queries an indirect property of </a><span class="cv_-_computer_voice">Activity</span> instances, the <span class="cv_-_computer_voice">User.ExternalUser</span> property that you access through the <span class="cv_-_computer_voice">AssignedUser</span> foreign key property on <span class="cv_-_computer_voice">Activity</span>.<span class="cv_-_computer_voice"> </span></div>
      <PRE class="CF_-_Code_First_Line"><a name="1413404">var findQuery = find (</a><span class="s_-_strong">activity</span> in <span class="s_-_strong">Activity</span> where &nbsp;// Find activities assigned to external users.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1413478">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><span class="s_-_strong">activity</span>.AssignedUser.ExternalUser</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1428903">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></PRE>
      <div class="B_-_Body"><a name="1409905">At runtime, </a><span class="cv_-_computer_voice">find</span> expressions evaluate to <span class="cv_-_computer_voice">Query</span> objects. A <span class="cv_-_computer_voice">find</span> expression does not submit SQL queries to the database until your code attempts to access information about or retrieve items from the query object. </div>
      <h6 class="HS_-_Head_Sub"><a name="1413503">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1413505">For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'find.html#1289012', '');" title="Find Expressions">“Using the Results of Find Expressions (Using Query Objects)”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1417459">To learn how to find entity instances based on property values on instances in arrays, </a><a href="javascript:WWHClickedPopup('gosu', 'find.html#1359679', '');" title="Find Expressions">“Using Exists Expressions for Array Properties in Find Expressions”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><span class="cvh_-_computer_voice_in_heading"><a name="1417461">Find</a></span> Expressions that Use <span class="cvh_-_computer_voice_in_heading">AND/OR</span> Operators</h4>
      <div class="B_-_Body"><a name="1417462">Logical </a><span class="cv_-_computer_voice">AND</span> or <span class="cv_-_computer_voice">OR</span> expressions in a <span class="cv_-_computer_voice">where</span> clause are fundamentally the same as those used elsewhere in Gosu. </div>
      <div class="B_-_Body"><a name="1167643">The following sample Gosu code includes claims with loss types of AUTO while excluding claims with accident types 46 by using the </a><span class="cv_-_computer_voice">AND</span> operator.</div>
      <div class="CS_-_Code_Single_Line"><a name="1137071">var q = find (c in Claim where c.LossType == "AUTO" </a><span class="s_-_strong">AND</span> c.AccidentType != "46")</div>
      <div class="B_-_Body"><a name="1359423">The following example uses the </a><span class="cv_-_computer_voice">OR</span> operator to expands the criteria from the previous example. The expanded criteria include claims with loss types that are null in addition to claims with loss types of AUTO but not with accident types of 46. </div>
      <div class="CS_-_Code_Single_Line"><a name="1137077">var q = find (c in Claim where c.LossType == null </a><span class="s_-_strong">OR</span> c.LossType == "AUTO" <span class="s_-_strong">AND</span> c.AccidentType != "46" )</div>
      <div class="B_-_Body"><a name="1433295">The preceding example includes the same items as first example does, but adds to the result claims with null loss types regardless of accident type. The </a><span class="cv_-_computer_voice">AND</span> operator has precedence over the <span class="cv_-_computer_voice">OR</span> operator. To change the criteria so that Gosu evaluates the <span class="cv_-_computer_voice">OR</span> operator first, use parenthesis to specify the order of evaluation.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1433296">var q = find (c in Claim where </a><span class="s_-_strong">(</span>c.LossType == null <span class="s_-_strong">OR</span> c.LossType == "AUTO"<span class="s_-_strong">)</span> <span class="s_-_strong">AND</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1433297">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.AccidentType != "46"</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1433302">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)</a></PRE>
      <h4 class="H2_-_Heading_2"><span class="cvh_-_computer_voice_in_heading"><a name="1137084">Find</a></span> Expressions that Use Equality and Relational Operators</h4>
      <div class="B_-_Body"><a name="1137782">Gosu supports the following equality and relational operators in the where clauses of </a><span class="cv_-_computer_voice">find</span> expressions:</div>
      <div class="T_-_Table"><a name="1361377">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1361398">Equality expressions </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="1361400">==</a></span></div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="1361401">!=</a></span></div>
          </td>
        </tr>
      </table>
      <div class="T_-_Table"><a name="1361394">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1361403">Relational expressions </a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="1361405">&lt;</a></span></div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="1361406">&gt;</a></span></div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="1361407">&lt;=</a></span></div>
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="1361408">&gt;=</a></span></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="1359464">Equality and relational expressions in </a><span class="cv_-_computer_voice">where</span> clauses are fundamentally the same as those used elsewhere in Gosu. However, there are two restrictions that differentiate these conditional expressions if used in a <span class="cv_-_computer_voice">where</span> clause:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1359466">Left-hand operand must be a relative query path expression</a></span> – The left-hand side of the operator must be an object path expression that beings with the identifier of the <span class="cv_-_computer_voice">find</span> expression. In addition the query path must only be one property deep, which means only the identifier’s immediate properties can be referenced. For instance, if the query started with “<span class="cv_-_computer_voice">find c in Claim where</span> …”, then the expression <span class="cv_-_computer_voice">c.AssignedGroup</span> is legal. However, <span class="cv_-_computer_voice">c.AssignedGroup.GroupType</span> is illegal because the property <span class="cv_-_computer_voice">GroupType</span> is not a direct property of <span class="cv_-_computer_voice">Claim</span>. The previous examples all demonstrate this rule. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1359512">If you need </a><span class="cv_-_computer_voice">where</span> clause expressions that traverse more deeply in a path expression than one level (direct properties), use an <span class="cv_-_computer_voice">exists</span> expression in your <span class="cv_-_computer_voice">find</span> expression. For more information, see <a href="javascript:WWHClickedPopup('gosu', 'find.html#1359679', '');" title="Find Expressions">“Using Exists Expressions for Array Properties in Find Expressions”</a>.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1137089">Right-hand operand must not include a query path expression</a></span> – The right-hand side of the operator must not reference a find path expression. This means that conditional expressions cannot compare query properties dynamically. All other Gosu expressions are legal on the right-hand side. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1360718">There are some subtle distinctions:</a></div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="1360707">The expression </a><span class="cv_-_computer_voice">Claim.LossDate == Exposure.AssignmentDate</span> is invalid because <span class="cv_-_computer_voice">Exposure.AssignmentDate</span> is a query path expression and not an object path expression. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="1360708">The expression </a><span class="cv_-_computer_voice">Claim.LossDate == exposure.AssignmentDate</span> is valid, assuming that <span class="cv_-_computer_voice">exposure</span> is an instance of an exposure (an instance of the <span class="cv_-_computer_voice">Exposure</span> entity type).</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1137091">The precedence rules for equality and relational expressions if used in a where clause are the same as within other Gosu constructs. This means that relational operators always have precedence over equality operators.</a></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1437912">You cannot reference virtual properties or methods of entity types in a </a><span class="cv_-_computer_voice">find</span> expression.</div>
      <div class="B_-_Body"><a name="1437908">Because a </a><span class="cv_-_computer_voice">find</span> expression is a high-level abstraction for generating database SQL queries, <span class="e_-_emphasis">virtual</span> properties or method calls are not supported in the <span class="cv_-_computer_voice">where</span> clause of a <span class="cv_-_computer_voice">find</span> expression. A property is virtual if Gosu generates it dynamically by Gosu at the time it is accessed. Virtual properties do not directly mirror a single actual database column so there is typically no direct translation of what the corresponding SQL would be. If you are not sure whether a property is virtual, refer to the application <span class="e_-_emphasis">Data Dictionary</span>.</div>
      <h6 class="HS_-_Head_Sub"><a name="1437925">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'expressions.05.06.html#1572522', '');" title="Equality Expressions" name="1437947">“Equality Expressions”</a> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'expressions.05.11.html#1551298', '');" title="Relational Expressions" name="1437964">“Relational Expressions”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'classes.12.4.html#2447772', '');" title="Properties" name="1361804">“Properties”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><span class="cvh_-_computer_voice_in_heading"><a name="1359589">Find</a></span> Expressions that Use <span class="cvh_-_computer_voice_in_heading">Where...In</span> Clauses</h4>
      <div class="B_-_Body"><a name="1137093">To test if the value on the left hand side is present in an array, use an additional </a><span class="cv_-_computer_voice">in</span> clause from within the <span class="cv_-_computer_voice">where</span> clause. </div>
      <div class="B_-_Body"><a name="1137095">For instance, the following example finds claims with a </a><span class="cv_-_computer_voice">LossCause</span> matching one or more literal values in a dynamically created array.</div>
      <div class="CS_-_Code_Single_Line"><a name="1137097">find( c in Claim where c.LossCause in new LossCause[] {"vandalism","theftparts","theftentire"} )</a></div>
      <div class="B_-_Body"><a name="1137099">This next example finds all the activities directly related to a specified claim’s matters.</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1137101">find( a in Activity where a.Matter in claim.Matters )</a></div>
      <div class="B_-_Body"><a name="1359676">As with equality and relational operators, the </a><span class="cv_-_computer_voice">in</span> operator requires a relative query expression on the left-hand side. In addition, the right hand side must be coercible to an array that is compatible with the left-hand side’s type. Consequently, the legal right hand side values include arrays, collections, sets, and <span class="cv_-_computer_voice">String</span> objects (strings are treated as arrays of characters).</div>
      <h4 class="H2_-_Heading_2"><span class="cvh_-_computer_voice_in_heading"><a name="1370677">Find</a></span> Expressions and Non-Equality Comparisons</h4>
      <div class="B_-_Body"><a name="1370719">Sometimes database columns are defined as not required. Columns defined this way can contain null values. In Guidewire data model metadata files, columns that allow null values include the attribute </a><span class="cv_-_computer_voice">nullok</span> in the <span class="cv_-_computer_voice">column</span> elements that define them. In the <span class="e_-_emphasis">Data Dictionary</span>, columns that allow null values are absent the notation <span class="cv_-_computer_voice">(non‑null)</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1371193">SQL Queries and Non-Equality Comparisons of Null Values</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1372711">SQL queries by default ignore null values if you use the non-equality operator in comparisons with columns that allow null values. Generally in SQL, null values are meant to represent missing, unknown data about which no assertions can be made. In SQL, an assertion that a null value is not equal to some other value is invalid.</a></div>
      <div class="B_-_Body"><a name="1371969">For example, you want to find activities based on their end dates, an attribute that allows null values. You want to query the database for activities with end dates that do not fall on 2012-03-15. In a SQL query, activities where end dates are null are not fetched from the database. Only activities where the end date is known and the known end date does not fall on 2012-03-15 are fetched. </a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><span class="cvh_-_computer_voice_in_heading"><a name="1372553">Find</a></span> Expressions and Non-Equality Comparisons of Null Values</h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1373627">In contrast with SQL queries, </a><span class="cv_-_computer_voice">find</span> expressions <span class="e_-_emphasis">do</span> include null values if you use the non-equality operator in comparison with columns that allow null values. The following sample Gosu code uses a <span class="cv_-_computer_voice">find</span> expression finds activities with due dates that do not fall on 2012-03-15. The <span class="cv_-_computer_voice">find</span> expression uses the Gosu inequality operator <span class="cv_-_computer_voice">&lt;&gt;</span> to compare end dates with “2012-03-15.” </div>
      <PRE class="CF_-_Code_First_Line"><a name="1373628">var query = find(a in </a><span class="s_-_strong">Activity</span> where a.<span class="s_-_strong">EndDate</span> <span class="s_-_strong">&lt;&gt; "2012-03-15"</span> as java.util.Date) </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1373629">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1373658">for (activity in query) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1373659">  print ("End Date: " + activity.EndDate + "-" + activity.DisplayName)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1373609">}</a></PRE>
      <div class="B_-_Body"><a name="1373422">The output might look like the following: </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1373679">End Date: 2012-01-27-A new audit has been assigned</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="s_-_strong"><a name="1373694">End Date: null-A new audit has been assigned</a></span> </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1373726">End Date: 2012-03-16-A new audit has been assigned</a></PRE>
      <div class="B_-_Body"><a name="1373760">The </a><span class="cv_-_computer_voice">find</span> query result includes the activity with a null end date because Gosu appends the following condition to the SQL where clause that it sends to the database.</div>
      <div class="CS_-_Code_Single_Line"><a name="1373924">OR EndDate IS NULL</a></div>
      <div class="B_-_Body"><a name="1374043">To exclude null values from </a><span class="cv_-_computer_voice">find</span> query results, include an explicit condition in the where clause, as the following sample expression demonstrates.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1374257">find(a in </a><span class="s_-_strong">Activity</span> where <span class="s_-_strong">a.EndDate &lt;&gt; "2012-03-15"</span> as java.util.Date <span class="s_-_strong">and a.EndDate &lt;&gt; null</span>)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1374324">for (activity  in query) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1374325">  print ("End Date: " + activity.EndDate + "-" + activity.DisplayName)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1374326">}</a></PRE>
      <div class="B_-_Body"><a name="1374343">The output of from the modified </a><span class="cv_-_computer_voice">find</span> expression above looks like the following: </div>
      <PRE class="CF_-_Code_First_Line"><a name="1374408">End Date: 2012-01-27-A new audit has been assigned</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1374410">End Date: 2012-03-16-A new audit has been assigned</a></PRE>
      <div class="B_-_Body"><a name="1375105">The </a><span class="cv_-_computer_voice">find</span> query result does not include activities with null end dates. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1375183">Converting Non-Equality Comparisons from </a><span class="cvh_-_computer_voice_in_heading">Find</span> Expressions to Query Builder APIs</h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1425535">The query builder APIs handle non-equality operators in the same way as SQL queries. They both ignore null values. When you convert a legacy </a><span class="cv_-_computer_voice">find</span> expression with a non-equality comparison to a query builder expression, you must add a comparison predicate to include null values. Otherwise, your legacy <span class="cv_-_computer_voice">find</span> expression and your new query builder expression behave differently. </div>
      <div class="B_-_Body"><a name="1385840">The following sample </a><span class="cv_-_computer_voice">find</span> expression finds activities with due dates that do not fall on 2012-03-15.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1385888">find(a in </a><span class="s_-_strong">Activity</span> where a.<span class="s_-_strong">EndDate &lt;&gt; "2012-03-15"</span> as java.util.Date) </PRE>
      <div class="B_-_Body"><a name="1385883">The </a><span class="cv_-_computer_voice">find</span> query includes activities with null end dates. To produce the same results with the query builder APIs, you must use the <span class="cv_-_computer_voice">or</span> method to include an explicit predicate that includes activities with null end dates.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1386472">Query.make(</a><span class="s_-_strong">Activity</span>).or( \ orCriteria -&gt; </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1386491">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{orCriteria.compare("</a><span class="s_-_strong">EndDate", NotEquals, "2012-03-15"</span> as java.util.Date)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1386473">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{orCriteria.compare</a><span class="s_-_strong">("EndDate", Equals, null)</span> </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1386262">&nbsp;&nbsp;}).select() </a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="1407430">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'querybuilder.10.01.html#3266101', '');" title="Query Builder APIs" name="1407449">“Query Builder APIs”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h3 class="H1NB_-_Heading_1_No_Break"><a name="1359679">Using </a><span class="cvh_-_computer_voice_in_heading">Exists</span> Expressions for Array Properties in <span class="cvh_-_computer_voice_in_heading">Find</span> Expressions </h3>
      <div class="B_-_Body"><a name="1407491">Use </a><span class="cv_-_computer_voice">exists</span> expressions in the context of <span class="cv_-_computer_voice">find</span> expressions to test property values on entity instances in array properties. </div>
      <div class="B_-_Body"><a name="1407299">An </a><span class="cv_-_computer_voice">exists</span> expression in the context of a <span class="cv_-_computer_voice">find</span> expression uses the following syntax:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1360570">...&nbsp;where ... </a><span class="s_-_strong">exists</span> <span class="s_-_strong">(</span><span class="pc_-_parameter_in_code">existsIdentifier</span> <span class="s_-_strong">in</span> <span class="pc_-_parameter_in_code">existsPathExpression</span> <span class="s_-_strong">where</span> <span class="pc_-_parameter_in_code">existsCriteriaExpression</span><span class="s_-_strong" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7pt; font-style: normal">)</span></PRE>
      <div class="B_-_Body"><a name="1427327">An </a><span class="cv_-_computer_voice">exists</span> expression in the context of a <span class="cv_-_computer_voice">find</span> expression has the following parts:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1427328">Identifier</a></span> – A symbol to serve as shorthand for the array property to query, as specified by <span class="p_-_parameter">existsPathExpression</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="1428937">In clause</a></span> – The in clause begins with the <span class="cv_-_computer_voice">in</span> keyword, followed by <span class="p_-_parameter">existsPathExpression</span>, which specifies the array property to query. Exist path expressions in the context of find expressions begin with <span class="cv_-_computer_voice">findIdentifier</span> and end with a single value property on the entity type of instances in an array property. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cvh_-_computer_voice_in_heading" style="font-family: Arial; font-size: 8.4pt; font-weight: bold"><a name="1429081">Where</a></span><span class="ri_-_run_in_header"> clause</span> – The where clause begins with the <span class="cv_-_computer_voice">where</span> keyword, followed by <span class="p_-_parameter">existsCriteriaExpression</span>, which contains one or more conditional expressions. The left-hand operands are object path expressions that begin with <span class="cv_-_computer_voice">existsIdentifier</span> and are relative the property specified <span class="p_-_parameter">queryPathExpression</span>. You can use the operators <span class="cv_-_computer_voice">==</span>, <span class="cv_-_computer_voice">!=</span>, <span class="cv_-_computer_voice">&gt;</span>, <span class="cv_-_computer_voice">&lt;</span>, <span class="cv_-_computer_voice">&gt;=</span>, and <span class="cv_-_computer_voice">&lt;=</span>. You can group the conditional expressions with the logical operators <span class="cv_-_computer_voice">or</span> and <span class="cv_-_computer_voice">and</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1360687">The following sample Gosu code finds claims where the assigned group on an exposure is an Auto&nbsp;Fast&nbsp;Track type of group. The </a><span class="cv_-_computer_voice">find</span> expression uses an <span class="cv_-_computer_voice">exists</span> clause to test values on instances in the <span class="cv_-_computer_voice">Exposures</span> array property of <span class="cv_-_computer_voice">Claim</span> instances. </div>
      <PRE class="CF_-_Code_First_Line"><a name="1416251">find (claim in Claim where claim.LossType == "AUTO" and </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1416252">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;</a><span class="s_-_strong">exists </span>(group in claim.<span class="s_-_strong">Exposures.AssignedGroup</span> where group.<span class="s_-_strong">GroupType</span> == "autofasttrack")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1416253">)</a></PRE>
      <div class="B_-_Body"><a name="1429815">If an </a><span class="cv_-_computer_voice">exists</span> expression appears within a <span class="cv_-_computer_voice">find</span> expression, Gosu optimizes the database query to retrieve data based on potentially complex Gosu expressions. Gosu might generate complex SQL queries, including joins if needed. </div>
      <div class="B_-_Body"><a name="1407150">Generally, you do not need to worry about what SQL is generated for your </a><span class="cv_-_computer_voice">find</span> expressions. However, some <span class="cv_-_computer_voice">find</span> expressions that use multiple exists expressions may have large performance considerations. Guidewire recommends you consider both the frequency and context of <span class="cv_-_computer_voice">find</span> expression execution and assess the performance implications. Always run performance tests with large data sets and check for unexpected performance issues, experimenting with variants of your <span class="cv_-_computer_voice">find</span> expressions as necessary. Also, consider replacing your complex <span class="cv_-_computer_voice">find</span> expressions with query builder expressions. The query builder APIs offer more complete support of complex SQL syntax than <span class="cv_-_computer_voice">find</span> expressions. </div>
      <h6 class="HS_-_Head_Sub"><a name="1407160">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1407302">For uses of an </a><span class="cv_-_computer_voice">exists</span> expression unrelated to <span class="cv_-_computer_voice">find</span> expressions, see <a href="javascript:WWHClickedPopup('gosu', 'expressions.05.08.html#1560765', '');" title="Existence Testing Expressions">“Existence Testing Expressions”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'querybuilder.10.01.html#3266101', '');" title="Query Builder APIs" name="1407415">“Query Builder APIs”</a>. </div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1360475">Fixing Invalid Queries by Adding </a><span class="cvh_-_computer_voice_in_heading">Exists</span> Clauses</h4>
      <div class="B_-_Body"><a name="1360498">For some types of queries, you must use an </a><span class="cv_-_computer_voice">exists</span> expression to properly convey the application logic in an efficient way. Some types of queries generates Gosu syntax errors if you break the rules of a basic query, and in some cases it can be rewritten simply using exists expressions. </div>
      <div class="B_-_Body"><a name="1360476">For example, the following query expression is illegal because the </a><span class="cv_-_computer_voice">GroupType</span> property is not a direct property of the entity for which the query searches. The query attempts to find all claims in which the loss type is <span class="cv_-_computer_voice">"AUTO"</span> and which has an exposure with assigned group of type <span class="cv_-_computer_voice">autofasttrack</span>.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1358726">//Illegal expression</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1358727">find( c in Claim where c.LossType == "AUTO" and c.Exposures.AssignedGroup.GroupType == "autofasttrack")</a></PRE>
      <div class="B_-_Body"><a name="1358728">The path expression </a><span class="cv_-_computer_voice">c.Exposures.AssignedGroup.GroupType</span> is illegal in a simple query because <span class="cv_-_computer_voice">GroupType</span> is not a direct property of a <span class="cv_-_computer_voice">Claim</span>, which is the type of the iteration variable <span class="cv_-_computer_voice">c</span>. If the criteria in a <span class="cv_-_computer_voice">find</span> expression traverses deeper into the primary query path to retrieve a property, the query must define an <span class="cv_-_computer_voice">exists</span> expression. The <span class="cv_-_computer_voice">exists</span> expression must describe the expanding part of the criteria beyond the original entity. </div>
      <div class="B_-_Body"><a name="1167663">The following sample Gosu code finds all claims with a loss type of </a><span class="cv_-_computer_voice">"AUTO"</span> and has any exposures with an assigned group of type <span class="cv_-_computer_voice">autofasttrack</span>.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1138207">find (c in Claim where c.LossType == "AUTO" and </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1426020">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists (group in Claim.Exposures.AssignedGroup where group.GroupType == "autofasttrack") </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1426016">)</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="1358792">Combining </a><span class="cvh_-_computer_voice_in_heading">Exists</span> Expressions</h4>
      <div class="B_-_Body"><a name="1359065">A </a><span class="cv_-_computer_voice">find</span> expression may nest and combine <span class="cv_-_computer_voice">exists</span> expressions to any level desired. In other words, <span class="cv_-_computer_voice">exists</span> expressions can contain one or more other <span class="cv_-_computer_voice">exists</span> expressions, and the outer <span class="cv_-_computer_voice">find</span> expression can contain more than one <span class="cv_-_computer_voice">exists</span> expression.</div>
      <h3 class="H1NB_-_Heading_1_No_Break"><span class="cvh_-_computer_voice_in_heading" style="color: #387dab; font-family: Calibri; font-size: 18.0pt; font-weight: normal"><a name="1359890">Find</a></span> Expressions that Use Special Substring Keywords</h3>
      <div class="B_-_Body"><a name="1358087">You can use special substring keywords in </a><span class="cv_-_computer_voice">find</span> expressions to search on portions of string values. To search on the initial characters of a string value, use the special keyword <span class="cv_-_computer_voice">startswith</span>. To search on characters anywhere within a string value, use the special keyword <span class="cv_-_computer_voice">contains</span>.</div>
      <div class="B_-_Body"><a name="1359738">The following sample Gosu code uses the keyword </a><span class="cv_-_computer_voice">startswith</span> and finds groups with the names <span class="cv_-_computer_voice">Academy Partners</span> and <span class="cv_-_computer_voice">Acme Insurance</span>, among others. </div>
      <div class="CS_-_Code_Single_Line"><a name="1238470">var query = find (group in Group where group.Name </a><span class="s_-_strong">startswith</span> "Ac")</div>
      <div class="B_-_Body"><a name="1221046">The following sample Gosu code uses the keyword </a><span class="cv_-_computer_voice">contains</span> and finds groups with the names <span class="cv_-_computer_voice">Evergreen Indemnity</span> and <span class="cv_-_computer_voice">Greenbay Insurance</span>, among others.</div>
      <div class="CS_-_Code_Single_Line"><a name="1431362">var query = find (group in Group where group.Name </a><span class="s_-_strong">contains</span> "Green")</div>
      <h3 class="H1NB_-_Heading_1_No_Break"><a name="1289012">Using the Results of </a><span class="cvh_-_computer_voice_in_heading">Find</span> Expressions (Using <span class="cvh_-_computer_voice_in_heading">Query</span> Objects)</h3>
      <div class="B_-_Body"><a name="1446767">Evaluating a </a><span class="cv_-_computer_voice">find</span> expression results in a <span class="cv_-_computer_voice">Query</span> object, which you use to navigate or otherwise access items in the result. Items in <span class="cv_-_computer_voice">Query</span> objects are entity instances of the type specified by the query path expression. For instance, if you try to find <span class="cv_-_computer_voice">Contact</span> instances with a <span class="cv_-_computer_voice">find</span> expression, the resulting type is a <span class="cv_-_computer_voice">ContactQuery</span>. Query types have the same inheritance hierarchy that the entities have, for example: <span class="cv_-_computer_voice">PersonQuery</span> extends <span class="cv_-_computer_voice">ContactQuery</span>.</div>
      <div class="B_-_Body"><a name="1446769">You extract the results of a query by using the </a><span class="cv_-_computer_voice">query.iterator</span> method, which returns an <span class="cv_-_computer_voice">Iterator</span> to use to navigate within the results. You can avoid an explicit call to the <span class="cv_-_computer_voice">iterator</span> method by using the <span class="cv_-_computer_voice">Query</span> object in a <span class="cv_-_computer_voice">for...in</span> statement. The <span class="cv_-_computer_voice">iterator</span> method is used indirectly whenever you use the query in a <span class="cv_-_computer_voice">for...in</span> statement.</div>
      <h6 class="HS_-_Head_Sub"><a name="1446771">When Data for </a><span class="cvh_-_computer_voice_in_heading">Find</span> Expressions Is Loaded</h6>
      <div class="B_-_Body"><a name="1446772">Defining a </a><span class="cv_-_computer_voice">find</span> expression to obtain a query object does not immediately load data from the database. The server loads data from the database into a find query only at the time your code uses the query. For example, the server loads data at the time your code gets an item from the iterator or calls the <span class="cv_-_computer_voice">query.getCount</span> method. </div>
      <h6 class="HS_-_Head_Sub"><a name="1446773">Performance Considerations for </a><span class="cvh_-_computer_voice_in_heading">Find</span> Expressions</h6>
      <div class="B_-_Body"><a name="1446774">If you execute multiple </a><span class="cv_-_computer_voice">find</span> expressions, each expression sets up a separate query against the database. Write your code in such a way as to minimize the number of queries that run against the database.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1446775">Be careful not to use too many criteria in </a><span class="cv_-_computer_voice">find</span> expressions. Be careful to design your <span class="cv_-_computer_voice">find</span> expressions to extract only the data you need.</div>
      <h6 class="HS_-_Head_Sub"><a name="1446776">Setting the Page Size for Retrieving Results from </a><span class="cvh_-_computer_voice_in_heading">Find</span> Expressions</h6>
      <div class="B_-_Body"><a name="1446778">The </a><span class="cv_-_computer_voice">Iterator</span> object returned by the <span class="cv_-_computer_voice">query.iterator</span> method retrieves data from the server all at once or one page at a time. Page-based retrieval of query data can help avoid large result sets from loading into memory all at once. Loading large results into memory all at once can lead to performance problems or out-of-memory errors. </div>
      <div class="B_-_Body"><a name="1446779">You turn on page-level retrieval and limit the page size for an individual </a><span class="cv_-_computer_voice">Query</span> object by calling the <span class="cv_-_computer_voice">setPageSize</span> method. Specify the number of items per page. If you do not set a page size explicitly on a <span class="cv_-_computer_voice">Query</span> object, results load at one time without page-based retrieval. </div>
      <h4 class="H2_-_Heading_2"><a name="1361185">Basic Iterator Example</a></h4>
      <div class="B_-_Body"><a name="1220599">The following example demonstrates how to navigate the results of a simple </a><span class="cv_-_computer_voice">find</span> expression using the <span class="cv_-_computer_voice">iterator</span> method. Notice how the <span class="cv_-_computer_voice">for...in</span> expression can directly handle an iterator. This is the preferred way to navigate a <span class="cv_-_computer_voice">Query</span>.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1446652">var query = find (p in Claim.Policy where p.PolicyNumber == "54-123456")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446653">for (claim in query) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446654">&nbsp;&nbsp;print(claim.ClaimNumber)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1446655">}</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="1220606">Handling Large </a><span class="cvh_-_computer_voice_in_heading">Query</span> Objects from <span class="cvh_-_computer_voice_in_heading">Find</span> Expressions</h4>
      <div class="B_-_Body"><a name="1220607">If there are concerns about producing an excessively large </a><span class="cv_-_computer_voice">Query</span> object from a <span class="cv_-_computer_voice">find</span> expression, Guidewire recommends that you maintain an entity count and terminate the iteration, if necessary. </div>
      <div class="B_-_Body"><a name="1359859">The following example throws an exception indicating that the results are too large to process.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1446676">var query = find (p in Claim.Policy where p.PolicyNumber == "54-123456")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446677">var iCount = 0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446678">for (claim in query) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446679">&nbsp;&nbsp;print(claim.ClaimNumber)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446680">&nbsp;&nbsp;iCount = iCount + 1</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446681">&nbsp;&nbsp;if(iCount == 1000) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446682">&nbsp;&nbsp;&nbsp;&nbsp;throw "Too many claims to process."</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446683">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1446684">}</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="1220627">Sorting Results</a></h4>
      <div class="B_-_Body"><a name="1220628">You can set the sort order of items in </a><span class="cv_-_computer_voice">Query</span> objects using the following methods:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="1220629">addAscendingSortColumn</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="1220630">addDescendingSortColumn</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1446715">The following example sorts claims by claim number.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1446716">var query = find (c in Claim where c.ClaimNumber == "54-123456")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446717">query.</a><span class="s_-_strong">addAscendingSortColumn</span>("Claim.ClaimNumber")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446718">for (claim in query) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1446719">&nbsp;&nbsp;print(claim.ClaimNumber)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1446720">}</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="1137173">Retrieving a Single Row from </a><span class="cvh_-_computer_voice_in_heading">Find</span> Expression Results</h4>
      <div class="B_-_Body"><a name="1232079">You can use the </a><span class="cv_-_computer_voice">getAtMostOneRow</span> method to retrieve a single item from the <span class="cv_-_computer_voice">Query</span> object that <span class="cv_-_computer_voice">find</span> expressions return. </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1232149">If a single item exists, the method returns it. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1232154">If no item exists, the method returns </a><span class="cv_-_computer_voice">null</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1232155">If more than one item exists, the method throws an exception. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1232156">Use the </a><span class="cv_-_computer_voice">getAtMostOneRow</span> method only if you are sure that your <span class="cv_-_computer_voice">find</span> expression returns at most a single item. Otherwise, you need to handle the exception condition that occurs.</div>
      <div class="B_-_Body"><a name="1232180">For example, the following code calls the Gosu class function </a><span class="cv_-_computer_voice">findActivityPattern</span> to find a matching activity pattern and prints an error if the function call returns more than one item.</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232193">try { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232200">&nbsp;&nbsp;var pattern = new act.findActivityPattern( "initial_30day_review", "general") </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232201">} catch (e) { </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232204">&nbsp;&nbsp;print("Query returned more than one row.")  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232205">} </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232081">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232206">//Gosu Class Function</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232208">package act</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232209">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232210">class findActivityPattern {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232214">&nbsp;&nbsp;public function findActivityPattern( code : String, type : ActivityType ) : ActivityPattern {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232215">&nbsp;&nbsp;&nbsp;&nbsp;var query = find( ap in ActivityPattern where ap.code == code and ap.Type == type)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232216">&nbsp;&nbsp;&nbsp;&nbsp;return query.getAtMostOneRow()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1232217">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1232085">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="1431809">See also </a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1361062">For details on how to write Gosu classes, see </a><a href="javascript:WWHClickedPopup('gosu', 'classes.12.1.html#1005113', '');" title="Classes">“Classes”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1431847">For more information on using </a><span class="cv_-_computer_voice">try...catch...</span> blocks, see <a href="javascript:WWHClickedPopup('gosu', 'exceptionhandling.07.1.html#1470058', '');" title="Exception Handling">“Exception Handling”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1361064">Found Entities Are Read-only Until Added to a Bundle</a></h4>
      <div class="B_-_Body"><a name="1361065">Entities that you iterate across after a find query are read-only by default. The entity is loaded in a read-only </a><span class="e_-_emphasis">bundle</span>, which is a collection of entities loaded from the database into server memory. By default, find query results are returned in their own read-only bundle separate from the active read-write bundle of any running code. </div>
      <div class="B_-_Body"><a name="1370197">To change a read-only entity’s properties, you must move the entity to a new writable bundle. Typical code adds the entity to the current bundle of the running code. For example, if your Gosu code is triggered from a rule set or a plugin method, there is a current bundle that you can access. Simply add each entity to the new bundle to permit changes to the entity and mark the entity as changed. After the entity changes and the new bundle commits successfully, all entity changes are copied to the database. Remember that an entity cannot safely exist in more than one writable (read-write) bundle.</a></div>
      <div class="B_-_Body"><a name="1370163">To move the entity to a writable bundle, call the </a><span class="cv_-_computer_voice">add</span> method on a bundle and save the result of the <span class="cv_-_computer_voice">add</span> method.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="1370164">If you passed a read-only entity to a writable bundle, the return result of the </a><span class="cv_-_computer_voice">add</span> method is a cloned instance of the entity you passed to the method. If you want a reference to the entity so you can make further changes, you must keep a reference to the return&nbsp;result of the <span class="cv_-_computer_voice">add</span> method. Do not modify the original entity reference. Do not keep a reference to the original entity.</div>
      <div class="B_-_Body"><a name="1370097">For example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="1360273">// get the current (ambient) bundle of the running code</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360282">var bundle = gw.transaction.Transaction.getCurrent()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360289">&nbsp;</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="1360295">var query = find( p in Claim.Policy where p.PolicyNumber == "54-123456" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360306">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360307">for( claim in query ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360314">&nbsp;&nbsp;var c = bundle.add(claim)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360367">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360368">&nbsp;&nbsp;// make changes to one or more properties directly on the entity or its subobjects</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1361110">&nbsp;&nbsp;c.MyProperty1 = true</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1360299">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="1438041">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('gosu', 'transactions.22.01.html#1456387', '');" title="Bundles and Database Transactions" name="1361126">“Bundles and Database Transactions”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><span class="cvh_-_computer_voice_in_heading"><a name="1360246">Query</a></span> Objects Returned by <span class="cvh_-_computer_voice_in_heading">Find</span> Expressions Are Always Dynamic</h4>
      <div class="B_-_Body"><a name="1360028">A </a><span class="cv_-_computer_voice">Query</span> is always dynamic and returns results that may change if you use the object again. Some results may have been added, changed, or removed from the database from one use of the query object to another use of the query, even within the same function.</div>
      <div class="B_-_Body"><a name="1360070">A common mistake is calling the </a><span class="cv_-_computer_voice">count</span> method of a query to get the current count of items and then rely on that number remaining constant. Although that number might be useful in some contexts, it might be different from the number of items returned from a query even if you iterate across it immediately afterward. Some results may add, change, or remove from the database between the time you call the <span class="cv_-_computer_voice">count</span> method and the time you iterate across it.</div>
      <h6 class="HS_-_Head_Sub"><a name="1360015">Bad Example:</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="1360088">// Bad example. Do not do this... </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360089">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360087">Var myResult = find ( /* some query here... */ )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><a name="1360017">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="1360270">Var myArray = new Claim[ myResult.count() ];</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360018">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360108">For ( x in myResult index y )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360019">{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1360020">&nbsp;&nbsp;myArray[y] = x;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1360021">}</a></PRE>
      <div class="B_-_Body"><a name="1360023">In most cases, you severely risk of an “array out of bounds” error at run time. </a></div>
      <div class="B_-_Body"><a name="1360120">Instead, iterate across the set and count upward, appending items to a </a><span class="cv_-_computer_voice">List</span> as necessary.</div>
      <div class="B_-_Body"><a name="1136063">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>