<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Pull Up Multiple Performance Intensive Method Calls</title>
    <link rel="StyleSheet" href="css/bp-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Best Practices&nbsp;Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="bp-gosu.6.01.html#2249977">Gosu Language Best Practices </a> : <a class="WebWorks_Breadcrumb_Link" href="bp-gosu.6.29.html#2249977">Gosu Performance Best Practices</a> : Pull Up Multiple Performance Intensive Method Calls</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="2249977">Pull Up Multiple Performance Intensive Method Calls</a></h4>
      <div class="B_-_Body"><a name="2249978">As a performance best practice, Guidewire recommends a technique called </a><span class="e_-_emphasis">pulling up</span>. With the pulling up technique, you examine your existing code to uncover performance intensive method calls that occur in multiple, lower-level methods. If you identify such a method call, pull it up into the higher level-method, so you call it only once. Cache the result in a local variable. Then, call the lower-level methods, and pass the result that you cached down to the lower-level methods as a context variable. </div>
      <div class="B_-_Body"><a name="2249979">The following sample Gosu code suffers a performance problem. It pushes an expensive method call down to the lower-level routines, so the code repeats the expensive call three times. </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2249980">function computeSomething() { &nbsp;// Performance suffers with an expensive call pushed down.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249981">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249982">&nbsp;&nbsp;computeA()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249983">&nbsp;&nbsp;computeB()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249984">&nbsp;&nbsp;computeC()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249985">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249986">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249987">function computeA() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249988">&nbsp;&nbsp;</a><span class="s_-_strong">var expensiveResult = expensiveCall()</span>&nbsp;&nbsp;// Make the expensive call once.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249989">&nbsp;&nbsp;//do A stuff on expensiveResult</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249990">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249991">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249992">function computeB() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249993">&nbsp;&nbsp;</a><span class="s_-_strong">	var expensiveResult = expensiveCall()</span>&nbsp;&nbsp;// Make the same expensive call twice.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249994">&nbsp;&nbsp;//do B stuff on expensiveResult</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249995">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249996">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249997">function computeC() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249998">&nbsp;&nbsp;</a><span class="s_-_strong">var expensiveResult = expensiveCall()&nbsp;&nbsp;</span>// Make the same expensive call three times.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2249999">&nbsp;&nbsp;//do C stuff on expensiveResult</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2250000">}</a></PRE>
      <div class="B_-_Body"><a name="2250001">The following modified sample code improves performance. It pulls the expensive method call up to the main routine, which calls it once. Then, it passes the cached result down to the lower-level routines, as a context variable. </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2250002">function computeSomething() { &nbsp;// Performance improves with an expensive call pulled up.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250003">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250004">&nbsp;&nbsp;</a><span class="s_-_strong">var expensiveResult = expensiveCall()</span> &nbsp;// Make the expensive call only once.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250005">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250006">  computeA(expensiveResult) </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250007">  computeB(expensiveResult)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250008">  computeC(expensiveResult)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250009">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250010">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250011">function computeA(</a><span class="s_-_strong">expensiveResult</span> : ExpensiveResult) {&nbsp;&nbsp;// Use the pushed down result.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250012">  //do A stuff on expensiveResult</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250013">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250014">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250015">function computeB(</a><span class="s_-_strong">expensiveResult</span> : ExpensiveResult) {&nbsp;&nbsp;// Use the pushed down result.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250016">  //do B stuff on expensiveResult</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250017">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2264860">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2264861">function computeC(</a><span class="s_-_strong">expensiveResult</span> : ExpensiveResult) {&nbsp;&nbsp;// Use the pushed down result.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2264862">  //do C stuff on expensiveResult</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2250021">}</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>