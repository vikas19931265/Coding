<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Configuring the Database Upgrade</title>
    <link rel="StyleSheet" href="css/procedure-db-e.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Upgrade Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-upgrade-e.html#1901770">Upgrading from 8.0.0</a> : <a class="WebWorks_Breadcrumb_Link" href="procedure-db-e.07.01.html#1901770">Upgrading the ClaimCenter 8.0.x Database</a> : Configuring the Database Upgrade</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1901770">Configuring the Database Upgrade</a></h3>
      <div class="B_-_Body"><a name="1901777">You can set parameters for the database upgrade in the ClaimCenter 8.0.1 </a><span class="cv_-_computer_voice">database-config.xml</span> file. The <span class="cv_-_computer_voice">&lt;database&gt;</span> block in <span class="cv_-_computer_voice">database-config.xml</span> contains parameters for database configuration, such as connection information. The <span class="cv_-_computer_voice">&lt;database&gt;</span> block contains an <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> block that contains configuration information for the overall database upgrade. The <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> block also contains a <span class="cv_-_computer_voice">&lt;versiontriggers&gt;</span> element for configuring general version trigger behavior and can contain <span class="cv_-_computer_voice">&lt;versiontrigger&gt;</span> elements to configure each version trigger. </div>
      <div class="B_-_Body"><a name="1901778">This topic describes the parameters you can set for the database upgrade. For general database connection parameters, see </a><a href="javascript:WWHClickedPopup('install', 'install.6.15.html#1130592', '');" title="Deploying ClaimCenter to the Application Server">“Deploying ClaimCenter to the Application Server” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('install', 'install.6.15.html#1130592', '');" title="Deploying ClaimCenter to the Application Server">Installation Guide</a></span>.</div>
      <h4 class="H2_-_Heading_2"><a name="1901782">Adjusting Commit Size for Encryption</a></h4>
      <div class="B_-_Body"><a name="1901783">You can adjust the commit size for rows requiring encryption by setting the </a><span class="cv_-_computer_voice">encryptioncommitsize</span> attribute to an integer in the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> block. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1901784">&lt;database ...&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901785">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901786">&nbsp;&nbsp;&lt;upgrade encryptioncommitsize="10000"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901787">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901788">&nbsp;&nbsp;&lt;/upgrade&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1901789">&lt;/database&gt;</a></PRE>
      <div class="B_-_Body"><a name="1901796">If ClaimCenter encryption is applied on one or more attributes, the ClaimCenter database upgrade commits batches of encrypted values. The upgrade commits </a><span class="cv_-_computer_voice">encryptioncommitsize</span> rows at a time in each batch. The default value of <span class="cv_-_computer_voice">encryptioncommitsize</span> varies based on the database type. For Oracle, the default is <span class="cv_-_computer_voice">10000</span>. For SQL Server, the default is <span class="cv_-_computer_voice">100</span>. If the encryption process is slow, and you cannot attribute the slowness to SQL statements in the database, you can try adjusting the <span class="cv_-_computer_voice">encryptioncommitsize</span> attribute. </div>
      <h4 class="H2_-_Heading_2"><a name="1901797">Configuring Version Trigger Elements</a></h4>
      <div class="B_-_Body"><a name="1901799">The database upgrade executes a series of version triggers that make changes to the database to upgrade between versions. You can set some configuration options for version triggers in </a><span class="cv_-_computer_voice">database-config.xml</span>. Normally, the default settings are sufficient. Change these settings only while investigating a slow database upgrade.</div>
      <div class="B_-_Body"><a name="1901800">The </a><span class="cv_-_computer_voice">&lt;database&gt; </span>element in <span class="cv_-_computer_voice">database-config.xml</span> contains an <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> element to organize parameters related to database upgrades. Included in the <span class="cv_-_computer_voice">&lt;upgrade&gt; </span>element is a <span class="cv_-_computer_voice">&lt;versiontriggers&gt;</span> element, as shown below:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1901801">&lt;database ...&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901802">  &lt;param ... /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901803">  &lt;upgrade&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901804">    &lt;versiontriggers dbmsperfinfothreshold="600" /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901805">  &lt;/upgrade&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1901806">&lt;/database&gt;</a></PRE>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="1901807">The </a><span class="cv_-_computer_voice">&lt;versiontriggers&gt;</span> element configures the instrumentation of version triggers. This element has one attribute: <span class="cv_-_computer_voice">dbmsperfinfothreshold</span>. The <span class="cv_-_computer_voice">dbmsperfinfothreshold</span> attribute specifies for all version triggers the threshold after which the database upgrader gathers performance information from the database. You specify <span class="cv_-_computer_voice">dbmsperfinfothreshold</span> in seconds, with a default of <span class="cv_-_computer_voice">600</span>. If a version trigger takes longer than <span class="cv_-_computer_voice">dbmsperfinfothreshold</span> to execute, ClaimCenter:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1901811">queries the underlying database management system (DBMS).</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1901812">builds a set of html pages with performance information for the interval in which the version trigger was executing.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1901813">includes those html pages in the upgrader instrumentation for the version trigger. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901814">You can completely turn off the collection of database snapshot instrumentation for version triggers by setting the </a><span class="cv_-_computer_voice">dbmsperfinfothreshold</span> to 0 in <span class="cv_-_computer_voice">config.xml</span>.</div>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="1901815">The </a><span class="cv_-_computer_voice">&lt;versiontriggers&gt; </span>element can contain optional <span class="cv_-_computer_voice">&lt;versiontrigger&gt;</span> elements for each version trigger. Each <span class="cv_-_computer_voice">&lt;versiontrigger&gt;</span> element can contain the following attributes.</div>
      <div class="T_-_Table"><a name="1901883">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1901818">Attribute</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1901820">Type</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="1901822">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901824">name</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901826">String</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901828">The case-insensitive name of a version trigger.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901830">extendedquerytracingenabled </a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901832">Boolean</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901834">Oracle only. Controls whether or not to enable extended sql tracing (Oracle event 10046) for the SQL statements that are executed by the version trigger. Default is </a><span class="cvt_-_computer_voice_table">false</span>. The output can be very useful when debugging certain types of performance problems. Trace files that are generated only exist on the database machine. They are not integrated into the upgrade instrumentation.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901836">parallel-dml</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901838">Boolean</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901842">Oracle only. See </a><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.18.html#1901916', '');" title="Configuring the Database Upgrade">“Configuring Parallel DML and DDL Statement Execution”</a>.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901845">queryoptimizertracingenabled</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901847">Boolean</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901849">Oracle only. Controls whether or not to enable query optimizer tracing (Oracle event 10053) for the SQL statements that are executed by the version trigger. Default is </a><span class="cvt_-_computer_voice_table">false</span>. The output can be very useful when debugging certain types of performance problems. Trace files that are generated only exist on the database machine. They are not integrated into the upgrade instrumentation.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901851">recordcounters</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901853">Boolean</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901855">Controls whether the DBMS-specific counters are retrieved at the beginning and end of the use of the version trigger. Default is </a><span class="cvt_-_computer_voice_table">false</span>. If <span class="cvt_-_computer_voice_table">true</span>, then ClaimCenter retrieves the current state of the counters from the underlying DBMS at the beginning of execution of the version trigger. If the execution of the version trigger exceeds the <span class="cvt_-_computer_voice_table">dbmsperfinfothreshold</span>, then ClaimCenter retrieves the current state of the counters at the end of the execution of the version trigger. ClaimCenter writes differences to the DBMS-specific instrumentation pages of the upgrade instrumentation.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901866">updatejoinorderedhint</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901868">Boolean</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901870">Oracle only. Whether to use the ORDERED hint for the UPDATE of a join. Default is false.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901872">updatejoinusemergehint</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901874">Boolean</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901876">Oracle only. Whether to use the USE_MERGE hint for the UPDATE of a join. Default is false.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="1901878">updatejoinusenlhint</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901880">Boolean</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="1901882">Oracle only. Whether to use the USE_NL hint for the UPDATE of a join. Default is false.</a></div>
          </td>
        </tr>
      </table>
      <h4 class="H2_-_Heading_2"><a name="1901886">Deferring Creation of Archive Indexes</a></h4>
      <div class="B_-_Body"><a name="1901887">If you have archiving enabled, the upgrade rebuilds indexes on the </a><span class="cv_-_computer_voice">ArchivePartition</span> column on all entities that ClaimCenter can archive. Creation of these indexes can add significant time to the upgrade duration. By default, the upgrade defers creation of <span class="cv_-_computer_voice">ArchivePartition</span> indexes. </div>
      <div class="B_-_Body"><a name="1901891">If you do not want the upgrade to defer creating indexes on archived entities, set the </a><span class="cv_-_computer_voice">deferCreateArchiveIndexes</span> attribute on the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> element in <span class="cv_-_computer_voice">database-config.xml</span> to <span class="cv_-_computer_voice">false</span>.</div>
      <div class="B_-_Body"><a name="1901892">The </a><span class="cv_-_computer_voice">DeferredUpgradeTasks</span> work queue creates indexes on archived entities. If you have archiving enabled, and you do not set <span class="cv_-_computer_voice">deferCreateArchiveIndexes</span> to <span class="cv_-_computer_voice">false</span>, run the <span class="cv_-_computer_voice">DeferredUpgradeTasks</span> work queue as soon as possible after the completion of the upgrade.</div>
      <div class="B_-_Body"><a name="1901893">Allow the database user to have permission to create indexes until after the </a><span class="cv_-_computer_voice">DeferredUpgradeTasks</span> work queue is complete.</div>
      <div class="B_-_Body"><a name="1901897">You can find the status of the deferred upgrade in the upgrade logs and on the ClaimCenter </a><span class="ui_-_UI_element">Upgrade Info</span> page. </div>
      <h4 class="H2_-_Heading_2"><a name="1901898">Configuring the Upgrade on Oracle</a></h4>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901899">Configuring Column Removal</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901900">The database upgrade removes some columns. For Oracle, you can configure whether the removed columns are dropped immediately or are marked as unused. Marking a column as unused is a faster operation than dropping the column immediately. However, because these columns are not physically dropped from the database, the space used by these columns is not released immediately to the table and index segments. You can drop the unused columns after the upgrade during off-peak hours to free the space. Or, you can configure the database upgrade to drop the columns immediately during the upgrade. By default, the ClaimCenter database upgrade marks columns as unused.</a></div>
      <div class="B_-_Body"><a name="1901907">To configure the ClaimCenter upgrade to drop columns immediately during the upgrade, set the </a><span class="cv_-_computer_voice">deferDropColumns</span> attribute of the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> block in <span class="cv_-_computer_voice">database-config.xml</span> to <span class="cv_-_computer_voice">false</span>. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1901908">&lt;database ...&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901909">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901910">&nbsp;&nbsp;&lt;upgrade deferDropColumns="false"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901911">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901912">&nbsp;&nbsp;&lt;/upgrade&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1901913">&lt;/database&gt;</a></PRE>
      <div class="B_-_Body"><a name="1901914">By default, </a><span class="cv_-_computer_voice">deferDropColumns</span> is <span class="cv_-_computer_voice">true</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901916">Configuring Parallel DML and DDL Statement Execution</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901917">You can configure whether the upgrade executes DML (Data Manipulation Language) and DDL (Data Definition Language) statements in parallel or not and the degree of parallelism to use.</a></div>
      <div class="B_-_Body"><a name="1901918">The </a><span class="cv_-_computer_voice">&lt;upgrade&gt;</span> element includes an <span class="cv_-_computer_voice">ora-parallel-dml</span> attribute. This attribute can be set to <span class="cv_-_computer_voice">disable</span>, <span class="cv_-_computer_voice">enable</span>, or <span class="cv_-_computer_voice">enable_all</span>. The default value is <span class="cv_-_computer_voice">enable</span>. If <span class="cv_-_computer_voice">ora-parallel-dml</span> is set to <span class="cv_-_computer_voice">disable</span>, the upgrade does not conduct parallel execution of DML statements. If <span class="cv_-_computer_voice">ora-parallel-dml</span> is set to <span class="cv_-_computer_voice">enable</span>, the upgrade executes DML statements in parallel if configured or coded for a version trigger. If <span class="cv_-_computer_voice">ora-parallel-dml</span> is set to <span class="cv_-_computer_voice">enable-all</span>, the upgrade executes DML statements in parallel in all cases unless turned off in the code or configuration for a version trigger.</div>
      <div class="B_-_Body"><a name="1901919">The Boolean attribute </a><span class="cv_-_computer_voice">parallel-dml</span> of a <span class="cv_-_computer_voice">&lt;versiontrigger&gt;</span> element controls parallel execution for that version trigger. If <span class="cv_-_computer_voice">parallel-dml</span> is not set, the upgrade executes parallel DML statements if coded or if <span class="cv_-_computer_voice">ora-paralled-dml</span> is set to <span class="cv_-_computer_voice">enable_all</span> on the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> element. If <span class="cv_-_computer_voice">parallel-dml</span> is set to <span class="cv_-_computer_voice">false</span>, the upgrade does not execute DML statements in parallel. If <span class="cv_-_computer_voice">parallel-dml</span> is set to <span class="cv_-_computer_voice">true</span>, the upgrade executes DML statements in parallel if <span class="cv_-_computer_voice">ora-parallel</span> is set to <span class="cv_-_computer_voice">enable</span> or <span class="cv_-_computer_voice">enable_all</span>.</div>
      <div class="B_-_Body"><a name="1901920">To configure the degree of parallelism for insert, update and delete operations, set the </a><span class="cv_-_computer_voice">degree-of-parallelism</span> attribute on the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> element. To configure the degree of parallelism for commands such as creating an index and enabling constraints using the alter table command, set the <span class="cv_-_computer_voice">degree-parallel-ddl</span> attribute on the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> element.</div>
      <div class="B_-_Body"><a name="1901924">The default for both attributes is </a><span class="cv_-_computer_voice">0</span>, which configures ClaimCenter to defer to Oracle to determine the degree of parallelism. The Oracle automatic parallel tuning feature determines the degree based on the number of CPUs and the value set for the Oracle parameter <span class="cv_-_computer_voice">PARALLEL_THREADS_PER_CPU</span>. Or, you can specify a value from <span class="cv_-_computer_voice">2</span> to <span class="cv_-_computer_voice">1000</span> to force that degree of parallelism. A value of <span class="cv_-_computer_voice">1</span> is equivalent to disabling the use of parallel execution.</div>
      <div class="B_-_Body"><a name="1901925">You can configure parallel DML execution on the </a><span class="cv_-_computer_voice">InsertSelectBuilder</span>, <span class="cv_-_computer_voice">BeforeUpgradeUpdateBuilder</span> and <span class="cv_-_computer_voice">BeforeUpgradeInsertSelectBuilder</span> of a custom version trigger using the <span class="cv_-_computer_voice">withParallelDml(</span><span class="ps_-_parameter_in_code_snippets">boolean</span><span class="cv_-_computer_voice">)</span> method. If not explicitly set to <span class="cv_-_computer_voice">true</span> or <span class="cv_-_computer_voice">false</span>, the upgrade uses parallel execution if configured. If set to <span class="cv_-_computer_voice">false</span>, the upgrade does not use parallel execution unless set to <span class="cv_-_computer_voice">true</span> for that version trigger. If set to <span class="cv_-_computer_voice">true</span>, it will be done unless set to false for that version trigger or <span class="cv_-_computer_voice">ora-parallel-dml</span> is set to <span class="cv_-_computer_voice">disable</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901926">Collecting Tablespace Usage and Object Size</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901927">To enable collection of tablespace usage and object size data on Oracle, set the </a><span class="cv_-_computer_voice">collectstorageinstrumentation</span> attribute of the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> block to <span class="cv_-_computer_voice">true</span>. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1901928">&lt;database ...&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901929">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901930">&nbsp;&nbsp;&lt;upgrade collectstorageinstrumentation="true"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901931">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901932">&nbsp;&nbsp;&lt;/upgrade&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1901933">&lt;/database&gt;</a></PRE>
      <div class="B_-_Body"><a name="1901937">A value of </a><span class="cv_-_computer_voice">true</span> enables ClaimCenter to collect tablespace usage and size of segments such as tables, indexes and LOBs (large object binaries) before and after the upgrade. The values can then be compared to find the utilization change caused by the upgrade.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901938">Disabling Logging</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901939">You can disable logging of direct insert and create index operations during the database upgrade by setting </a><span class="cv_-_computer_voice">allowUnloggedOperations</span> to <span class="cv_-_computer_voice">true</span> in the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> block. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1901940">&lt;database ...&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901941">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901942">&nbsp;&nbsp;&lt;upgrade allowUnloggedOperations="true"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901943">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901944">&nbsp;&nbsp;&lt;/upgrade&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1901945">&lt;/database&gt;</a></PRE>
      <div class="B_-_Body"><a name="1901946">Setting </a><span class="cv_-_computer_voice">allowUnloggedOperations</span> to <span class="cv_-_computer_voice">true</span> causes the upgrade to run statements with the <span class="cv_-_computer_voice">NOLOGGING</span> option. Although Guidewire recommends that you backup the database before and after the upgrade, there could be reasons to log all operations. Some examples include Reporting, Disaster Recovery through Standby databases and Oracle Dataguard. To enable logging of direct insert and create index operations, set <span class="cv_-_computer_voice">allowUnloggedOperations</span> to <span class="cv_-_computer_voice">false</span>. If not specified, the default value of <span class="cv_-_computer_voice">allowUnloggedOperations</span> is <span class="cv_-_computer_voice">false</span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901947">Disabling Statistics Update for the Database</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901948">Generating table statistics during upgrade is optional for Oracle databases. The overall time required to upgrade the database is shorter if the database upgrade does not update statistics. To disable statistics generation during the upgrade, set the </a><span class="cv_-_computer_voice">updatestatistics</span> attribute of the <span class="cv_-_computer_voice">&lt;upgrade&gt;</span> element to <span class="cv_-_computer_voice">false</span>:</div>
      <div class="CS_-_Code_Single_Line"><a name="1901949">&lt;upgrade updatestatistics="false"&gt;</a></div>
      <div class="B_-_Body"><a name="1901953">If statistics are not updated during the upgrade, ClaimCenter reports a warning that recommends that you run the database statistics batch process in incremental mode. Additionally, the </a><span class="ui_-_UI_element">Upgrade Info</span> page shows that statistics were not updated as part of the upgrade. This page also reports the runs of the statistics batch process, and incremental runs are shown.</div>
      <div class="B_-_Body"><a name="1901957">Run the following command from </a><span class="cv_-_computer_voice">ClaimCenter/admin/bin</span> to update statistics:</div>
      <div class="CS_-_Code_Single_Line"><a name="1901958">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -startprocess incrementaldbstats</div>
      <div class="B_-_Body"><a name="1901959">The </a><span class="ui_-_UI_element">Upgrade Info</span> page does not identify the following case: You ran an upgrade with <span class="cv_-_computer_voice">updatestatistics=true</span> after running a previous upgrade with <span class="cv_-_computer_voice">updatestatistics=false</span>, but you did not update statistics first. </div>
      <div class="B_-_Body"><a name="1901960">When you click the </a><span class="ui_-_UI_element">Download</span> button on the <span class="ui_-_UI_element">Upgrade Info</span> page, you get a more detailed report. This report shows the value of the <span class="cv_-_computer_voice">updatestatistics</span> attribute at the time of upgrade. Additionally, the report shows the update statistics SQL statements that were skipped as part of the upgrade. These statements are provided for reference. You typically do not need to review these statements if you run the incremental database statistics process following the upgrade.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901961">Disabling Statistics Update for Tables with Locked Statistics</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901962">If you have tables that have locked statistics, specify to keep statistics on these tables before starting the database upgrade. To specify to keep statistics on a table, set the </a><span class="cv_-_computer_voice">action</span> attribute of the <span class="cv_-_computer_voice">&lt;tablestatistics&gt;</span> element for that table to <span class="cv_-_computer_voice">keep</span>. The <span class="cv_-_computer_voice">&lt;tablestatistics&gt;</span> element is nested within the <span class="cv_-_computer_voice">&lt;databasestatistics&gt;</span> element, which is within the <span class="cv_-_computer_voice">&lt;database&gt;</span> element in <span class="cv_-_computer_voice">database-config.xml</span>.</div>
      <div class="B_-_Body"><a name="1901966">For example, if statistics are locked on </a><span class="cv_-_computer_voice">cc_someTable_EXT</span>, specify a <span class="cv_-_computer_voice">&lt;tablestatistics&gt;</span> element for that table with the <span class="cv_-_computer_voice">action</span> attribute set to <span class="cv_-_computer_voice">keep</span>:</div>
      <PRE class="CF_-_Code_First_Line"><a name="1901967">&lt;database&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901968">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901969">&nbsp;&nbsp;&lt;databasestatistics&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901973">&nbsp;&nbsp;&nbsp;&nbsp;</a><span class="s_-_strong">&lt;tablestatistics name="cc_someTable_EXT" action="keep" /&gt;</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901974">&nbsp;&nbsp;&lt;/databasestatistics&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1901975">&lt;/database&gt;</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="1901976">Configuring the Upgrade on SQL Server</a></h4>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901977">Storing Temporary Sort Results in </a><span class="cvh_-_computer_voice_in_heading">tempdb</span></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901978">For SQL Server databases, you can specify to store temporary sort results in tempdb by setting the </a><span class="cv_-_computer_voice">sqlserverCreateIndexSortInTempDB</span> attribute of the <span class="cv_-_computer_voice">upgrade</span> block to <span class="cv_-_computer_voice">true</span>. By using tempdb for sort runs, disk input and output is typically faster, and the created indexes tend to be more contiguous. By default, <span class="cv_-_computer_voice">sqlserverCreateIndexSortInTempDB</span> is <span class="cv_-_computer_voice">false</span> and sort runs are stored in the destination filegroup.</div>
      <div class="B_-_Body"><a name="1901979">If you set </a><span class="cv_-_computer_voice">sqlserverCreateIndexSortInTempDB</span> to <span class="cv_-_computer_voice">true</span>, you must have enough disk space available to tempdb for the sort runs, which for the clustered index include the data pages. You must also have sufficient free space in the destination filegroup to store the final index structure, because the new index is created before the old index is deleted. Refer to <span class="cv_-_computer_voice">http://msdn.microsoft.com/en-us/library/ms188281.aspx</span> for details on the requirements to use tempdb for sort results. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="1901980">Specifying Filegroup to Store Sort Results for Clustered Indexes</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1901981">For SQL Server databases, a version trigger recreates non-clustered backing indexes for primary keys as clustered indexes.</a> This change improves the performance of claim archiving and claim purging operations.</div>
      <div class="B_-_Body"><a name="1901982">Before recreating the indexes, the version trigger automatically drops (and later rebuilds) any referencing foreign keys and drops any clustered indexes on tables with a primary key.</a></div>
      <div class="B_-_Body"><a name="1901983">If you are using filegroups, the upgrade recreates the clustered index in the OP filegroup. By default, the upgrade also stores the intermediate sort results that are used to build the index in the OP filegroup. You can configure the upgrade to instead use the tempdb filegroup for the intermediate sort results.</a></div>
      <div class="B_-_Body"><a name="1901984">If you want the upgrade to stores the intermediate sort results in the tempbdb filegroup, set the </a><span class="cv_-_computer_voice">sqlserverCreateIndexSortInTempDB</span> attribute of the <span class="cv_-_computer_voice">upgrade</span> element to <span class="cv_-_computer_voice">true</span>.</div>
      <PRE class="CF_-_Code_First_Line"><a name="1901985">&lt;database ...&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901986">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901987">&nbsp;&nbsp;&lt;upgrade sqlserverCreateIndexSortInTempDB="true" /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901988">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="1901989">&nbsp;&nbsp;&lt;/upgrade&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="1901990">&lt;/database&gt;</a></PRE>
      <div class="B_-_Body"><a name="1901991">This option increases the amount of temporary disk space that is used to create an index. However, it might reduce the time that is required to create or rebuild an index when tempdb is on a different set of disks from that of the user database.</a></div>
      <div class="B_-_Body"><a name="1901992">By default, </a><span class="cv_-_computer_voice">sqlserverCreateIndexSortInTempDB</span> is <span class="cv_-_computer_voice">false</span>.</div>
      <h4 class="H2_-_Heading_2"><a name="1845518">Downloading Database Upgrade Instrumentation Details</a></h4>
      <div class="B_-_Body"><a name="1845519">The database upgrade deletes upgrade instrumentation information for prior database upgrades. If the database upgrade detects any prior upgrade instrumentation data, it reports a warning and deletes the data. If you have run previous database upgrades, and you want to preserve upgrade instrumentation details, follow the procedure in </a><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-e.07.20.html#1857954', '');" title="Viewing Detailed Database Upgrade Information">“Viewing Detailed Database Upgrade Information”</a>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>