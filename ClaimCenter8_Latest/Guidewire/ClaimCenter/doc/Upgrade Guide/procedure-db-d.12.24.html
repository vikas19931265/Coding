<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Final Steps After The Database Upgrade is Complete</title>
    <link rel="StyleSheet" href="css/procedure-db-d.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Upgrade Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-upgrade-d.html#1882767">Upgrading from 7.0.x</a> : <a class="WebWorks_Breadcrumb_Link" href="procedure-db-d.12.01.html#1882767">Upgrading the ClaimCenter 7.0.x Database</a> : Final Steps After The Database Upgrade is Complete</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1882767">Final Steps After The Database Upgrade is Complete</a></h3>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="1840097">This section describes the procedures to run after you have completed the upgrade procedure and migration of configurations and integrations. The processes in this section provide you with a benchmark of the new system. Completing these steps is particularly important to going live in a production environment.</a></div>
      <div class="B_-_Body"><a name="1673972">Use these procedures to revalidate the database:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.07.html#1914210', '');" title="Validating the Database Schema" name="1500465">“Validating the Database Schema”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.08.html#1914221', '');" title="Checking Database Consistency" name="1500469">“Checking Database Consistency”</a>, including <a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.24.html#1889639', '');" title="Final Steps After The Database Upgrade is Complete">Checking that Contacts Have Unique Addresses</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.09.html#1914263', '');" title="Creating a Data Distribution Report" name="1793806">“Creating a Data Distribution Report”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.10.html#1914297', '');" title="Generating Database Statistics" name="1500473">“Generating Database Statistics”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.24.html#1885327', '');" title="Final Steps After The Database Upgrade is Complete" name="1885358">Completing Deferred Upgrade</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.24.html#1882585', '');" title="Final Steps After The Database Upgrade is Complete" name="1882628">“Running Key Batch Processes”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('upgrade', 'procedure-db-d.12.24.html#1500506', '');" title="Final Steps After The Database Upgrade is Complete" name="1786329">“Backing up the Database After Upgrade”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="1889639">Checking that Contacts Have Unique Addresses</a></h4>
      <div class="B_-_Body"><a name="1889643">An </a><span class="cv_-_computer_voice">Address</span> cannot be shared by more than one <span class="cv_-_computer_voice">Contact</span>. ClaimCenter 8.0 includes a commit-time check that does not allow a shared reference to an address instance even when one of the referring <span class="cv_-_computer_voice">Contact</span> or <span class="cv_-_computer_voice">ContactAddress</span> instances is retired. If you have multiple contacts at the same address, you can create separate address instances with the same field values.</div>
      <div class="B_-_Body"><a name="1889644">A database consistency check on the </a><span class="cv_-_computer_voice">Contact</span> entity reports an error if it detects multiple <span class="cv_-_computer_voice">Contact</span> records using the same <span class="cv_-_computer_voice">PrimaryAddress</span>.</div>
      <div class="B_-_Body"><a name="1889651">Before using ClaimCenter 8.0.1 in production, run database consistency checks to find any instances of shared references to address instances. If the consistency check reports shared addresses, contact Guidewire Support for assistance fixing your database.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1885327">Completing Deferred Upgrade</a></h4>
      <div class="B_-_Body"><a name="1885440">f you have archiving enabled, and you did not set </a><span class="cv_-_computer_voice">deferCreateArchiveIndexes</span> to <span class="cv_-_computer_voice">false</span>, run the <span class="cv_-_computer_voice">Deferred Upgrade Tasks</span> work queue as soon as possible after the completion of the upgrade. To run the <span class="cv_-_computer_voice">Deferred Upgrade Tasks</span> work queue, use the <span class="cv_-_computer_voice">admin/bin/maintenance_tools</span> command:</div>
      <div class="CS_-_Code_Single_Line"><a name="1885441">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -startprocess deferredupgradetasks</div>
      <h4 class="H2_-_Heading_2"><a name="1882585">Running Key Batch Processes</a></h4>
      <div class="BKN_-_Body_002c_Keep_Next"><a name="1882586">Before going live, run the following batch processes while the server is at the </a><span class="cv_-_computer_voice">MAINTENANCE</span> run level:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="1882587">dashboardstatistics </a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="1882588">financialscalculations</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="1882589">RetiredPolicyGraphDisconnector</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt; margin-bottom: 2.0pt; vertical-align: baseline">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap; color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner" style="color: #000000; font-style: normal; font-variant: normal; font-weight: normal; text-transform: none"><span class="cv_-_computer_voice"><a name="1882590">rebuildagglimits -forceall</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1882592">To set the server run level to maintenance, use the following command:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1882596">ClaimCenter/admin/bin/system_tools –password </a><span class="pc_-_parameter_in_code">password</span> –maintenance</div>
      <div class="B_-_Body"><a name="1882597">To run a batch process, use the </a><span class="cv_-_computer_voice">admin/bin/maintenance_tools</span> command:</div>
      <div class="CS_-_Code_Single_Line"><a name="1882598">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -startprocess <span class="pc_-_parameter_in_code">process</span></div>
      <div class="B_-_Body"><a name="1882599">These batch processes update the user dashboard, team statistics, and financial data in the system and clean up bad claim to policy links. The </a><span class="cv_-_computer_voice">rebuildagglimits -forceall</span> command flags all aggregate limits in the system as invalid, and creates a work queue item for each policy period that contains an invalid aggregate limit. This process is very fast. When the system is next at the multiuser run level, the work queues will then begin processing these work items and rebuilding the aggregate limits. Depending on how many aggregate limits were present before the upgrade, this process could take several hours.</div>
      <div class="B_-_Body"><a name="1886850">For a detailed explanation of each batch process, see </a><a href="javascript:WWHClickedPopup('admin', 'batch.11.07.html#1631743', '');" title="List of Batch Processes and Distributable Work Queues">“List of Batch Processes and Distributable Work Queues” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'batch.11.07.html#1631743', '');" title="List of Batch Processes and Distributable Work Queues">System Administration Guide</a></span>.</div>
      <div class="B_-_Body"><a name="1882605">For more information on the </a><span class="cv_-_computer_voice">maintenance_tools</span> command, see <a href="javascript:WWHClickedPopup('admin', 'commandsref.14.05.html#1737057', '');" title="Maintenance Tools Command">“Maintenance Tools Command” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'commandsref.14.05.html#1737057', '');" title="Maintenance Tools Command">System Administration Guide</a></span>.</div>
      <h4 class="H2_-_Heading_2"><a name="1500506">Backing up the Database After Upgrade</a></h4>
      <div class="B_-_Body"><a name="1500507">Finally, before going live, back up the upgraded database. This provides you with a snapshot of the initial upgraded data set, if an unanticipated event occurs just after going live.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>