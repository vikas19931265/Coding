<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Troubleshooting Batch Processes and Work Queues</title>
    <link rel="StyleSheet" href="css/batch.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter System Administration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="batch.11.01.html#1630296">Batch Processes and Work Queues</a> : Troubleshooting Batch Processes and Work Queues</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1630296">Troubleshooting Batch Processes and Work Queues</a></h3>
      <div class="B_-_Body"><a name="1455906">This section discusses topics that are helpful in troubleshooting the management of batch processes.</a></div>
      <h4 class="H2_-_Heading_2"><a name="1455900">Tuning Your Batch Process Schedule</a></h4>
      <div class="B_-_Body"><a name="1055153">To improve the performance of the batch operations, stagger the schedule so processes do not run at the same time. See </a><a href="javascript:WWHClickedPopup('admin', 'batch.11.08.html#1030716', '');" title="Scheduling Batch Processes and Work Queues">“Scheduling Batch Processes and Work Queues”</a>. You can also run these processes manually from the command-line.</div>
      <h4 class="H2_-_Heading_2"><a name="1055204">Running Batch Processes from the Command Line</a></h4>
      <div class="B_-_Body"><a name="1023654">You can use the </a><span class="cv_-_computer_voice">maintenance_tools</span> command-line tool to run any of the batch processes. Run the following command:</div>
      <div class="CS_-_Code_Single_Line"><a name="1023656">maintenance_tools –password </a><span class="pc_-_parameter_in_code">password</span> –startprocess <span class="pc_-_parameter_in_code">process_name</span> </div>
      <div class="B_-_Body"><a name="1023658">For example, to recalculate database statistics, you would run the following:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1023660">maintenance_tools –password </a><span class="pc_-_parameter_in_code">password</span> –startprocess dbstats</div>
      <h4 class="H2_-_Heading_2"><a name="1023663">Monitoring Batch Processes</a></h4>
      <div class="B_-_Body"><a name="1023664">To check the status of a batch process, run the following command:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1023666">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> –processstatus <span class="pc_-_parameter_in_code">process_code</span> </div>
      <div class="B_-_Body"><a name="1023668">You can also terminate a running process with the following command:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1023670">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> –terminateprocess <span class="pc_-_parameter_in_code">process_code</span> </div>
      <h4 class="H2_-_Heading_2"><a name="1630324">Troubleshooting Distributable Work Queues</a></h4>
      <div class="B_-_Body"><a name="1630325">Workers can encounter problems in processing that cause the worker to fail before completing items that the worker has checked out. For example, a server might die, killing its workers in the middle of processing. This can result in orphan work items. Orphans are created if a worker has an item checked out but does not complete work on the item within the allotted </a><span class="cv_-_computer_voice">progressinterval</span> (current time - <span class="cv_-_computer_voice">LastUpdateTime</span> &gt; <span class="cv_-_computer_voice">progressinterval)</span>. Workers treat orphans just as they do <span class="cv_-_computer_voice">available</span> items. The next worker that encounters the orphan item in the table, adopts it for processing and resets the item’s <span class="cv_-_computer_voice">LastUpdateTime</span>, <span class="cv_-_computer_voice">CheckedOutBy</span>, and <span class="cv_-_computer_voice">Status</span>. </div>
      <div class="B_-_Body"><a name="1630330">If a work queue is experiencing a large number of orphans, review log files to locate timeouts during processing. For example, a timeout might be caused by a worker waiting for an external server to return a value. If the log contains these type of timeouts, adjust the </a><span class="cv_-_computer_voice">progressinterval</span> value to give workers more processing time.</div>
      <div class="B_-_Body"><a name="1630331">Sometimes, a problem inherent in the item itself causes processing of the item to fail. For example, an exception is thrown. In such cases, the worker stops processing the item and goes on to the next. The item becomes orphaned and the next worker attempts to process it. In this way, a work queue attempts to process each item multiple times up to a limit set by the item’s configuration. If the work queue exceeds the item’s limit, ClaimCenter changes the item’s status to </a><span class="cv_-_computer_voice">failed</span>. Workers ignore <span class="cv_-_computer_voice">failed</span> items and no longer attempt to process them.</div>
      <div class="B_-_Body"><a name="1630335">To remove failed work items, run the Purge Failed Work Items process. Run the Purge Failed Work Items process twice to complete the purge. The first run sets the date on the failed work items and the second run performs the actual purge. See </a><a href="javascript:WWHClickedPopup('admin', 'batch.11.07.html#2025557', '');" title="List of Batch Processes and Distributable Work Queues">“Purge Failed Work Items”</a>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>