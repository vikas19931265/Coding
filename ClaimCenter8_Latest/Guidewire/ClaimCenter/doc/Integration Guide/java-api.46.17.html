<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor</title>
    <link rel="StyleSheet" href="css/java-api.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-claims.html#2248460">Other Integration Topics</a> : <a class="WebWorks_Breadcrumb_Link" href="java-api.46.01.html#2248460">Java and OSGi Support</a> : OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2248460">OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor</a></h3>
      <div class="B_-_Body"><a name="2248463">For a summary of the IDE options for OSGi plugin development, see </a><a href="javascript:WWHClickedPopup('integration', 'java-api.46.02.html#2221126', '');" title="Overview of Java and OSGi Support">“IDE Options for Plugin Development in the Java Language”</a>. </div>
      <div class="B_-_Body"><a name="2248546">This topic describes specific steps for OSGi plugin development:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2255838', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor" name="2248567">Generate Java API Libraries</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2255847', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor" name="2248598">Launch IntelliJ IDEA with OSGi Editor</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2234758', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor" name="2248629">Create an OSGi-compliant Class that Implements a Plugin Interface</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2260357', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor" name="2248660">Compiling and Installing Your OSGi Plugin as an OSGi Bundle</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2260349', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor" name="2255816">Using Third-Party Libraries in Your OSGi Plugin</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="2255838">Generate Java API Libraries</a></h4>
      <div class="B_-_Body"><a name="2255842">Before starting work with Java and OSGi, regenerate the ClaimCenter Java API libraries with the </a><span class="cv_-_computer_voice">regen-java-api</span> tool. See <a href="javascript:WWHClickedPopup('integration', 'java-api.46.04.html#2276539', '');" title="Regenerating Java API Libraries">“Regenerating Java API Libraries”</a>. This is a requirement that is independent of which Java IDE that you use.</div>
      <h4 class="H2_-_Heading_2"><a name="2255847">Launch IntelliJ IDEA with OSGi Editor</a></h4>
      <div class="B_-_Body"><a name="2255848">For OSGi plugin development, Guidewire recommends that you use the included application IntelliJ IDEA with OSGi Editor. To launch IntelliJ IDEA with OSGi Editor, open a command prompt in the </a><span class="cv_-_computer_voice">ClaimCenter/bin</span> directory and type the following:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2223683">gwcc plugin-studio</a></PRE>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2222892">If you use other Guidewire applications, such as Guidewire ContactManager, each Guidewire application includes its own version of IntelliJ IDEA with OSGi Editor. Be sure to run this command prompt from the correct application product directory.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2226566">Creating a New Project With OSGi Plugin Module</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2226568">If this command is executed for the first time for one Guidewire product, IntelliJ starts with an empty workspace and no current project</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2227757">To create a new project, select </a><span class="ui_-_UI_element">Create New Project</span>. In the module type list, click <span class="ui_-_UI_element">OSGi Plugin Module</span>. In the <span class="ui_-_UI_element">Project name</span> field, type the project name. In the <span class="ui_-_UI_element">Project location</span> field, type the project location. Do not yet click <span class="ui_-_UI_element">Finish</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2227758">Alternatively, if you want to add or import an OSGi module to an existing empty project, in the </a><span class="ui_-_UI_element">Project Structure</span> dialog, select <span class="ui_-_UI_element">Empty Project</span> and set the <span class="ui_-_UI_element">Project name</span> field. Next, add a module in the <span class="ui_-_UI_element">Project Structure</span> dialog by clicking the plus sign (<span class="ui_-_UI_element">+</span>). Choose either <span class="ui_-_UI_element">New Module</span> (for new module) or <span class="ui_-_UI_element">Import Module</span> (to select another module to import). For a new module, select the module type <span class="ui_-_UI_element">OSGi Plugin Module</span>. In the <span class="ui_-_UI_element">Module name</span> field, type the module name. Continue to follow the rest of this procedure.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2227759">Open the </a><span class="ui_-_UI_element">More Settings</span> pane, which may be initially closed. Set the name of the new module as appropriate. By default, the <span class="ui_-_UI_element">Bundle Symbolic Name</span> field matches the name of the module. You can optionally change the symbolic name to a different value in this dialog. The bundle symbolic name defines the main part of the output JAR file name before the version number. You can also optionally change the version of the bundle in the <span class="ui_-_UI_element">Bundle Version</span> field.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2226584">Click </a><span class="ui_-_UI_element">Finish</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2224626">If this is a new project, you must set the project JDK:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LS2A_-_List_Start_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS2A_-_List_Start_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">a.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS2A_-_List_Start_002c_Level_2_Alpha_inner"><a name="2234706">Click </a><span class="ui_-_UI_element">File → Project Structure → Project Settings</span>. In the <span class="ui_-_UI_element">Project</span> section, set the <span class="ui_-_UI_element">Project JDK</span> picker to your Java 7 JDK, which might be labelled <span class="ui_-_UI_element">1.7.</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">b.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2234757">If there is no Java 7 JDK listed, click the </a><span class="ui_-_UI_element">New...</span> button. Click JDK, then select your Java 7 JDK on your disk. Next, set the <span class="ui_-_UI_element">Project JDK</span> picker to your newly-created Java&nbsp;7&nbsp;JDK configuration.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2239461">For advanced OSGi settings, see </a><a href="javascript:WWHClickedPopup('integration', 'java-api.46.18.html#2225912', '');" title="Advanced OSGi Dependency and Settings Configuration">“Advanced OSGi Dependency and Settings Configuration”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="2234758">Create an OSGi-compliant Class that Implements a Plugin Interface</a></h4>
      <div class="B_-_Body"><a name="2231406">Follow the procedure below to implement an OSGi plugin with IntelliJ IDEA with OSGi Editor.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2231419">To implement a new OSGi plugin</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2231407">Remember to regenerate the Java libraries. See </a><a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2255838', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor">“Generate Java API Libraries”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2276478">In IntelliJ IDEA with OSGi Editor, navigate under your OSGi module to the </a><span class="cv_-_computer_voice">src</span> directory.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2259416">Create new subpackages as necessary. Right-click on </a><span class="cv_-_computer_voice">src</span> and choose <span class="ui_-_UI_element">New</span> → <span class="ui_-_UI_element">Package</span>. To follow along with an example of a simple startable plugin, create a <span class="cv_-_computer_voice">mycompany</span> package to contain your new classes.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2269933">Right-click on the desired package for your class. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2269964">Choose </a><span class="ui_-_UI_element">New</span> → <span class="ui_-_UI_element">New OSGi plugin.</span> IntelliJ IDEA with OSGi Editor opens a dialog. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2269934">In the </a><span class="ui_-_UI_element">Plugin class name</span> field, enter the name of the Java class that you want to create. For our example, type <span class="cv_-_computer_voice">DemoStartablePlugin</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	7.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2259776">In the </a><span class="ui_-_UI_element">Plugin interface</span> field, enter a fully qualified name of the plugin interface you want to implement. Alternatively, to choose from a list, click the ellipsis (<span class="cv_-_computer_voice">...</span>) button. Type some of the name or scroll to the desired plugin interface. Select the desired interface and then click <span class="ui_-_UI_element">OK</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	8.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2232000">IntelliJ IDEA with OSGi Editor displays a dialog </a><span class="ui_-_UI_element">Select Methods to Implement</span>. By default, all methods are selected. Click <span class="ui_-_UI_element">OK</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	9.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2236024">IntelliJ IDEA with OSGi Editor displays your new class with stub versions of all required methods.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	10.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2236025">If the top of the Java class editor has a yellow banner that says </a><span class="ui_-_UI_element">Project SDK is not defined</span>, you must set your project SDK to a JDK. See <a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2226566', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor">“Creating a New Project With OSGi Plugin Module”</a>. If the SDK settings are uninitialized or incorrect, your project shows many compilation errors in your new Java class.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	11.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2234921">If you have several tightly-related OSGi plugin implementations, you can optionally deploy them in the same OSGi bundle. If you have additional plugins to implement in this same project, repeat this procedure for each plugin implementation class. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2235702">For example, one OSGi bundle can encapsulate messaging code for a messaging destination. A messaging destination may implement the </a><span class="cv_-_computer_voice">MessageTransport</span> interface. The same messaging destination may optionally also implement the <span class="cv_-_computer_voice">MessageReply</span> and <span class="cv_-_computer_voice">MessageRequest</span> plugin interfaces. If the multiple plugin implementations have shared code and third-party libraries, you could deploy them in the same OSGi bundle.</div>
      <h6 class="HS_-_Head_Sub"><a name="2259539">Example Startable Plugin in Java Using OSGi</a></h6>
      <div class="B_-_Body"><a name="2259949">The following example defines a class that implements the </a><span class="cv_-_computer_voice">IStartablePlugin</span> interface. The following class simply prints a message to the console for each application call to each plugin method. Use the following example to confirm you can successfully deploy a basic OSGi plugin using IntelliJ IDEA with OSGi Editor.</div>
      <div class="B_-_Body"><a name="2261099">Create a class with fully-qualified name </a><span class="cv_-_computer_voice">mycompany.DemoStartablePlugin</span> with the following contents:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259328">package mycompany;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259329">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259330">import aQute.bnd.annotation.component.Activate;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259331">import aQute.bnd.annotation.component.Component;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259332">import aQute.bnd.annotation.component.ConfigurationPolicy;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259333">import aQute.bnd.annotation.component.Deactivate;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259334">import gw.api.startable.IStartablePlugin;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259335">import gw.api.startable.StartablePluginCallbackHandler;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259336">import gw.api.startable.StartablePluginState;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259337">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259338">import java.util.Map;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259339">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259340">@Component(provide = IStartablePlugin.class, configurationPolicy = ConfigurationPolicy.require)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259341">public class DemoStartablePlugin implements IStartablePlugin {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259342">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259343">    private StartablePluginState _state = StartablePluginState.Stopped;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259344">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259345">    private void printMessageToGuidewireConsole(String s) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259346">        System.out.println("***************");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259347">        System.out.println("*************** --&gt; STARTABLE PLUGIN METHOD = " + s);</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259348">        System.out.println("***************");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259349">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259350">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259357">&nbsp;&nbsp;&nbsp;&nbsp;@Activate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259358">    public void activate(Map&lt;String, Object&gt; config) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259359">        printMessageToGuidewireConsole("activate -- OSGi plugin init");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2274060">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// The Map contains the plugin parameters defined in the Plugins registry in Studio</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2274162">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// There are additional OSGi-specific parameters in this Map if you want them.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259360">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259361">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259365">&nbsp;&nbsp;&nbsp; @Deactivate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259366">    public void deactivate() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259367">        printMessageToGuidewireConsole("deactivate -- OSGi plugin shutdown");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259368">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259369">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259370">    // Other IStartablePlugin interface methods...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259371">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259372">    @Override</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259373">    public void start(StartablePluginCallbackHandler startablePluginCallbackHandler, </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2260297">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;boolean b) throws Exception {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259374">        printMessageToGuidewireConsole("start");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259375">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259376">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259377">    @Override</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259378">    public void stop(boolean b) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259379">        printMessageToGuidewireConsole("stop");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259380">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259381">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259382">    @Override</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259383">    public StartablePluginState getState() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259384">        printMessageToGuidewireConsole("getState");</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2259385">        return _state;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2260352">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2260355">}</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2260357">Compiling and Installing Your OSGi Plugin as an OSGi Bundle</a></h4>
      <div class="B_-_Body"><a name="2239729">The main script for OSGi compilation and deployment is an Ant build script. See </a><a href="javascript:WWHClickedPopup('integration', 'java-api.46.18.html#2225912', '');" title="Advanced OSGi Dependency and Settings Configuration">“Advanced OSGi Dependency and Settings Configuration”</a>.</div>
      <div class="B_-_Body"><a name="2239990">The Ant build script does the following:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2239790">compiles Java code</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2239791">generates OSGi metadata</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2239792">packages code and library dependencies into an OSGi bundle</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2240112">installs an OSGi bundle to the correct ClaimCenter bundles directory as defined in the OSGi plugin project’s </a><span class="cv_-_computer_voice">build.properties</span> file. For related information, see <a href="javascript:WWHClickedPopup('integration', 'java-api.46.18.html#2225912', '');" title="Advanced OSGi Dependency and Settings Configuration">“Advanced OSGi Dependency and Settings Configuration”</a>. The script copies your final JAR file to the following ClaimCenter directory:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="2240123">ClaimCenter/modules/configuration/deploy/bundles</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2231297">To compile and install your OSGi plugin implementation as an OSGi bundle implementation</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2228843">Open a command prompt in the directory that contains your OSGi plugin module.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2229026">Type the following command:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="2229060">&nbsp;ant install</a></div>
      <div class="LP_-_List_Para"><a name="2240049">The command generates messages about compiling source files, generating files, copying files, and building a JAR file. If it succeeds, it prints: </a></div>
      <div class="CS_-_Code_Single_Line"><a name="2256932">BUILD SUCCESSFUL</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2258008">Switch to or open the regular ClaimCenter Studio (not IntelliJ IDEA with OSGi Editor) application. Navigate in the </a><span class="ui_-_UI_element">Project</span> pane to the path <span class="ui_-_UI_element">configuration</span> → <span class="ui_-_UI_element">deploy</span> → <span class="ui_-_UI_element">bundles</span>. Confirm that you see the newly-deployed file <span class="p_-_parameter">YOUR_JAR_NAME</span><span class="cv_-_computer_voice">.jar</span>. The JAR name is based on the module symbolic name followed by the version.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2258018">If the JAR file is not present at that location, check the Ant console output for the directory path that the script copied the JAR file. If you recently installed a new version of ClaimCenter at a different path, or moved your Guidewire product directory, you must immediately update your OSGi settings in your OSGi project. See </a><a href="javascript:WWHClickedPopup('integration', 'java-api.46.19.html#2246016', '');" title="Updating Your OSGi Plugin Project after Product Location Changes">“Updating Your OSGi Plugin Project after Product Location Changes”</a>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2240222">In ClaimCenter Studio (not IntelliJ IDEA with OSGi Editor), register your OSGi plugin implementation. Registering a plugin implementation defines where to find a plugin implementation class and what interface the class implements.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LS2A_-_List_Start_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS2A_-_List_Start_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">a.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS2A_-_List_Start_002c_Level_2_Alpha_inner"><a name="2225216">In the </a><span class="ui_-_UI_element">Project</span> window, navigate to <span class="ui_-_UI_element">configuration</span> → <span class="ui_-_UI_element">config</span> → <span class="ui_-_UI_element">Plugins</span> → <span class="ui_-_UI_element">registry</span>. Right-click on the item <span class="ui_-_UI_element">registry</span>, and choose <span class="ui_-_UI_element">New</span> → <span class="ui_-_UI_element">Plugin</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">b.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2225217">In the plugin dialog, enter the plugin name in the </a><span class="ui_-_UI_element">Name</span> field. For our example, use <span class="cv_-_computer_voice">DemoStartablePlugin</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2258972">For plugin interfaces that only support one implementation, just enter the interface name without the package. For example, </a><span class="cv_-_computer_voice">IStartablePlugin</span>. The text you enter becomes the basis for the file name that ends in <span class="cv_-_computer_voice">.gwp</span>. The <span class="cv_-_computer_voice">.gwp</span> file represents one item in the Plugins registry.</div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2258366">If the plugin interface supports multiple implementations, like messaging plugins or startable plugins, this can be any arbitrary name. If you are registering a messaging plugin, the </a><span class="e_-_emphasis">plugin name</span> must match the plugin name in fields in the separate <span class="ui_-_UI_element">Messaging</span> editor in Studio.</div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2274295">For our demonstration implementation of the </a><span class="cv_-_computer_voice">IStartablePlugin</span> interface, enter the plugin name <span class="cv_-_computer_voice">DemoStartablePlugin</span>.</div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">c.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2274296">In the plugin dialog, next to the </a><span class="ui_-_UI_element">Interface</span> field, click the ellipsis (<span class="cv_-_computer_voice">...</span>), find the interface class, and select it. If you want to type it, enter the interface name without the package. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2259008">For our demonstration implementation of the </a><span class="cv_-_computer_voice">IStartablePlugin</span> interface, find or type the plugin name <span class="cv_-_computer_voice">IStartablePlugin</span>.</div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">d.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2259184">Click </a><span class="ui_-_UI_element">OK</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">e.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2259185">In the Plugins registry main pane for that </a><span class="cv_-_computer_voice">.gwp</span> file, click the plus sign (<span class="cv_-_computer_voice">+</span>) and select <span class="ui_-_UI_element">Add OSGi Plugin</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">f.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2259186">In the </a><span class="ui_-_UI_element">Service PID</span> field, type the fully-qualified Java class name for your OSGi implementation class. Note that this is different from the bundle name or the bundle symbolic name. The ellipsis (<span class="cv_-_computer_voice">...</span>) button does not display a picker to find available OSGi classes, so you must type the class name in the field.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2259257">For our demonstration implementation of the </a><span class="cv_-_computer_voice">IStartablePlugin</span> interface, type the fully-qualified class name <span class="cv_-_computer_voice">mycompany.DemoStartablePlugin</span>.</div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">g.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2230673">Set any other fields that your plugin implementation needs, such as plugin parameters.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2230782">For more information about the Plugins registry, see </a><a href="javascript:WWHClickedPopup('integration', 'plugins.15.01.html#2013370', '');" title="Plugin Overview">“Plugin Overview”</a></div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">h.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2260415">Make whatever other changes you need to make in the regular ClaimCenter Studio application. For example, if your plugin is a messaging plugin, configure a new messaging destination. See </a><a href="javascript:WWHClickedPopup('config', 'studio_messaging.15.1.html#1178213', '');" title="Using the Messaging Editor">“Using the Messaging Editor” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'studio_messaging.15.1.html#1178213', '');" title="Using the Messaging Editor">Configuration Guide</a></span> and <a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.27.01.html#4197044', '');" title="Messaging and Events">“Messaging and Events”</a>. You may need to make other changes such as changes to your rule sets or other related Gosu code.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI2A_-_List_Item_002c_Level_2_Alpha_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">i.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI2A_-_List_Item_002c_Level_2_Alpha_inner"><a name="2260422">Start the server. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2269997">To run the server from Studio, if ClaimCenter Studio was already running when you installed or re-installed the bundle, there is an extra required step before running the server. Open a command prompt in the </a><span class="cv_-_computer_voice">ClaimCenter/bin</span> directory and type:</div>
      <div class="CS_-_Code_Single_Line"><a name="2270004">&nbsp;&nbsp;&nbsp;&nbsp;gwcc dev-deploy</a></div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2270025">Next, start the server from Studio, such as clicking the </a><span class="ui_-_UI_element">Run</span> or <span class="ui_-_UI_element">Debug</span> menu items or buttons.</div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2269990">Alternatively, run the QuickStart server from the command line. Open a command prompt in the </a><span class="cv_-_computer_voice">ClaimCenter/bin</span> directory and type the following:</div>
      <div class="CS_-_Code_Single_Line"><a name="2260338">&nbsp;&nbsp;&nbsp;&nbsp;gwcc dev-start</a></div>
      <div class="B_-_Body"><a name="2260459">An earlier topic showed an example startable plugin. See </a><a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2234758', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor">“Create an OSGi-compliant Class that Implements a Plugin Interface”</a>. If you used that example, closely read the console messages during server startup. The example OSGi startable plugin prints messages during server startup. This proves that ClaimCenter successfully called your OSGi plugin implementation.</div>
      <h4 class="H2_-_Heading_2"><a name="2260349">Using Third-Party Libraries in Your OSGi Plugin</a></h4>
      <div class="B_-_Body"><a name="2250843">If your OSGi plugin code uses third-party libraries, there are two deployment options, depending on your type of third-party JAR file:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2250845">Embed inside your OSGi bundle</a></span> – You can embed any Java library in your OSGi plugin bundle. The library is not required to be an OSGi bundle, but OSGi third-party libraries are also supported. Deploy your library JAR in the module directory within the <span class="cv_-_computer_voice">inline-lib</span> subdirectory. See <a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2273002', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor">“Embed a Third-Party Java Library in your OSGi bundle”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2270197">Deploy as a separate OSGi bundle (requires third-party JAR to support OSGi) </a></span>– If your library contains a properly-configured OSGi bundle with OSGi properties in the manifest, you can optionally deploy it as a separate OSGi bundle outside your main OSGi plugin bundle. For use within your OSGi plugin project, deploy your library JAR in the module directory within the <span class="cv_-_computer_voice">lib</span> (not <span class="cv_-_computer_voice">inline-lib</span>) subdirectory. See <a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2264954', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor">“Deploying a Third-party OSGi-compliant Library as a Separate Bundle”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2264954">Deploying a Third-party OSGi-compliant Library as a Separate Bundle</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2265040">If your library contains a properly-configured OSGi bundle with OSGi properties in the manifest, you can optionally deploy it as a separate OSGi bundle outside your main OSGi plugin bundle.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2264955">To use third-party OSGi-compliant libraries separate from your OSGi plugin bundle</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2264956">Put any third-party OSGi JAR files in the </a><span class="cv_-_computer_voice">lib</span> (not <span class="cv_-_computer_voice">inline-lib</span>) folder inside your OSGi module in IntelliJ IDEA with OSGi Editor.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2264961">Write code that uses the third-party JAR. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2264962">Confirm there are no compile errors.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2264963">Open a command prompt at the root of your module and type:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="2264964">ant install</a></div>
      <div class="LP_-_List_Para"><a name="2270322">The tool generates various messages, and concludes with:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2272996">BUILD SUCCESSFUL</a></div>
      <div class="B_-_Body"><a name="2273000">The </a><span class="cv_-_computer_voice">ant install</span> script copies your bundle JAR files to the <span class="cv_-_computer_voice">ClaimCenter/deploy/bundles</span> directory. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2273002">Embed a Third-Party Java Library in your OSGi bundle</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2265061">You can embed any Java library in your OSGi plugin bundle. The library is not required to be an OSGi bundle, but OSGi third-party libraries are also supported. In some cases, you may require special configuration to change how the bundle manifests imports Java packages that your embedded libraries reference. </a></div>
      <div class="B_-_Body"><a name="2273305">For example, suppose you want to use a third-party library that has 100 classes, although you only use 5 of them, and only some of the methods on those classes. If the classes and APIs that you use only rely on available and embedded libraries, there is no problem at run time. </a></div>
      <div class="B_-_Body"><a name="2275038">It may be that some of the classes in your third-party library but that you do not use have dependencies on external classes. The library might use an API that relies on classes that are unavailable at run time. OSGi tries to avoid this risk by ensuring at server startup that all required classes. Even if you never call those APIs, there will be errors on server startup because OSGi tries to verify all libraries are available, including ones you never called. </a></div>
      <div class="B_-_Body"><a name="2274829">Fortunately, you can modify the configuration file to ignore unavailable packages during OSGi library validation phase on server startup. The following instructions include techniques to mitigate these problems.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2264944">To use third-party libraries in your OSGi plugin</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2250834">Put any third-party JAR files in the </a><span class="cv_-_computer_voice">inline-lib</span> folder inside your OSGi module in IntelliJ IDEA with OSGi Editor.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2252464">Write code that uses the third-party JAR. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2252547">Confirm there are no compile errors.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2240582">Open a command prompt at the root of your module and type:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="2240664">ant dist</a></div>
      <div class="LP_-_List_Para"><a name="2240687">The tool generates various messages, and concludes with:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2240395">BUILD SUCCESSFUL</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2252592">Open the file </a><span class="ps_-_parameter_in_code_snippets">MODULE_ROOT</span><span class="cv_-_computer_voice">/generated/META-INF/MANIFEST.MF</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2253182">In that file, check that the import package (</a><span class="cv_-_computer_voice">Import-Package</span>) header includes no unexpected packages. All classes of the embedded libraries are copied inside your bundle such that all library classes become part of your bundle. This process this might cause the <span class="cv_-_computer_voice">Bnd</span> tool to generate unexpected imports to appear in the list. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	7.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2253303">If you see unexpected imports, change the import package instruction in the </a><span class="cv_-_computer_voice">bnd.bnd</span> file, rather than modifying the <span class="cv_-_computer_voice">MANIFEST.MF</span> file. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2253256">Never directly change the file </a><span class="cv_-_computer_voice">MANIFEST.MF</span>. It is auto-generated.</div>
      <div class="LP_-_List_Para"><a name="2253238">In the </a><span class="cv_-_computer_voice">bnd.bnd</span> file, set the <span class="cv_-_computer_voice">Import-Package</span> instruction to a comma-delimited list of Java packages to ignore by including each with the exclamation point (<span class="cv_-_computer_voice">!</span>) prefix. The exclamation point means “not” or “exclude”. Finally add an asterisk (<span class="cv_-_computer_voice">*</span>) character as the last item in the list to indicate to import all other packages. For example, to ignore packages <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">javax.inject</span> and <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">sun.misc</span>, set the line as follows:</div>
      <div class="CS_-_Code_Single_Line"><a name="2254124">Import-Package=!javax.inject,!sun.misc,*</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	8.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2265379">Deploy your OSGi plugin and test it. Look for server startup errors that look similar to:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2265492">ERROR Server.OSGi Could not start bundle messaging-OSGi-plugins from reference:</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2265493">&nbsp;&nbsp;file:/D:/GuidewireApp801/webapps/pc/bundles/messaging-OSGi-plugins-1.0.0.jar</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2265494">org.osgi.framework.BundleException: The bundle "messaging-OSGi-plugins_1.0.0 [12]" could not </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2265495">&nbsp;&nbsp;be resolved. Reason: Missing Constraint: Import-Package: javax.inject; version="0.0.0"</a></PRE>
      <div class="LP_-_List_Para"><a name="2265523">If there are errors, repeat this procedure and add more Java packages to the </a><span class="cv_-_computer_voice">Import-Package</span> line in <span class="cv_-_computer_voice">bnd.bnd</span>.</div>
      <div class="B_-_Body"><a name="2253308">For more information about the </a><span class="cv_-_computer_voice">bnd.bnd</span> file, see <a href="javascript:WWHClickedPopup('integration', 'java-api.46.18.html#2225912', '');" title="Advanced OSGi Dependency and Settings Configuration">“Advanced OSGi Dependency and Settings Configuration”</a>.</div>
      <h6 class="HS_-_Head_Sub"><a name="2240699">Example of Embedding Third-Party Libraries in an OSGi Plugin</a></h6>
      <div class="B_-_Body"><a name="2248695">Suppose your OSGi plugin requires the Java library called Guava, specifically version 15. First, download </a><span class="cv_-_computer_voice">guava-15.0.jar</span> from the project web site. Next, move the <span class="cv_-_computer_voice">guava-15.0.jar</span> file to the <span class="cv_-_computer_voice">inline-lib</span> folder within your OSGi project within IntelliJ IDEA with OSGi Editor.</div>
      <div class="B_-_Body"><a name="2249506">Next, write some Java code that uses this library. For example:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254006">import com.google.common.escape.Escaper;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254032">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254034">...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254039">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254041">// use the class com.google.common.escape.Escaper in guava-15.0.jar</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254007">Escaper escaper = XmlEscapers.xmlAttributeEscaper(); </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254008">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2255196">s = escaper.escape(s);</a></PRE>
      <div class="B_-_Body"><a name="2255197">From a command prompt, run the following command:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2255198">ant dist</a></div>
      <div class="B_-_Body"><a name="2249709">That tool generates OSGi metadata and prints various messages. If successful, the final line is:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2249710">BUILD SUCCESSFUL</a></div>
      <div class="B_-_Body"><a name="2225462">Open the file </a><span class="cv_-_computer_voice">MODULE_ROOT/generated/META-INF/MANIFEST.MF</span> and check that <span class="cv_-_computer_voice">Import-Package</span> header does not include any unexpected packages. Our example file might look like the following:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225464">Manifest-Version: 1.0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225466">Service-Component: OSGI-INF/com.qa.MessageTransportOSGiImpl.xml</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250483">Private-Package: com.google.common.html,com.google.common.net,com.google.common.collect,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250588">&nbsp;&nbsp;com.google.common.primitives,com.google.common.base,com.google.common.escape,com.qa,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250589">&nbsp;&nbsp;com.google.common.base.internal,com.google.common.cache,com.google.common.eventbus,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250590">&nbsp;&nbsp;com.google.common.util.concurrent,com.google.common.hash,com.google.common.io,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250515">&nbsp;&nbsp;com.google.common.xml,com.google.common.reflect,com.google.common.math,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250528">&nbsp;&nbsp;com.google.common.annotations</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225482">Bundle-Version: 1.0.0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225484">Tool: Bnd-1.50.0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225486">Bundle-Name: messaging-OSGi-plugins</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225488">Bnd-LastModified: 1382994235749</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225490">Created-By: 1.7.0_45 (Oracle Corporation)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225492">Bundle-ManifestVersion: 2</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225494">Bundle-SymbolicName: messaging-OSGi-plugins</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225496">Import-Package: gw.pl.messaging.entity,gw.plugin.messaging,javax.annotation,javax.inject,sun.misc</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225500">Bundle-RequiredExecutionEnvironment: JavaSE-1.7</a></PRE>
      <div class="B_-_Body"><a name="2250033">Note the following line:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2225511">Import-Package: gw.pl.messaging.entity,gw.plugin.messaging,javax.annotation,javax.inject,sun.misc</a></div>
      <div class="B_-_Body"><a name="2225513">By default, the packages </a><span class="cv_-_computer_voice">javax.inject</span> and <span class="cv_-_computer_voice">sun.misc</span> are unavailable at runtime. The package <span class="cv_-_computer_voice">javax.inject</span> is a JavaEE package that is not exported by default. If you install the generated OSGi bundle in its current form and start the server, the server generates the following error:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225516">ERROR Server.OSGi Could not start bundle messaging-OSGi-plugins from reference:</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250169">&nbsp;&nbsp;file:/D:/GuidewireApp801/webapps/pc/bundles/messaging-OSGi-plugins-1.0.0.jar</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225517">org.osgi.framework.BundleException: The bundle "messaging-OSGi-plugins_1.0.0 [12]" could not </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2250174">&nbsp;&nbsp;be resolved. Reason: Missing Constraint: Import-Package: javax.inject; version="0.0.0"</a></PRE>
      <div class="B_-_Body"><a name="2225519">In this case, both problematic packages are optional. </a></div>
      <div class="B_-_Body"><a name="2254452">In the </a><span class="cv_-_computer_voice">bnd.bnd</span> file, set the <span class="cv_-_computer_voice">Import-Package</span> instruction to a comma-delimited list of Java packages to ignore by including each with the exclamation point prefix. Finally, add an asterisks(*) character as the last item in the list to indicate to import all other packages. For example, to ignore packages <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">javax.inject</span> and <span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">sun.misc</span>, set the line as follows:</div>
      <div class="CS_-_Code_Single_Line"><a name="2254453">Import-Package=!javax.inject,!sun.misc,*</a></div>
      <div class="B_-_Body"><a name="2273237">Run the </a><span class="cv_-_computer_voice">"ant install"</span> tool again. The scripts embed the <span class="cv_-_computer_voice">guava</span> JAR in your OSGi bundle.</div>
      <div class="B_-_Body"><a name="2273238">Open the </a><span class="cv_-_computer_voice">MANIFEST.MF</span> file and notice two changes:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2273239">An additional </a><span class="cv_-_computer_voice">Ignore-Package</span> instruction.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2273234">The </a><span class="cv_-_computer_voice">Import-Package</span> instruction does not include the problematic packages.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2255007">For example:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254853">Manifest-Version: 1.0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254854">Service-Component: OSGI-INF/com.qa.MessageTransportOSGiImpl.xml</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254855">Private-Package: com.google.common.html,com.google.common.net,com.google.common.collect,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254856">&nbsp;&nbsp;com.google.common.primitives,com.google.common.base,com.google.common.escape,com.qa,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254857">&nbsp;&nbsp;com.google.common.base.internal,com.google.common.cache,com.google.common.eventbus,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254858">&nbsp;&nbsp;com.google.common.util.concurrent,com.google.common.hash,com.google.common.io,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254859">&nbsp;&nbsp;com.google.common.xml,com.google.common.reflect,com.google.common.math,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254860">&nbsp;&nbsp;com.google.common.annotations</a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2254861">Ignore-Package: javax.inject,sun.misc</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254862">Tool: Bnd-1.50.0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254752">Bundle-Name: messaging-OSGi-plugins</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2254753">Created-By: 1.7.0_45 (Oracle Corporation)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225551">Bundle-RequiredExecutionEnvironment: JavaSE-1.7</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225553">Bundle-Version: 1.0.0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225555">Bnd-LastModified: 1382995392983</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225557">Bundle-ManifestVersion: 2</a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2225559">Import-Package: gw.pl.messaging.entity,gw.plugin.messaging,javax.annotation</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2225563">Bundle-SymbolicName: messaging-OSGi-plugins</a></PRE>
      <div class="B_-_Body"><a name="2261289">With this change, the server now starts up with no OSGi class loading errors.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>