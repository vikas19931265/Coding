<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Proxy Building Blocks</title>
    <link rel="StyleSheet" href="css/proxyservers.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-claims.html#2015094">Other Integration Topics</a> : <a class="WebWorks_Breadcrumb_Link" href="proxyservers.45.1.html#2015094">Proxy Servers</a> : Proxy Building Blocks</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2015094">Proxy Building Blocks</a></h3>
      <div class="B_-_Body"><a name="2019014">The following subsections list building blocks of configuration text for Apache configuration files. For each building block, you must substitute all values that are prepended by dollar signs ($). Actual Apache configuration files must not have the dollar sign in the actual file. </a></div>
      <div class="B_-_Body"><a name="2019015">For instance, instead of:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2019016">Listen $PROXY_PORT_NUMBER_HERE</a></div>
      <div class="B_-_Body"><a name="2019017">Replace it with:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2019018">Listen 1234</a></div>
      <div class="B_-_Body"><a name="2019019">...to listen on port 1234.</a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2021055">The dollar sign (</a><span class="cv_-_computer_voice">$</span>) appears in configuration building blocks to indicate values that must be substituted with hard-coded values. Replace all these values, and leave no “<span class="cv_-_computer_voice">$</span>” characters in the final file.</div>
      <h4 class="H2_-_Heading_2"><a name="2015095">Downstream Proxy With No Encryption</a></h4>
      <div class="B_-_Body"><a name="2013469">In this configuration, a source system calls the proxy, which transmits the request unchanged to the destination URL. The reply follows the opposite path unencrypted.</a></div>
      <div class="B_-_Body"><a name="2015155">Use this Apache configuration building block:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013471">#Disable forward proxying for security purposes</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013472">ProxyRequests Off</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013473">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013474">#The reverse proxy listens to the source system on the reverse proxy port.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013475">Listen $PROXY_PORT_NUMBER_HERE</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013476">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013477">&lt;VirtualHost *:$PROXY_PORT_NUMBER_HERE&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013478">&nbsp;&nbsp;&lt;Proxy *&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013479">&nbsp;&nbsp;&nbsp;&nbsp;Order Deny,Allow</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013480">&nbsp;&nbsp;&nbsp;&nbsp;Deny from all</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013481">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013482">&nbsp;&nbsp;&nbsp;&nbsp;# The Virtual Host accepts requests only from the source system</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013483">&nbsp;&nbsp;&nbsp;&nbsp;Allow from $SourceSystem</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013484">&nbsp;&nbsp;&lt;/Proxy&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013485">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013486">&nbsp;&nbsp;# The Virtual Hosts associates the packet to the destination URL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013487">&nbsp;&nbsp;ProxyPass $SOURCE_URL $DESTINATION_URL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013489">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019707">&nbsp;&nbsp;#Logs redirected to appropriate location</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013490">&nbsp;&nbsp;ErrorLog $ApacheErrorLog </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2020594">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2020595">&lt;/VirtualHost&gt;</a></PRE>
      <div class="B_-_Body"><a name="2020637">Replace the </a><span class="cv_-_computer_voice">$SOURCE_URL</span> value with the source URL. To redirect all HTTP traffic on all URLs on the source IP address and port, use the string “<span class="cv_-_computer_voice">/</span>”, which is just the forward slash, with no quotes around it. </div>
      <div class="B_-_Body"><a name="2021099">Replace the </a><span class="cv_-_computer_voice">$DESTINATION_URL</span> value with the destination domain name or URL.</div>
      <h4 class="H2_-_Heading_2"><a name="2020597">Downstream Proxy With Encryption</a></h4>
      <div class="B_-_Body"><a name="2013498">In this configuration, a source system calls the proxy, which transmits the request to the destination URL. The reply follows the opposite path. The proxy to destination system communication is encrypted for the request and also for the reply.</a></div>
      <div class="B_-_Body"><a name="2015153">Use this Apache configuration building block:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013500">#SSL sessions are cached to ensure possible reuse across sessions</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013501">SSLSessionCache shm:$SSL_CACHE(512000)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013502">SSLSessionCacheTimeout 300</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013503">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013504">#Disable forward proxying for security purposes</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013505">ProxyRequests Off</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013506">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013508">#The reverse proxy listens to the source system on the reverse proxy port.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013509">Listen $PROXY_PORT_NUMBER_HERE</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013510">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2018439">&lt;VirtualHost *:$PROXY_PORT_NUMBER_HERE&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2018441">&nbsp;&nbsp;&lt;Proxy *&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2018442">&nbsp;&nbsp;&nbsp;&nbsp;Order Deny,Allow</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013515">&nbsp;&nbsp;&nbsp;&nbsp;Deny from all</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013516">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013517">&nbsp;&nbsp;&nbsp;&nbsp;# The Virtual Host accepts requests only from the source system</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013518">&nbsp;&nbsp;&nbsp;&nbsp;Allow from $SourceSystem</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013519">&nbsp;&nbsp;&lt;/Proxy&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013520">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013521">&nbsp;&nbsp;# The Virtual Hosts associates the packet to the destination URL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013522">&nbsp;&nbsp;ProxyPass / $DestinationURL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013523">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013524">&nbsp;&nbsp;#Communication is encrypted on the reverse proxy to destination system leg</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013525">&nbsp;&nbsp;SSLProxyEngine on</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013526"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013527">&nbsp;&nbsp;#The Reverse proxy checks the destination’s certificate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013528">&nbsp;&nbsp;#using the appropriate Trusted CA’s certificate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013529">&nbsp;&nbsp;SSLProxyCACertificateFile $DestinationTrustedCACertFile</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013530">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013531">&nbsp;&nbsp;#Logs redirected to appropriate location</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013532">&nbsp;&nbsp;ErrorLog $ApacheErrorLog </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019980">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013534">&lt;/VirtualHost&gt;</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2013535">Upstream (Reverse) Proxy with Encryption for Service Connections</a></h4>
      <div class="B_-_Body"><a name="2013538">In this configuration, a source system calls the reverse proxy, which transmits the request to the destination URL. The reply follows the opposite path. The source system to reverse proxy communication is encrypted (for both request and reply)</a></div>
      <div class="B_-_Body"><a name="2015164">Use this Apache configuration building block:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013540">#SSL sessions are cached to ensure possible reuse across sessions</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013541">SSLSessionCache shm:$SSL_CACHE(512000)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013542">SSLSessionCacheTimeout 300</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013543">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013544">#Private keys are secured through a pass-phrase</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013545">SSLPassPhraseDialog   exec:$ReverseProxyTrustedPassPhraseScript</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013546">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013547">#Disable forward proxying for security purposes</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013548">ProxyRequests Off</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013549">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013550">#The reverse proxy listens to the source system on the reverse proxy port.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013551">Listen $REVERSEPROXY_PORT_NUMBER_HERE</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013552">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019835">&lt;VirtualHost *:$REVERSEPROXY_PORT_NUMBER_HERE&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019836">&nbsp;&nbsp;&lt;Proxy *&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019837">&nbsp;&nbsp;&nbsp;&nbsp;Order Deny,Allow</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013557">&nbsp;&nbsp;&nbsp;&nbsp;Deny from all</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013558">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013559">&nbsp;&nbsp;&nbsp;&nbsp;# The Virtual Host accepts requests only from the source system</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013560">&nbsp;&nbsp;&nbsp;&nbsp;Allow from $SourceSystem</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013561">&nbsp;&nbsp;&lt;/Proxy&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013562">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019269">&nbsp;&nbsp;# The Virtual Hosts associates the packet to the destination URL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019270">&nbsp;&nbsp;ProxyPass    / $DestinationURL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019271">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013566">&nbsp;&nbsp;#Communication is encrypted on the source system to reverse proxy leg</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013567">&nbsp;&nbsp;SSLEngine   on</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013568">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013569">&nbsp;&nbsp;#The Virtual Host authenticates to the source system providing its certificate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013570">&nbsp;&nbsp;SSLCertificateFile  $ReverseProxyTrustedCertFile</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013571">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013572">&nbsp;&nbsp;#The communication security is achieved using the PrivateKey, which is secured</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013573">&nbsp;&nbsp;#through a pass-phrase script.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013574">&nbsp;&nbsp;SSLCertificateKeyFile $ReverseProxyTrustedProtectedPrivateKeyFile </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013575">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013576">&nbsp;&nbsp;#Logs redirected to appropriate location</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013577">&nbsp;&nbsp;ErrorLog   $ApacheErrorLog </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2013579">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019979">&lt;/VirtualHost&gt;</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2013438">Upstream (Reverse) Proxy with Encryption for User Connections</a></h4>
      <div class="B_-_Body"><a name="2019523">Use the Apache server to handle SSL encryption from users to ClaimCenter and thus reduce the processing burden of SSL encryption in Java on the ClaimCenter server. Use the following configuration building block:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019456">#Encrypted Reverse Proxy</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019457">&lt;VirtualHost *:portnumber&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019458"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019459">&nbsp;&nbsp;#Allow from the authorized remote sites only </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019460">&nbsp;&nbsp;&lt;Proxy *&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019461">&nbsp;&nbsp;&nbsp;&nbsp;Order Deny,Allow</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019462">&nbsp;&nbsp;&nbsp;&nbsp;Allow from all</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019463">&nbsp;&nbsp;&lt;/Proxy&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019464"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019465">&nbsp;&nbsp;# Access to the root directory of the application server is not allowed</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019466">&nbsp;&nbsp;&lt;Directory /&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019467">&nbsp;&nbsp;&nbsp;&nbsp;Order Deny,Allow</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019468">&nbsp;&nbsp;&nbsp;&nbsp;Deny from all</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019469">&nbsp;&nbsp;&lt;/Directory&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019470"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019471">&nbsp;&nbsp;#Access is allowed to the cc directory and its subdirectories for the authorized sites only</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019472">&nbsp;&nbsp;&lt;Directory /cc&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019473">&nbsp;&nbsp;&nbsp;&nbsp;Order Deny,Allow</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019474">&nbsp;&nbsp;&nbsp;&nbsp;Allow from all</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019475"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019476">&nbsp;&nbsp;&nbsp;&nbsp;# Never allow communications to be not encrypted</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019477">&nbsp;&nbsp;&nbsp;&nbsp;SSLRequireSSL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019478"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019479">&nbsp;&nbsp;&nbsp;&nbsp;#The Cipher strength must be 128 (maximal cipher size authorized</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019480">&nbsp;&nbsp;&nbsp;&nbsp;#all communication secured</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019481">&nbsp;&nbsp;&nbsp;&nbsp;SSLRequire %{SSL_CIPHER_USEKEYSIZE} &gt;= 128 and %{HTTPS} eq "true"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019482">&nbsp;&nbsp;&lt;/Directory&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019483"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019484">&nbsp;&nbsp;#Classic command to take into account an Internet Explorer issue</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019485">&nbsp;&nbsp;SetEnvIf User-Agent ".*MSIE.*" \</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019486">&nbsp;&nbsp;nokeepalive ssl-unclean-shutdown \</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019487">&nbsp;&nbsp;downgrade-1.0 force-response-1.0</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019488"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019489">&nbsp;&nbsp;#Encryption secures the Internet to Encrypted Reverse Proxy communication</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019490">&nbsp;&nbsp;#Listing of available encryption levels available to Apache</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019491">&nbsp;&nbsp;SSLEngine           on</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019492">&nbsp;&nbsp;SSLCipherSuite      ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019493"> </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019494">&nbsp;&nbsp;#The Virtual Host authenticates to the user providing its certificate</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019495">&nbsp;&nbsp;SSLCertificateFile      conf/&lt;certificate_filename&gt;.crt                          </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019496">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2020237">&nbsp;&nbsp;#The communication security is achieved using the PrivateKey, which is secured through</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019497">&nbsp;&nbsp;#a pass-phrase script.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019498">&nbsp;&nbsp;SSLCertificateKeyFile   conf/&lt;certificate_filename&gt;-secured.pem</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019499">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2020267">&nbsp;&nbsp;#The Virtual Host associates the request to the internal Guidewire product instance </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019500">&nbsp;&nbsp;ProxyPass           /&lt;product&gt;400 &lt;url of the product server&gt;                 </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019501">&nbsp;&nbsp;ProxyPassReverse     /&lt;product&gt;400 &lt;url of the product server&gt;                 </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019502">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2020290">&nbsp;&nbsp;#Logs redirected to appropriate location</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019503">&nbsp;&nbsp;ErrorLog      logs/encrypted_&lt;product&gt;.log</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2019328">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2020304">&lt;/VirtualHost&gt;</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="2020454">Modify the Server to Receive Incoming SSL Requests</a></h6>
      <div class="B_-_Body"><a name="2020406">To enable ClaimCenter to respond to a request over SSL from a particular inbound connection, your proxy handles encryption. The connection between ClaimCenter and the proxy server remains unencrypted. Configure the proxy to know the URL and port (location) of the server that originates the request. </a></div>
      <div class="B_-_Body"><a name="2161248">Edit your proxy server configuration so it is aware of:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2020413">The externally-visible domain name of the reverse proxy server</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2020414">The port number of the reverse proxy server</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2020415">The protocol the client used to access the proxy server (in this case HTTPS)</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2020416">To ensure your ClaimCenter server is aware of the proxy, edit the web application container server configuration </a><span class="cv_-_computer_voice">CATALINA_HOME\conf\server.xml</span> on your ClaimCenter server. Add an additional connector as shown in the following XML snippet:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2020417">&lt;!-- Define a non-SSL HTTP/1.1 Connector on port &lt;port number&gt; to receive decrypted </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2133401">&nbsp;&nbsp;communication from Apache reverse proxy on port 11410&nbsp;--&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2020418">&lt;Connector acceptCount="100" connectionTimeout="20000" disableUploadTimeout="true"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2133077">&nbsp;&nbsp;enableLookups="false"maxHttpHeaderSize="8192" maxSpareThreads="75" maxThreads="150"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2133079">&nbsp;&nbsp;minSpareThreads="25" port="</a><span class="pc_-_parameter_in_code">portnumber</span>" redirectPort="8443" scheme="https" proxyName="<span class="pc_-_parameter_in_code">hostname</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2133080">&nbsp;&nbsp;proxyPort="</a><span class="pc_-_parameter_in_code">portnumber</span>"&gt;</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2020419">&lt;/Connector&gt;</a></PRE>
      <div class="B_-_Body"><a name="2020420">You must substitute the following parameters shown in the snippet:</a></div>
      <div class="T_-_Table"><a name="2020438">&nbsp;</a></div>
      <table class="withoutHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: italic; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="pt_-_parameter_in_table"><a name="2020423">port</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2020425">Specifies the port number for the additional connector for access through the proxy.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: italic; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="pt_-_parameter_in_table"><a name="2020427">proxyName</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2020429">Identifies the deployment server’s name.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: italic; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="pt_-_parameter_in_table"><a name="2020431">proxyPort</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2020433">Specifies the port for encrypted access through Apache.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: italic; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="pt_-_parameter_in_table"><a name="2020435">scheme</a></span></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2020437">Identifies the protocol used by the client to access the server.</a></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2020439">After configuring the </a><span class="cv_-_computer_voice">server.xml</span> file, restart your application server.</div>
      <h6 class="HS_-_Head_Sub"><a name="2225284">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2225287">For more information about SSL encryption, see </a><a href="javascript:WWHClickedPopup('admin', 'serversecurity.08.1.html#1031136', '');" title="Securing ClaimCenter Communications">“Securing ClaimCenter Communications” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'serversecurity.08.1.html#1031136', '');" title="Securing ClaimCenter Communications">System Administration Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2020400">&nbsp;</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>