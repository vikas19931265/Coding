<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Adding WS-I Configuration Options</title>
    <link rel="StyleSheet" href="css/webservice-wsi-consuming.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-webservices.html#2042841">Web Services</a> : <a class="WebWorks_Breadcrumb_Link" href="webservice-wsi-consuming.08.1.html#2042841">Calling WS-I Web Services from Gosu</a> : Adding WS-I Configuration Options</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2042841">Adding WS-I Configuration Options</a></h3>
      <div class="B_-_Body"><a name="2042842">If a web service does not need encryption, authentication, or digital signatures, you can just instantiate the service object and call methods on it:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2014530">// get a reference to the service in the package namespace of the WSDL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2014531">var api = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2014532">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2014533">// call a method on the service</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2014534">api.helloWorld()</a></PRE>
      <div class="B_-_Body"><a name="2066032">If you need to add encryption, authentication, or digital signatures, there are two approaches</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2066033">Configuration objects</a></span> – Set the configuration options directly on the configuration object for the service instance. The service instance is the newly-instantiated object that represents the service. In the previous example, the <span class="cv_-_computer_voice">api</span> variable holds a reference for the service instance. That object has a <span class="cv_-_computer_voice">Config</span> property that contains the configuration object. For details, see <a href="javascript:WWHClickedPopup('integration', 'webservice-wsi-consuming.08.2.html#2065148', '');" title="Adding WS-I Configuration Options">“Directly Modifying the WSDL Configuration Object for a Service”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2066037">Configuration providers</a></span> – Add one or more WS-I web service configuration providers in the Studio web service collection <span class="ui_-_UI_element">Settings</span> tab. A web service configuration provider centralizes and encapsulates the steps required to add encryption, authentication, or digital signatures to your web service client code. For example, instead of adding encryption and authentication in your code each time that you call out to a single service, you can centralize that code. This has the side effect of making your web service client code look cleaner. This approach separates the code that requests the web service call from the transport-layer authentication and security configuration.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2065148">Directly Modifying the WSDL Configuration Object for a Service</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2064570">To add authentication or security settings to a web service you can do so by modifying the options on the service object. To access the options from the API object (in the previous example, the object in the variable called </a><span class="cv_-_computer_voice">api</span>), use the syntax <span class="cv_-_computer_voice">api.Config</span>. That property contains the API options object, which has the type <span class="cv_-_computer_voice">gw.xml.ws.WsdlConfig</span>.</div>
      <div class="B_-_Body"><a name="2055811">The WSDL configuration object has properties that add or change authentication and security settings. The </a><span class="cv_-_computer_voice">WsdlConfig</span> object itself is not an XML object (it is not based on <span class="cv_-_computer_voice">XmlElement</span>), but some of its subobjects are defined as XML objects. Fortunately, in typical code you do not need to really think about that difference. Instead, simply use a straightforward syntax to set authentication and security parameters. The following subtopics describe <span class="cv_-_computer_voice">WsdlConfig</span> object properties that you can set on the WSDL configuration object. </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2055812">For XSD-generated types, if you set a property several levels down in the hierarchy, Gosu adds any intermediate XML elements if they did not already exist. This makes your XML-related code look concise. See also </a><a href="javascript:WWHClickedPopup('gosu', 'xml.21.13.html#1540977', '');" title="Automatic Creation of Intermediary Elements">“Automatic Creation of Intermediary Elements” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'xml.21.13.html#1540977', '');" title="Automatic Creation of Intermediary Elements">Gosu Reference Guide</a></span>.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2066042">Adding WS-I Configuration Provider Classes (To Centralize Your WSDL Configuration)</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2066043">You can add one or more WS-I web service configuration providers in the Studio web service collection </a><span class="ui_-_UI_element">Settings</span> tab. A web service configuration provider centralizes and encapsulates the steps required to add encryption, authentication, or digital signatures to your web service client code. </div>
      <div class="B_-_Body"><a name="2066044">For example, instead of adding encryption and authentication in your code each time that you call out to a single service, you can centralize that code. Using a configuration provider has the side effect of making your web service client code look cleaner. This approach separates the code that requests the web service call from the transport-layer authentication and security configuration.</a></div>
      <div class="B_-_Body"><a name="2066045">A configuration provider is a class that implements the interface </a><span class="cv_-_computer_voice">gw.xml.ws.IWsiWebserviceConfigurationProvider</span>. This interface defines a single method with signature:</div>
      <div class="CS_-_Code_Single_Line"><a name="2066046">function configure( serviceName : QName, portName : QName, config : WsdlConfig )</a></div>
      <div class="B_-_Body"><a name="2066047">The arguments are as follows:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2066048">The service name, as a </a><span class="cv_-_computer_voice">QName</span>. This is the service as defined in the WSDL for this service.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2066049">The port name, as a </a><span class="cv_-_computer_voice">QNam</span>e. Note that this is not a TCP/IP port. This is a port in the sense of the WSDL specification.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2066050">A WSDL configuration object, which is the </a><span class="cv_-_computer_voice">WsdlConfig</span> object that an API service object contains each time you instantiate the service. For more details, see <a href="javascript:WWHClickedPopup('integration', 'webservice-wsi-consuming.08.2.html#2065148', '');" title="Adding WS-I Configuration Options">“Directly Modifying the WSDL Configuration Object for a Service”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2066058">You can write zero, one, or more than one configuration providers and attach them to a web service collection. This means that for each new connection to one of those services, each configuration provider has an opportunity to (optionally) add configuration options to the </a><span class="cv_-_computer_voice">WsdlConfig</span> object.</div>
      <div class="B_-_Body"><a name="2066059">For example, you could write one configuration provider that adds all configuration options for web services in the collection, or write multiple configuration providers that configure different kinds of options. For an example of multiple configuration providers, you could:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2066060">Add one configuration provider that knows how to add authentication </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2066061">Add a second configuration provider that knows how to add digital signatures</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2066062">Add a third configuration provider that knows how to add an encryption layer</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2066063">Separating out these different types of configuration could be advantageous if you have some web services that share some configuration options but not others. For example, perhaps all your web service collections use digital signatures and encryption, but the authentication configuration provider class might be different for different web service collections.</a></div>
      <div class="B_-_Body"><a name="2066064">The list of configuration provider classes in the Studio editor is an ordered list. For typical systems, the order is very important. For example, performing encryption and then a digital signature results in different output then adding a digital signature and then adding encryption. You can change the order in the list by clicking a row and clicking </a><span class="ui_-_UI_element">Move&nbsp;Up</span> or <span class="ui_-_UI_element">Move&nbsp;Down</span>.</div>
      <div class="NW_-_Note_Warning">
        <span class="w_-_warning">WARNING  </span><a name="2066065">The list of configuration providers in the Studio editor is an ordered list. If you use more than one configuration provider, carefully consider the order you want to specify them.</a></div>
      <div class="B_-_Body"><a name="2066066">The following is an example of a configuration provider:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066067">package wsi.remote.gw.webservice.ab</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066068">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066069">uses javax.xml.namespace.QName</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066070">uses gw.xml.ws.WsdlConfig</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066071">uses gw.xml.ws.IWsiWebserviceConfigurationProvider</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066072">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066073">class ABConfigurationProvider implements IWsiWebserviceConfigurationProvider {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066074">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066075">  override function configure(serviceName : QName, portName : QName, config : WsdlConfig)  {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066076">    config.Guidewire.Authentication.Username = "su"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066077">    config.Guidewire.Authentication.Password = "gw"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066078">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066080">}</a></PRE>
      <div class="B_-_Body"><a name="2066081">In this example, the configuration provider adds Guidewire authentication to every connection that uses that configuration provider. Any web service client code for that web service collection does not need to bother with adding these options with each use of the service. (For more information about Guidewire authentication, see </a><a href="javascript:WWHClickedPopup('integration', 'webservice-wsi-consuming.08.2.html#2066090', '');" title="Adding WS-I Configuration Options">“Guidewire Authentication”</a>.)</div>
      <h4 class="H2_-_Heading_2"><a name="2064831">HTTP Authentication</a></h4>
      <div class="B_-_Body"><a name="2052128">To add simple HTTP authentication to an API request, use the basic HTTP authentication object at the path as follows. Suppose </a><span class="pc_-_parameter_in_code">api</span> is a reference to a SOAP API that you have already instantiated with the <span class="cv_-_computer_voice">new</span> operator. The properties on which to set the name and password are on the object:</div>
      <div class="CS_-_Code_Single_Line" style="font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="p_-_parameter"><a name="2055272">api</a></span><span class="cv_-_computer_voice">.Config.Http.Authentication.Basic</span></div>
      <div class="B_-_Body"><a name="2027197">That object has a </a><span class="cv_-_computer_voice">Username</span> property for the user name and a <span class="cv_-_computer_voice">Password</span> property for the password. Set those two values with the desired user name and password.</div>
      <div class="B_-_Body"><a name="2052249">For example:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052207">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052036">// Get a reference to the service in the package namespace of the WSDL.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052037">var service = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052038">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052283">service.Config.Http.Authentication.Basic.Username = "jms"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052295">service.Config.Http.Authentication.Basic.Password = "b5"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052065">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052039">// Call a method on the service.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2055320">service.helloWorld()</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2066090">Guidewire Authentication</a></h4>
      <div class="B_-_Body"><a name="2066092">To add Guidewire application authentication to API request, use the Guidewire authentication object at the path as follows. In this example, </a><span class="pc_-_parameter_in_code">api</span> is a reference to a SOAP API that you have already instantiated with the <span class="cv_-_computer_voice">new</span> operator: <span class="p_-_parameter">api</span><span class="cv_-_computer_voice">.Config.Guidewire.Authentication</span>.</div>
      <div class="B_-_Body"><a name="2066093">That object has a </a><span class="cv_-_computer_voice">Username</span> property for the user name and a <span class="cv_-_computer_voice">Password</span> property for the password. Set those two values with the desired user name and password.</div>
      <div class="B_-_Body"><a name="2066094">For example:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066095">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066096">// Get a reference to the service in the package namespace of the WSDL.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066097">var service = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066098">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066099">service.Config.Guidewire.Authentication.Username = "jms"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066100">service.Config.Guidewire.Authentication.Password = "b5"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066101">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066102">// Call a method on the service.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066103">service.helloWorld()</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2056905">Suite Configuration File Overrides URLs to Guidewire Applications</a></h4>
      <div class="B_-_Body"><a name="2056909">ClaimCenter now has a suite configuration file for web service configuration. This file applies only to inter-application integrations among Guidewire applications. This file provides a central place to configure (override) the URLs for other Guidewire products in the suite.</a></div>
      <div class="B_-_Body"><a name="2068901">For inter-application Guidewire integrations that use WS-I web services, always use the suite configuration file to set the URLs. The suite configuration file is called </a><span class="cv_-_computer_voice">suite-config.xml</span>. You can find it in Studio under Other&nbsp;Resources, or use CNTL+N and type the file name.</div>
      <div class="B_-_Body"><a name="2056917">By default, all subelements are commented out. If you have multiple Guidewire products, the file might look like the following:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2056918">&lt;suite-config xmlns="http://guidewire.com/config/suite/suite-config"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056919">  &lt;product name="cc" url="http://localhost:8080/cc"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056920">  &lt;product name="pc" url="http://localhost:8180/pc"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056921">  &lt;product name="ab" url="http://localhost:8280/ab"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056922">  &lt;product name="bc" url="http://localhost:8580/bc"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2056923">&lt;/suite-config&gt;</a></PRE>
      <div class="B_-_Body"><a name="2056927">When importing WS-I WSDL, ClaimCenter does the following:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2067226">Checks to see whether there is a WSDL port of element type </a><span class="cv_-_computer_voice">&lt;gwwsdl:address&gt;</span>. If this is found, ClaimCenter ignores any other ports on the WSDL for this service.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2067227">If so, it looks for shortcuts of the syntax </a><span class="cv_-_computer_voice">${</span><span class="ps_-_parameter_in_code_snippets">PRODUCT_NAME_SHORTCUT</span><span class="cv_-_computer_voice">}</span>. For example: <span class="cv_-_computer_voice">${cc}</span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2067492">If that product name shortcut is in the </a><span class="cv_-_computer_voice">suite-config.xml</span> file, ClaimCenter substitutes the URL from the XML file to replace the text <span class="cv_-_computer_voice">${</span><span class="ps_-_parameter_in_code_snippets">PRODUCT_NAME_SHORTCUT</span><span class="cv_-_computer_voice">}</span>. If the product name shortcut is not found, Gosu throws an exception during WSDL parsing.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2067493">For web services that Guidewire applications publish, all WSDL documents have the </a><span class="cv_-_computer_voice">&lt;gwwsdl:address&gt; </span>port in the WSDL. The Guidewire application automatically specifies the application that published it using the standard two-letter application shortcut. For example, for ClaimCenter the abbreviation is <span class="cv_-_computer_voice">cc</span>. For example:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2067985">&lt;wsdl:port name="TestServiceSoap11Port" binding="TestServiceSoap11Binding"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2068031">&nbsp;&nbsp;&lt;soap11:address location="http://172.24.11.41:8480/cc/ws/gw/test/TestService/soap11" /&gt; </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2068035">&nbsp;&nbsp;&lt;gwwsdl:address location="${cc}/ws/gw/test/TestService/soap11" /&gt; </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2068036">&lt;/wsdl:port&gt;</a></PRE>
      <div class="B_-_Body"><a name="2067926">Always use the </a><span class="cv_-_computer_voice">suite-config.xml</span> file to override the URL including the port number to connect to other Guidewire applications using this shortcut system.</div>
      <div class="B_-_Body"><a name="2067958">The suite configuration file is used only for WS-I web services, not RPCE web services.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2090594">Accessing the Suite Configuration File Using APIs</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2090656">ClaimCenter exposes the suite configuration file as APIs that you can access from Gosu. The </a><span class="cv_-_computer_voice">gw.api.suite.GuidewireSuiteUtil</span> class can look up entries in the file by the product code. This class has a static method called <span class="cv_-_computer_voice">getProductInfo</span> that takes a <span class="cv_-_computer_voice">String</span> that represents the product. Pass the <span class="cv_-_computer_voice">String</span> that is the <span class="cv_-_computer_voice">&lt;product&gt;</span> element’s <span class="cv_-_computer_voice">name</span> attribute. The method returns the associated URL from the <span class="cv_-_computer_voice">suite-config.xml</span> file. </div>
      <div class="B_-_Body"><a name="2090831">For example:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2090850">uses gw.api.suite.GuidewireSuiteUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2090852">var x = GuidewireSuiteUtil.getProductInfo("cc")</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2090846">print(x.Url) </a></PRE>
      <div class="B_-_Body"><a name="2091236">For the earlier </a><span class="cv_-_computer_voice">suite-config.xml</span> example file, this code prints:</div>
      <div class="CS_-_Code_Single_Line"><a name="2093405">http://localhost:8080/cc</a></div>
      <h4 class="H2_-_Heading_2"><a name="2093412">Setting Guidewire Transaction IDs</a></h4>
      <div class="B_-_Body"><a name="2093488">If the web service you are calling is hosted by a Guidewire application, there is an optional feature to detect duplicate operations from external systems that change data. The service must add the </a><span class="cv_-_computer_voice">@WsiCheckDuplicateExternalTransaction</span> annotation. For implementation details, see <a href="javascript:WWHClickedPopup('integration', 'webservices-wsi-publish.07.08.html#3752231', '');" title="Checking for Duplicate External Transaction IDs">“Checking for Duplicate External Transaction IDs”</a>.</div>
      <div class="B_-_Body"><a name="2098204">If this feature is enabled for an operation, ClaimCenter checks for the SOAP header </a><span class="cv_-_computer_voice">&lt;transaction_id&gt;</span> in namespace <span class="cv_-_computer_voice">http://guidewire.com/ws/soapheaders</span>. </div>
      <div class="B_-_Body"><a name="2098205">To set this SOAP header, call the </a><span class="cv_-_computer_voice">initializeExternalTransactionIdForNextUse</span> method on the API object and pass the transaction ID as a <span class="cv_-_computer_voice">String</span> value.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2098209">ClaimCenter sends the transaction ID with the next method call and applies only to that one method call. If you require subsequent method calls with a transaction ID, call </a><span class="cv_-_computer_voice">initializeExternalTransactionIdForNextUse</span> again before each external API that requires a transaction ID. If your next call to an web service external operation does not require a transaction ID, there is no need for you to call the <span class="cv_-_computer_voice">initializeExternalTransactionIdForNextUse</span> method.</div>
      <div class="B_-_Body"><a name="2098210">For example: </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2098211">uses gw.xsd.guidewire.soapheaders.TransactionId</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098212">uses gw.xml.ws.WsdlConfig</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098213">uses java.util.Date</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098214">uses wsi.local.gw.services.wsidbupdateservice.faults.DBAlreadyExecutedException</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098215">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098216">function callMyWebService {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098217">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098218">&nbsp;&nbsp;// Get a reference to the service in the package namespace of the WSDL.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098219">&nbsp;&nbsp;var service = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098220">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098221">&nbsp;&nbsp;service.Config.Guidewire.Authentication.Username = "su"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098222">&nbsp;&nbsp;service.Config.Guidewire.Authentication.Password = "gw"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098223">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098224">&nbsp;&nbsp;// create a transaction ID that has an external system prefix and then a guaranteed unique ID</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098225">&nbsp;&nbsp;// If you are using Guidewire messaging, you may want to use the Message.ID property in your ID.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098226">&nbsp;&nbsp;transactionIDString = "MyExtSys1:" + getUniqueTransactionID() // somehow create your own unique ID</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098227">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098228">// Set the transaction ID for the next method call (and only the next method call) to this service</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098229">&nbsp;&nbsp;service.initializeExternalTransactionIdForNextUse(transactionIDString)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098230">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098231">&nbsp;&nbsp;// Call a method on the service -- a transaction ID is set only for the next operation</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098232">&nbsp;&nbsp;service.helloWorld()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098233">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098234">&nbsp;&nbsp;// Call a method on the service -- NO transaction ID is set for this operation!</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098235">&nbsp;&nbsp;service.helloWorldMethod2()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098236">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098237">&nbsp;&nbsp;transactionIDString = "MyExtSys1:" + getUniqueTransactionID() // somehow create your own unique ID</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098238">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098239">&nbsp;&nbsp;// Call a method on the service -- a transaction ID is set only for the next operation</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098240">&nbsp;&nbsp;service.helloWorldMethod3()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2098241">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2098242">}</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2093406">Setting a Timeout</a></h4>
      <div class="B_-_Body"><a name="2093407">To set the timeout value (in milliseconds), set the </a><span class="cv_-_computer_voice">CallTimeout</span> property on the <span class="cv_-_computer_voice">WsdlConfig</span> object for that API reference. </div>
      <div class="B_-_Body"><a name="2052768">For example:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052783">// get a reference to the service in the package namespace of the WSDL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052784">var service = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052785">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052786">service.Config.CallTimeout = 30000 // 30 seconds</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052789">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052821">// call a method on the service</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2052790">service.helloWorld()</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2052743">Custom SOAP Headers</a></h4>
      <div class="B_-_Body"><a name="2052548">SOAP HTTP headers are essentially XML elements attached to the SOAP envelope for the web service request or its response. Your code might need to send additional SOAP headers to the external system, such as custom headers for authentication or digital signatures. You also might want to read additional SOAP headers on the response from the external system.</a></div>
      <div class="B_-_Body"><a name="2052549">To add SOAP HTTP headers to a request that you initiate, first construct an XML element using the Gosu XML APIs (</a><span class="cv_-_computer_voice">XmlElement</span>). Next, add that <span class="cv_-_computer_voice">XmlElement</span> object to the list in the location <span class="p_-_parameter">api</span><span class="cv_-_computer_voice">.Config.RequestSoapHeaders</span>. That property contains a list of <span class="cv_-_computer_voice">XmlElement</span> objects, which in generics notation is the type <span class="cv_-_computer_voice">java.util.ArrayList&lt;XmlElement&gt;</span>.</div>
      <div class="B_-_Body"><a name="2052655">To read (get) SOAP HTTP headers from a response, it only works if you use the asynchronous SOAP request APIs described in </a><a href="javascript:WWHClickedPopup('integration', 'webservice-wsi-consuming.08.4.html#2003179', '');" title="Asynchronous Methods">“Asynchronous Methods”</a>. There is no equivalent API to get just the SOAP headers on the response, but you can get the response envelope, and access the headers through that. You can access the response envelope from the result of the asynchronous API call. This is an <span class="cv_-_computer_voice">gw.xml.ws.AsyncResponse</span> object. On this object, get the <span class="cv_-_computer_voice">ResponseEnvelope</span> property. For SOAP 1.2 envelopes, the type of that response is type <span class="cv_-_computer_voice">gw.xsd.w3c.soap12_envelope.Envelope</span>. For SOAP 1.1, the type is the same except with <span class="cv_-_computer_voice">"soap11"</span> instead of <span class="cv_-_computer_voice">"soap12"</span> in the name.</div>
      <div class="B_-_Body"><a name="2055557">From that object, get the headers in the </a><span class="cv_-_computer_voice">Header</span> property. That property contains a list of XML objects that represent all the headers.</div>
      <h4 class="H2_-_Heading_2"><a name="2056586">Server Override URL</a></h4>
      <div class="B_-_Body"><a name="2056587">To override the server URL, for example for a test-only configuration, set the </a><span class="cv_-_computer_voice">ServerOverrideUrl</span> property on the <span class="cv_-_computer_voice">WsdlConfig</span> object for your API reference. It takes a <span class="cv_-_computer_voice">java.net.URI</span> object for the URL.</div>
      <div class="B_-_Body"><a name="2056588">For example:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056589">// get a reference to the service in the package namespace of the WSDL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056590">var service = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056591">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056592">service.Config.ServerOverrideUrl = new URI("http://testingserver/xx")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056594">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056595">// call a method on the service</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056596">service.helloWorld()</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2091456">Setting XML Serialization Options</a></h4>
      <div class="B_-_Body"><a name="2091529">To send a SOAP request to the SOAP server, ClaimCenter takes an internal representation of XML and serializes the data to actual XML data as bytes. For typical use, the default XML serialization settings are sufficient. If you need to customize these settings, you can do so. </a></div>
      <div class="B_-_Body"><a name="2091858">The most common serialization option to set is changing the character encoding to something other than the default, which is UTF-8. </a></div>
      <div class="B_-_Body"><a name="2092869">You can change serialization settings by getting the </a><span class="cv_-_computer_voice">XmlSerializationOptions</span> property on the <span class="cv_-_computer_voice">WsdlConfig</span> object, which has type <span class="cv_-_computer_voice">gw.xml.XmlSerializationOptions</span>. Modify properties on that object to set various serialization settings.</div>
      <div class="B_-_Body"><a name="2097717">For full information about XML serialization options, such as encoding, indent levels, pretty printing, line separators, and element sorting, see </a><a href="javascript:WWHClickedPopup('gosu', 'xml.21.06.html#1539076', '');" title="Exporting XML Data">“Exporting XML Data” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'xml.21.06.html#1539076', '');" title="Exporting XML Data">Gosu Reference Guide</a></span>.</div>
      <div class="B_-_Body"><a name="2093245">The easiest way to get the appropriate character set object for the encoding is to use the </a><span class="cv_-_computer_voice">Charset.forName(</span><span class="ps_-_parameter_in_code_snippets">ENCODING_NAME</span><span class="cv_-_computer_voice">)</span> static method. That method returns the desired static instance of the character set object. </div>
      <div class="B_-_Body"><a name="2093308">For example, to change the encoding to the Chinese encoding Big5:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2092784">uses java.nio.charset.Charset</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092808">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092793">// get a reference to the service in the package namespace of the WSDL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092785">var service = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092786">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092779">service.Config.XmlSerializationOptions.Encoding = Charset.forName( "Big5" )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092780">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092781">// call a method on the service</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2092155">service.helloWorld()</a></PRE>
      <div class="B_-_Body"><a name="2092131">This API sets the encoding on the outgoing request only. The SOAP server is not obligated to return the response XML in the same character encoding. </a></div>
      <div class="B_-_Body"><a name="2092503">If the web service is published from a Guidewire product, you can configure the character encoding for the response. See </a><a href="javascript:WWHClickedPopup('integration', 'webservices-wsi-publish.07.14.html#3734663', '');" title="Setting Response Serialization Options, Including Encodings">“Setting Response Serialization Options, Including Encodings”</a>.</div>
      <h4 class="H2_-_Heading_2"><a name="2066122">Setting Locale in a Guidewire Application</a></h4>
      <div class="B_-_Body"><a name="2066127">WS-I web services published on a Guidewire application support setting a specific international locale to use (to override) while processing this web services request. </a></div>
      <div class="B_-_Body"><a name="2066128">For example:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066129">// get a reference to the service in the package namespace of the WSDL</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066130">var service = new example.gosu.wsi.myservice.SayHello()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066131">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066132">// set the locale to the French language in the France region</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066133">service.Config.Guidewire.Locale = "fr_FR"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066134">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066135">// call a method on the service</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066136">service.helloWorld()</a></PRE>
      <div class="B_-_Body"><a name="2066137">This creates a SOAP header similar to the following:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056777">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056778">&lt;soap12:Envelope xmlns:soap12="http://www.w3.org/2003/05/soap-envelope"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2070893">&lt;soap12:Header&gt;</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2070894">&nbsp;&nbsp;&lt;gwsoap:locale xmlns:gwsoap="http://guidewire.com/ws/soapheaders"&gt;fr_FR&lt;/gwsoap:locale&gt;</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2070895">&lt;/soap12:Header&gt;</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056786">&lt;soap12:Body&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056788">&nbsp;&nbsp;&lt;getPaymentInstrumentsFor xmlns="http://example.com/gw/webservice/bc/bc700/PaymentAPI"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056790">&nbsp;&nbsp;&lt;accountNumber&gt;123&lt;/accountNumber&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056792">&nbsp;&nbsp;&lt;/getPaymentInstrumentsFor&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2056794">&lt;/soap12:Body&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066142">&lt;/soap12:Envelope&gt;</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="2052910">Implementing Advanced Web Service Security with WSS4J</a></h4>
      <div class="B_-_Body"><a name="2052911">For security options beyond HTTP Basic authentication and optional SOAP header authentication, you can use an additional set of APIs to implement whatever additional security layers.</a></div>
      <div class="B_-_Body"><a name="2052876">For example, you might want to add additional layers of encryption, digital signatures, or other types of authentication or security. </a></div>
      <div class="B_-_Body"><a name="2052937">From the SOAP client side, the way to add advanced security layers to outgoing requests is to apply transformations of the stream of data for the request. You can transform the data stream incrementally as you process bytes in the stream. For example, you might implement encryption this way. Alternatively, some transformations might require getting all the bytes in the stream before you can begin to output any transformed bytes. Digital signatures would be an example of this approach. You may you use multiple types of transformations. Remember that the order of them is important. For example, an encryption layer followed by a digital signature is a different output stream of bytes than applying the digital signature and then the encryption.</a></div>
      <div class="B_-_Body"><a name="2052925">Similarly, getting a response from a SOAP client request might require transformations to understand the response. If the external system added a digital signature and then encrypted the XML response, you need to first decrypt the response, and then validate the digital signature with your keystore.</a></div>
      <div class="B_-_Body"><a name="2053043">The standard approach for implementing these additional security layers is the Java utility WSS4J, but you can use other utilities as needed. The WSS4J utility includes support for the WSS security standard.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="2053032">Outbound Security</a></h6>
      <div class="B_-_Body"><a name="2053078">To add a transformation to your outgoing request, set the </a><span class="cv_-_computer_voice">RequestTransform</span> property on the <span class="cv_-_computer_voice">WsdlConfig</span> object for your API reference. The value of this property is a Gosu block that takes an input stream (<span class="cv_-_computer_voice">InputStream</span>) as an argument and returns another input stream. Your block can do anything it needs to do to transform the data.</div>
      <div class="B_-_Body"><a name="2053105">Similarly, to transform the response, set the </a><span class="cv_-_computer_voice">ResponseTransform</span> property on the <span class="cv_-_computer_voice">WsdlConfig</span> object for your API reference. </div>
      <div class="B_-_Body"><a name="2066278">The following simple example shows you could implement a transform of the byte stream. </a>The transform is in both outgoing request and the incoming response. In this example, the transform is an XOR (exclusive OR) transformation on each byte. In this simple example, simply running the transformation again decodes the request. </div>
      <div class="B_-_Body"><a name="2066279">The following code implements a service that applies the transform to any input stream. The code that actually implements the transform is as follows. This is a web service that you can use to test this request. </a></div>
      <div class="B_-_Body"><a name="2066280">The class defines a static variable that contains a field called </a><span class="cv_-_computer_voice">_xorTransform</span> that does the transformation. </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066281">package gw.xml.ws</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054778">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054779">uses gw.xml.ws.annotation.WsiWebService</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054780">uses gw.xml.ws.annotation.WsiRequestTransform</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054781">uses java.io.ByteArrayInputStream</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054782">uses gw.util.StreamUtil</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054783">uses gw.xml.ws.annotation.WsiResponseTransform</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054784">uses gw.xml.ws.annotation.WsiAvailability</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054785">uses gw.xml.ws.annotation.WsiPermissions</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054786">uses java.io.InputStream</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054787">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054788">@WsiWebService</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054789">@WsiAvailability( NONE )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054790">@WsiPermissions( {} )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054791">@WsiRequestTransform( WsiTransformTestService._xorTransform )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054792">@WsiResponseTransform( WsiTransformTestService._xorTransform )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054793">class WsiTransformTestService {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054794">  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054795">&nbsp;&nbsp;// THE FOLLOWING DECLARES A GOSU BLOCK THAT IMPLEMENTS THE TRANSFORM</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054823">&nbsp;&nbsp;public static var _xorTransform( is : InputStream ) : InputStream = \ is -&gt;{</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054796">    var bytes = StreamUtil.getContent( is )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054797">    for ( b in bytes index idx ) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054798">      bytes[ idx ] = ( b ^ 17 ) as byte // xor encryption</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054799">    }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054800">    return new ByteArrayInputStream( bytes )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054801">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054802">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054803">  function add( a : int, b : int ) : int {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054804">    return a + b</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2054805">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066544">}</a></PRE>
      <div class="B_-_Body"><a name="2066554">The following code connects to the web service and applies this transform on outgoing requests and the reply.</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066555">package gw.xml.ws</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066556">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066557">uses gw.testharness.TestBase</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066558">uses gw.testharness.RunLevel</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066559">uses org.xml.sax.SAXParseException</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066560">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066561">@RunLevel( NONE )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066562">class WsiTransformTest extends TestBase {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066563">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066564">  function testTransform() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2066565">    var ws = new wsi.local.gw.xml.ws.wsitransformtestservice.WsiTransformTestService()</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2066566">    ws.Config.RequestTransform = WsiTransformTestService._xorTransform</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2066567">    ws.Config.ResponseTransform = WsiTransformTestService._xorTransform</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066568">    ws.add( 3, 5 )</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066569">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2066570">}</a></PRE>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>