<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Adding a New Policy-specific Entity to Policy Refresh</title>
    <link rel="StyleSheet" href="css/cc-pc-integration.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-policycontacts.html#2722599">Policy and Contact Integrations</a> : <a class="WebWorks_Breadcrumb_Link" href="cc-pc-integration.38.01.html#2722599">Claim and Policy Integration</a> : <a class="WebWorks_Breadcrumb_Link" href="cc-pc-integration.38.16.html#2722599">Policy Refresh Configuration Examples</a> : Adding a New Policy-specific Entity to Policy Refresh</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="2722599">Adding a New Policy-specific Entity to Policy Refresh</a></h4>
      <div class="B_-_Body"><a name="2722600">Suppose you add a policy entity type, </a><span class="cv_-_computer_voice">PolicyEntity_Ext</span>, that is policy-specific and not part of the claim graph. In <span class="cv_-_computer_voice">PolicyEntity_Ext</span> you include a foreign key to <span class="cv_-_computer_voice">Policy</span>. In turn, you extend <span class="cv_-_computer_voice">Policy</span> with an array property to provide a collection of symmetrical links back to its <span class="cv_-_computer_voice">PolicyEntity_Ext</span> instances. A policy can have many policy extensions, but each policy extension belongs to only one policy.</div>
      <div class="B_-_Body"><a name="2722601">To assure </a><span class="cv_-_computer_voice">PolicyEntity_Ext</span> is part of the policy graph, you must modify the policy refresh plugin to include it in the set of entity types that comprise the policy graph. Thus, ClaimCenter knows that your new <span class="cv_-_computer_voice">PolicyEntity_Ext</span> entity is part of the policy graph.</div>
      <div class="B_-_Body"><a name="2722605">Now, suppose your new </a><span class="cv_-_computer_voice">PolicyEntity_Ext</span> has a foreign key to <span class="cv_-_computer_voice">Exposure</span>. The <span class="cv_-_computer_voice">Exposure</span> entity is a built-in type that belongs to the claim graph. In turn, you extend <span class="cv_-_computer_voice">Exposure</span> with an array property that contains <span class="cv_-_computer_voice">PolicyEntity_Ext</span> instances. An exposure can have many policy extensions, but a each policy extension belongs to only one exposure. </div>
      <h6 class="HS_-_Head_Sub"><a name="2722606">See also</a></h6>
      <div class="B_-_Body"><a name="2722609">For information on how to change the policy refresh plugin, see </a><a href="javascript:WWHClickedPopup('integration', 'cc-pc-integration.38.11.html#2721788', '');" title="Determining the Extent of the Policy Graph">“Determining the Extent of the Policy Graph”</a>. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2722611">Example of Extending the Metadata Definitions for a New Policy-specific Entity Type</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2722612">You define your new entity </a><span class="cv_-_computer_voice">PolicyEntity_Ext</span> in this metadata definition file:</div>
      <div class="CS_-_Code_Single_Line" style="font-style: normal; font-variant: normal; font-weight: normal; text-transform: none; vertical-align: baseline"><span class="cv_-_computer_voice"><a name="2722613">ClaimCenter/config/extensions/PolicyEntity_Ext.eti</a></span></div>
      <div class="B_-_Body"><a name="2722614">The contents of the file might look like the following example. </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2722615">&lt;?xml version="1.0"?&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722616">&lt;entity </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722617">&nbsp;&nbsp;&nbsp;&nbsp;xmlns="http://guidewire.com/datamodel" </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722618">&nbsp;&nbsp;&nbsp;&nbsp;</a><span class="s_-_strong">entity</span>="<span class="s_-_strong">PolicyEntity_Ext</span>"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722619">&nbsp;&nbsp;&nbsp;&nbsp;table="policyentity"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722620">&nbsp;&nbsp;&nbsp;&nbsp;exportable = "true"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722621">&nbsp;&nbsp;&nbsp;&nbsp;type="retireable"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722622">&nbsp;&nbsp;&lt;implementsEntity name="Extractable"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722623">&nbsp;&nbsp;&lt;</a><span class="s_-_strong">foreignkey</span> name="<span class="s_-_strong">Policy</span>" fkentity="<span class="s_-_strong">Policy</span>"/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722624">&nbsp;&nbsp;&lt;</a><span class="s_-_strong">foreignkey</span> name="<span class="s_-_strong">Exposure</span>" fkentity="<span class="s_-_strong">Exposure</span>"/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722625">&nbsp;&nbsp;&lt;column</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722626">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name="Name"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722627">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type="shorttext"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2722628">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc="Policy Entity Name"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2722629">&lt;/entity&gt;</a></PRE>
      <div class="B_-_Body"><a name="2722630">In </a><span class="cv_-_computer_voice">ClaimCenter/config/extensions/Policy.etx</span>, extend the <span class="cv_-_computer_voice">Policy</span> entity with an array of policy extensions.</div>
      <div class="CS_-_Code_Single_Line"><a name="2722631">&lt;</a><span class="s_-_strong">array</span> name="<span class="s_-_strong">PolicyEntity_Exts</span>" arrayentity="<span class="s_-_strong">PolicyEntity_Ext</span>"/&gt;</div>
      <div class="B_-_Body"><a name="2722632">In </a><span class="cv_-_computer_voice">ClaimCenter/config/extensions/Exposure.etx</span>, extend the <span class="cv_-_computer_voice">Exposure</span> entity with an array of policy extensions.</div>
      <div class="CS_-_Code_Single_Line"><a name="2722633">&lt;</a><span class="s_-_strong">array</span> name="<span class="s_-_strong">PolicyEntity_Exts</span>" arrayentity="<span class="s_-_strong">PolicyEntity_Ext</span>"/&gt;</div>
      <div class="B_-_Body"><a name="2722634">The changes described in this example are common types of data model changes. Because your new entity belongs to the policy graph, the policy refresh system requires you to perform additional configuration tasks beyond those associated with standard data model extensions. You must:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2722635">Modify the policy refresh plugin to include </a><span class="cv_-_computer_voice">PolicyEntity_Ext</span> in the set of entity types that comprise the policy graph. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2722636">Modify your policy administration system to correspond to the changes you make in the ClaimCenter policy graph.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2722640">Perform configuration tasks in other parts of the policy refresh system to complete your addition of new policy-related entities to the ClaimCenter policy graph. These tasks include:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2722641">Adding new policy-related entities to the policy refresh display tree</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2722642">Creating custom matcher classes</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2722643">Creating customer relinker classes</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="2722644">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2722647">For information on how to modify the policy refresh plugin, see </a><a href="javascript:WWHClickedPopup('integration', 'cc-pc-integration.38.11.html#2721788', '');" title="Determining the Extent of the Policy Graph">“Determining the Extent of the Policy Graph”</a>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2722651">For information on how to modify your policy administration system, see </a><a href="javascript:WWHClickedPopup('integration', 'cc-pc-integration.38.19.html#2722661', '');" title="Modifying Your Policy System for Changes to Entities in the Policy Graph">“Modifying Your Policy System for Changes to Entities in the Policy Graph”</a>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2722655">For information on additional configuration tasks in the policy refresh system, see </a><a href="javascript:WWHClickedPopup('integration', 'cc-pc-integration.38.20.html#2722790', '');" title="Additional Tasks to Configure Policy Refresh for New Policy-Specific Entities">“Additional Tasks to Configure Policy Refresh for New Policy-Specific Entities”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2722657">How Policy Refresh Automatically Updates Objects in the Claim and Policy Graphs</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2722658">When policy refresh happens, ClaimCenter replaces any </a><span class="cv_-_computer_voice">PolicyEntity_Ext</span> entity instances. which belong to the policy graph. For foreign key links from <span class="cv_-_computer_voice">PolicyEntity_Ext</span> instances to exposures, the policy refresh system relinks them automatically. The directionality of the foreign key runs from a policy object to a claim object.</div>
      <div class="B_-_Body"><a name="2722659">Foreign key links from updated </a><span class="cv_-_computer_voice">PolicyEntity_Ext</span> instances to other updated policy-specific instances in the refreshed policy graph do not require relinking. The policy refresh system retrieves valid links between policy-specific instances from the policy administration system whenever policy refresh refreshes a policy snapshot in ClaimCenter. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>