<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Program Defensively Against Conditions that Can Fail</title>
    <link rel="StyleSheet" href="css/bp-gosu.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Best Practices&nbsp;Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="bp-gosu.6.01.html#2258444">Gosu Language Best Practices </a> : <a class="WebWorks_Breadcrumb_Link" href="bp-gosu.6.17.html#2258444">Gosu Coding Best Practices </a> : Program Defensively Against Conditions that Can Fail</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="2258444">Program Defensively Against Conditions that Can Fail</a></h4>
      <div class="B_-_Body"><a name="2217780">As a best practice, Guidewire recommends that you program defensively. Always assume that conditions might fail. Follow these recommendations to avoid common but easily missed programming flaws, such as potential null pointer exceptions and out-of-bounds exceptions. </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2217781">Use case-insensitive comparisons</a></span> – Use the <span class="cv_-_computer_voice">equalIgnoreCase</span> method on the string literal to compare it with the value of a variable. Case mismatch can cause comparisons to fail unintentionally. </div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="2217783">if(</a><span class="s_-_strong">"Excluded".equalsIgnorecase(str)</span>) {&nbsp;&nbsp;// proper comparison method</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2217784">&nbsp;&nbsp;print("They match.")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2217785">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2217786">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2217787">if(</a><span class="s_-_strong">string.equals("Excluded")</span>) {&nbsp;&nbsp;// improper comparison method</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2217788">&nbsp;&nbsp;print("They do NOT match.")</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2217789">}</a></PRE>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2335282">Check for null values</a></span> – If your code cannot handle a variable that contains non-null values, check the variable for <span class="cv_-_computer_voice">null</span> before you access properties on the variable. </div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CF_-_Code_First_Line"><a name="2337286">function formatName (aUser : User) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337287">  if (</a><span class="s_-_strong">aUser != null</span>) { &nbsp;// Check for null to avoid a null pointer exception later in the code. </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337288">    print(aUser.DisplayName)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337289">&nbsp;&nbsp;&nbsp;} </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337290">&nbsp;&nbsp;&nbsp;else {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337291">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("No user")</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337292">&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2337293">}</a></PRE>
      <div class="LP_-_List_Para"><a name="2337267">Also, check variables for </a><span class="cv_-_computer_voice">null</span> before you call methods on variables:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2337268">function addGroup (aUser : User, : aGroupUser : GroupUser) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337269">  if (</a><span class="s_-_strong">aUser != null</span>) { &nbsp;// Check for null to avoid a null pointer if you call methods on the variable.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337270">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aUser.addToGroup(aGroupUser)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2337271">&nbsp;&nbsp;} </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2337272">}</a></PRE>
      <div class="LP_-_List_Para"><a name="2337254">If you do not check variables for </a><span class="cv_-_computer_voice">null</span>:</div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2337190">Accessing a property on a variable may use null-safe property access, which can cause null pointer exceptions in later code that handles only non-null values. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2338483">Calling a method on a variable risks a null pointer exception. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2338484">Allow default null-safe property access</a></span> – If your code can handle a variable that contains null values, you can rely on null-safe access of simple properties in most cases. With null-safe property access, the entire expression evaluates to <span class="cv_-_computer_voice">null</span> if the left-side of a period operator is <span class="cv_-_computer_voice">null</span>. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2336807">For example, the following sample Gosu code returns </a><span class="cv_-_computer_voice">null</span> if the <span class="cv_-_computer_voice">user</span> object passed in by the caller is <span class="cv_-_computer_voice">null</span>. Default null-safe property access prevents a null pointer exception in the <span class="cv_-_computer_voice">return</span> statement. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2338311">function formatName (aUser : User) : String {</a></PRE>
      <PRE class="CF_-_Code_First_Line"><a name="2335987">&nbsp;&nbsp; return </a><span class="s_-_strong">aUser.DisplayName</span> &nbsp;// Default null-safe access returns null if the passed-in user is null. </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2335998">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2335335">&nbsp;</a></PRE>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2335549">Use explicit null-safe operators </a></span>– If your code can handle an object path expression that evaluates to <span class="cv_-_computer_voice">null</span>, use the explicit Gosu null safe operators:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="2336662">?.</a></span>&nbsp;– Null-safe access to properties and methods</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="2340644">?[] </a></span>– Null-safe access to arrays</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2336663">The following sample Gosu code uses the explicit null-safe operator </a><span class="cv_-_computer_voice">?.</span> to check for <span class="cv_-_computer_voice">null</span> to avoid a null pointer exception while accessing a property. If <span class="cv_-_computer_voice">aUser</span> is <span class="cv_-_computer_voice">null</span>, the entire object path expression <span class="cv_-_computer_voice">aUser?.DisplayName</span> evaluates to <span class="cv_-_computer_voice">null</span>. </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2335783">function formatName (aUser : User) : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2335968">&nbsp;&nbsp; return </a><span class="s_-_strong">aUser?.DisplayName</span> &nbsp;// An explicit null-safe operator returns null if aUser is null.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2340743">}</a></PRE>
      <div class="LP_-_List_Para"><a name="2340744">The following sample Gosu code uses the explicit null safe operator </a><span class="cv_-_computer_voice">?.</span> to check for <span class="cv_-_computer_voice">null</span> to avoid a null pointer exception while calling a method. If <span class="cv_-_computer_voice">aUser</span> is <span class="cv_-_computer_voice">null</span>, Gosu does not call the method <span class="cv_-_computer_voice">addToGroup</span>, and the entire expression <span class="cv_-_computer_voice">aUser?.addToGroup(aGroupUser)</span> evaluates to null.</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2340687">function addGroup (aUser : User, aGroupUser: GroupUser) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2336101">&nbsp;&nbsp;</a><span class="s_-_strong">aUser?.addToGroup(aGroupUser)</span>&nbsp;&nbsp;// An explicit null-safe operator returns null if aUser is null.</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2336054">}</a></PRE>
      <div class="LP_-_List_Para"><a name="2336365">The following sample Gosu code uses the explicit null-safe operator </a><span class="cv_-_computer_voice">?[]</span> to check for <span class="cv_-_computer_voice">null</span> to avoid a null pointer exception while accessing an array. If <span class="cv_-_computer_voice">strings[]</span> is <span class="cv_-_computer_voice">null</span>, the entire expression <span class="cv_-_computer_voice">strings?[index]</span> evaluates to <span class="cv_-_computer_voice">null</span>. However, the null-safe operator does not avoid out-of-bounds exceptions if <span class="cv_-_computer_voice">strings[]</span> is non-null and the value of <span class="cv_-_computer_voice">index</span> exceeds the array length. </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2336585">function getOneString (strings  : String[], index : int) : String {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2336587">&nbsp;&nbsp;return = </a><span class="s_-_strong">strings?[index]</span> &nbsp;// An explicit null-safe operator evaluates to null if an array is null. </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2336588">}</a></PRE>
      <div class="LP_-_List_Para"><a name="2336675">For more information about null-safe operators, see </a><a href="javascript:WWHClickedPopup('gosu', 'expressions.05.20.html#1655838', '');" title="Handling Null Values In Expressions">“Handling Null Values In Expressions” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('gosu', 'expressions.05.20.html#1655838', '');" title="Handling Null Values In Expressions">Gosu Reference Guide</a></span>.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2217792">Check boundary conditions</a></span> – In <span class="cv_-_computer_voice">for</span> loops, check for boundary conditions ahead of the loop. Entering a loop if the boundary condition is satisfied already can cause null pointer&nbsp;exceptions and out-of-bounds exceptions.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2258981">Use structured exception handling</a></span> – Use <span class="cv_-_computer_voice">try</span>/<span class="cv_-_computer_voice">catch</span> blocks wherever required and possible. If you want to catch multiple exceptions, handle them in a hierarchy from low-level, specific exceptions to high-level, generic exceptions. </div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>