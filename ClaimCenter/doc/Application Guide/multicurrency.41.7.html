<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Exchange Rates</title>
    <link rel="StyleSheet" href="css/multicurrency.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Application&nbsp;Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-financials.html#4885660">ClaimCenter Financials</a> : <a class="WebWorks_Breadcrumb_Link" href="multicurrency.41.1.html#4885660">Multiple Currencies</a> : Exchange Rates</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="4885660">Exchange Rates</a></h3>
      <div class="B_-_Body"><a name="4885161">You can make financial transactions in more than one currency in ClaimCenter. For any two currencies, there exists a conversion factor, called an </a><span class="e_-_emphasis">exchange rate</span>, that converts one currency amount to the other. </div>
      <h6 class="HS_-_Head_Sub"><a name="4810068">How Exchange Rates Work</a></h6>
      <div class="B_-_Body"><a name="4812623">ClaimCenter uses a table of exchange rates to calculate the claim amount</a><span class="cv_-_computer_voice"> </span>from the transaction amount and perform similar currency conversions. It uses the table in conjunction with a class that implements the <span class="cv_-_computer_voice">IExchangeRateSetPlugin</span> plugin interface. </div>
      <div class="B_-_Body"><a name="4876696">For details on the plugin interface, see </a><a href="javascript:WWHClickedPopup('app', 'multicurrency.41.7.html#4812020', '');" title="Exchange Rates">“Obtaining Market Exchange Rates”</a>. </div>
      <h4 class="H2_-_Heading_2"><a name="4812625">Market and Custom Exchange Rates</a></h4>
      <div class="B_-_Body"><a name="4876658">When you create transactions, you can determine the exchange rate in one of two </a><span class="e_-_emphasis">modes</span>, automatic or manual. These modes are described below.</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="4811559">Automatic mode</a></span> – The system gets the rate based on data in the tables. It uses the exchange rate from the application’s table of most current market rates. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="4812898">Manual mode</a></span> – When multicurrency display is enabled, if you select a currency other than the claim currency, ClaimCenter displays the <span class="ui_-_UI_element">Exchange</span> <span class="ui_-_UI_element">Rate</span> <span class="ui_-_UI_element">Mode</span> field. Select <span class="ui_-_UI_element">Manual</span> and enter a custom rate in the text field. The default value in this field is the market rate. A carrier might try to avoid problems of currency fluctuations by holding or hedging a currency. Therefore, it can be appropriate to manually enter exchange rates instead of accepting the automatically selected market rate.</div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="4812020">Obtaining Market Exchange Rates</a></h4>
      <div class="B_-_Body"><a name="4812111">ClaimCenter obtains current, market-based exchange rates from a web service of an external, third-party system through a class that implements the plugin interface, </a><span class="cv_-_computer_voice">IExchangeRateSetPlugin</span>. These exchange rates are stored in ClaimCenter with effective dates.</div>
      <div class="B_-_Body"><a name="4812850">The implementation of the plugin interface and how often it runs to import an exchange rate set is based on your business needs. </a></div>
      <div class="B_-_Body"><a name="4812851">For example, the plugin implementation could do the following:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4812852">Communicate with a web service.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4812853">Process and import a document with a list of rates. This list could be provided by an internal currency management department.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="4822657">The Exchange Rate Batch Process</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4877017">The Exchange Rate batch process invokes the class that implements the </a><span class="cv_-_computer_voice">IExchangeRateSetPlugin</span> interface. In the base configuration, the plugin implementation <span class="cv_-_computer_voice">gw</span>.<span class="cv_-_computer_voice">plugin</span>.<span class="cv_-_computer_voice">exchangerate</span>.<span class="cv_-_computer_voice">impl</span>.<span class="cv_-_computer_voice">SampleExchangeRateSetPlugin</span> adds a new set of market exchange rates in ClaimCenter. Running the batch process loads the updated market rates.</div>
      <div class="B_-_Body"><a name="4822658">In the base configuration, this batch process is commented out in the </a><span class="cv_-_computer_voice">scheduler-config.xml</span> file, as follows:</div>
      <PRE class="CF_-_Code_First_Line"><a name="4822638">&lt;ProcessSchedule process="ExchangeRate"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="4822639">    &lt;CronSchedule hours="2"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="4822640">&lt;/ProcessSchedule&gt;</a></PRE>
      <div class="B_-_Body"><a name="4812874">The batch process might invoke the plugin in the following ways:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4812875">Every day, for the latest market rates.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4812876">Periodically, based on your business requirements.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4877087">An implementation of </a><span class="cv_-_computer_voice">IExchangeRateSetPlugin</span> is required to provide an <span class="cv_-_computer_voice">ExchangeRateSet</span> object containing at least one <span class="cv_-_computer_voice">ExchangeRate</span> object from each currency in the <span class="cv_-_computer_voice">Currency</span> typelist to the system default currency. The <span class="cv_-_computer_voice">ExchangeRate</span> object must have a <span class="cv_-_computer_voice">BaseCurrency</span> element in the chosen currency and a <span class="cv_-_computer_voice">PriceCurrency</span> element that is the system default. If <span class="e_-_emphasis">N</span> represents a currency, then the minimum is N times one with a maximum of N times N. You can also set up these exchange rate entities yourself for every currency X to every Y combination.</div>
      <div class="B_-_Body"><a name="4874190">ClaimCenter uses the set of </a><span class="cv_-_computer_voice">ExchangeRate</span> objects to construct an exchange rate between every currency pair, which becomes the active market <span class="cv_-_computer_voice">ExchangeRateSet</span>.</div>
      <div class="B_-_Body"><a name="4877698">The two main exchange rate objects are as follows:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4877765">The </a><span class="cv_-_computer_voice">ExchangeRate</span> object represents an exchange rate between a pair of currencies. This rate can be a market rate, in which case it will exist in an <span class="cv_-_computer_voice">ExchangeRateSet</span> with rates between every currency pair. It can also be a manually entered custom rate, in which case it typically contains the amount entered by the user and resides alone in an <span class="cv_-_computer_voice">ExchangeRateSet</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4877700">The </a><span class="cv_-_computer_voice">ExchangeRateSet</span> object represents a set of exchange rates, along with supplemental information about those rates, including the effective and expiry dates for the set. The <span class="cv_-_computer_voice">MarketRates</span> field, when <span class="cv_-_computer_voice">true</span>, indicates that the exchange rates are market rates. When this field is <span class="cv_-_computer_voice">false</span>, the set contains only one user-defined custom rate.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4874191">In the following illustration, the </a><span class="cv_-_computer_voice">ExchangeRateSet</span> entity contains two currencies: US dollars and Euros. The entity also has effective date, <span class="cv_-_computer_voice">EffectiveDate</span>, and expiration date, <span class="cv_-_computer_voice">ExpireDate</span>, fields. </div>
      <h4 class="H2_-_Heading_2"><a name="4812517">Multicurrency and Active Market Rate Sets</a></h4>
      <div class="B_-_Body"><a name="4812566">If ClaimCenter has been configured for multicurrency display, ClaimCenter must always have an Active Market Rate Set. ClaimCenter defines an Active Market Rate Set if the </a><span class="cv_-_computer_voice">MarketRates</span> field is set to <span class="cv_-_computer_voice">true</span> on the <span class="cv_-_computer_voice">ExchangeRateSet</span> entity and the <span class="cv_-_computer_voice">ExchangeRateSet</span> has the current date. The current date must be between the effective date, <span class="cv_-_computer_voice">EffectiveDate</span>, and the expired date, <span class="cv_-_computer_voice">ExpireDate</span>. </div>
      <div class="B_-_Body"><a name="4823353">To determine which </a><span class="cv_-_computer_voice">ExchangeRateSet</span> entity is the active market set, the system first searches for <span class="cv_-_computer_voice">ExchangeRateSet</span> entities with <span class="cv_-_computer_voice">MarketRates</span> set to <span class="cv_-_computer_voice">true</span>. It then sorts on the most recent, unexpired effective date. </div>
      <div class="B_-_Body"><a name="4827565">If the </a><span class="cv_-_computer_voice">MarketRates</span> field is set to <span class="cv_-_computer_voice">false</span>, the <span class="cv_-_computer_voice">ExchangeRateSet</span> entity indicates a custom rate.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="4827566">You must run the Exchange Rate batch process at least once to load the market rates. If you do not run it, ClaimCenter displays an error if you try to create a multicurrency check. This error also occurs if the current market rate set expires and no new set has been loaded. To avoid this issue, Guidewire recommends that you not set the expiration date, enabling the system to always get the last known market rate set. </a></div>
      <h6 class="HS_-_Head_Sub"><a name="4811947">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('app', 'multicurrency.41.8.html#4812575', '');" title="Foreign Exchange Adjustments" name="4811951">“Foreign Exchange Adjustments”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'multicurrency_reserving.45.3.html#4886463', '');" title="Multicurrency Data Model" name="4811955">“Multicurrency Data Model” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('config', 'multicurrency_reserving.45.3.html#4886463', '');" title="Multicurrency Data Model">Configuration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'financials.29.13.html#3238179', '');" title="Exchange Rate Integration" name="4811959">“Exchange Rate Integration” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'financials.29.13.html#3238179', '');" title="Exchange Rate Integration">Integration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('admin', 'batch.11.07.html#1631743', '');" title="List of Batch Processes and Distributable Work Queues" name="4811963">“List of Batch Processes and Distributable Work Queues” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'batch.11.07.html#1631743', '');" title="List of Batch Processes and Distributable Work Queues">System Administration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <h4 class="H2_-_Heading_2"><a name="4822471">Importing Multiple Currency Transactions</a></h4>
      <div class="B_-_Body"><a name="4822472">Use the </a><span class="cv_-_computer_voice">IClaimFinancialsAPI.addClaimFinancials</span> method and the <span class="cv_-_computer_voice">IClaimFinancialsAPI.addClaimFinancialsWithValidation</span> method to import financial transactions into ClaimCenter. A call to either of these methods results in a new <span class="cv_-_computer_voice">TransactionSet</span> object containing transactions that have the same currency and exchange rates. For details, see <a href="javascript:WWHClickedPopup('integration', 'financials.29.03.html#3300706', '');" title="Claim Financials Web Services (ClaimFinancialsAPI)">“Claim Financials Web Services (ClaimFinancialsAPI)” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'financials.29.03.html#3300706', '');" title="Claim Financials Web Services (ClaimFinancialsAPI)">Integration Guide</a></span>.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>