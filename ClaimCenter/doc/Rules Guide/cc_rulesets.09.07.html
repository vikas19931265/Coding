<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Closed Rule Set Category</title>
    <link rel="StyleSheet" href="css/cc_rulesets.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Rules Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-rules.html#16506583">Gosu Business Rules</a> : <a class="WebWorks_Breadcrumb_Link" href="cc_rulesets.09.01.html#16506583">Rule Set Categories</a> : Closed Rule Set Category</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="16506583">Closed Rule Set Category</a></h3>
      <div class="B_-_Body"><a name="16506584">These rule sets fire any time that you close an activity, claim, exposure, or matter. They fire as immediately on closing one, not before. You can use these rules to send a notification or to generate additional activities, for example. </a></div>
      <div class="B_-_Body"><a name="16852492">The following example rules illustrate how to use these rule sets.</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16852493">The first example rule closes the claim file from within the Exposure Closed Rules rule set. See </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.07.html#16506636', '');" title="Closed Rule Set Category">“Exposure Closed Rules”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="16852495">The second example rule closes a claim automatically if all its Exposures are in a status of Closed.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="16852549">Condition</a></h6>
      <div class="CS_-_Code_Single_Line"><a name="17003731">return !exists (exp in claim.Exposures where exp.State !="closed")</a></div>
      <h6 class="HS_-_Head_Sub"><a name="17003732">Action</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="17003733">exposure.Claim.close( "completed", “Claim number “ + Exposure.Claim.ClaimNumber </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16852598">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ " closed by ClaimCenter because last open exposure was closed." )</a></PRE>
      <div class="B_-_Body"><a name="16852526">The second example, in the Claim Closed Rules rule set, works in conjunction with the previous example. The rule closes any open activities that are not available to closed claims. Therefore, if ClaimCenter closes a claim, the rule closes all open activities associated with the claim as well. See </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.07.html#16506618', '');" title="Closed Rule Set Category">“Claim Closed Rules”</a>.</div>
      <h6 class="HS_-_Head_Sub"><a name="16506597">Condition</a></h6>
      <div class="CS_-_Code_Single_Line"><a name="16506598">return true</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16506599">Action</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="16506600">for( act in claim.Activities) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506601">&nbsp;&nbsp;if (act.Status == "open" and act.ActivityPattern != null</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506602">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and act.ActivityPattern.ClosedClaimAvlble == false) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506603">&nbsp;&nbsp;&nbsp;&nbsp;act.complete()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506604">&nbsp;&nbsp;&nbsp;&nbsp;if (act.Description == null) { act.Description = "Closed by ClaimCenter." }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506605">&nbsp;&nbsp;&nbsp;&nbsp;else { act.Description = act.Description + "Closed by ClaimCenter." }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506606">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16506608">}</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="16852341">In actual practice, Guidewire recommends that you make all </a><span class="cv_-_computer_voice">String</span> values into display keys.</div>
      <h4 class="H2_-_Heading_2"><a name="16506609">Activity Closed Rules</a></h4>
      <div class="B_-_Body"><a name="16506610">ClaimCenter executes these rules immediately after an activity closes. Use these rules to create follow-up actions and activities. In the following example, the rule first verifies that an activity to salvage a vehicle is complete. If so, it then sets the vehicle recovery date to the current date.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16506611">Condition</a></h6>
      <div class="CS_-_Code_Single_Line"><a name="16506612">return activity.ActivityPattern.Code == “recover_vehicle” and activity.Status =="complete"</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16506613">Action</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="16506614">if (activity.Exposure &lt;&gt; null) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506615">&nbsp;&nbsp;activity.Exposure.VehicleIncident.DateVehicleRecovered = gw.api.util.DateUtil.currentDate()</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16506616">}</a></PRE>
      <h4 class="H2_-_Heading_2"><a name="16506618">Claim Closed Rules</a></h4>
      <div class="B_-_Body"><a name="16826860">These rules execute immediately after a claim closes. Use these rules to create follow-up actions and activities. Several of the rules in this rule set have special functionality:</a></div>
      <div class="T_-_Table"><a name="16826888">&nbsp;</a></div>
      <table class="Shading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16826863">Rule</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="16826865">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16826867">CCL01000 - Notify external systems</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16826869">Notifies external systems that the claim is closed.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16998661">CCL02000 - Suspend AutoSync for Related Contacts</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16998663">Helps facilitate the synchronization of contact information between ClaimCenter and ContactManager. See </a><a href="javascript:WWHClickedPopup('contact', 'syncing.12.1.html#1821757', '');" title="Linking and Synchronizing Contacts">“Linking and Synchronizing Contacts” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('contact', 'syncing.12.1.html#1821757', '');" title="Linking and Synchronizing Contacts">Contact Management Guide</a></span> for more information.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16998805">CCL03000 - Sample rule to set purge date</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16998807">Sets a purge date on the claim that you close to seven years from the closing of the claim file. This rule is inactive by default. If you activate it, you must also activate the following rule.</a></div>
            <div class="TT_-_Table_Text"><a name="16998984">Claim Reopened Rules: CRO03000 - Sample rule to remove purge date.</a><span class="e_-_emphasis"> </span>See <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.04.html#16881432', '');" title="Archive Rule Set Category">“Archive Claim Purge Rules”</a>.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16826874">CCL04000 - Set archive eligibility date</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 2pt; padding-left: 2pt; padding-right: 8pt; padding-top: 2pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="16826876">Sets </a><span class="cvt_-_computer_voice_table">claim.DateEligibleForArchive</span> to a date created by adding the value of configuration parameter <span class="cvt_-_computer_voice_table">DaysClosedBeforeArchive</span> to the current system date. </div>
            <div class="TT_-_Table_Text"><a name="16998939">This rule works in conjunction with Claim Reopened Rules: CRO04000 - Clear archive eligibility date.</a><span class="e_-_emphasis"> </span>See <a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.04.html#16881464', '');" title="Archive Rule Set Category">“Claim Eligible for Archive Rules”</a>.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="16543392">In the following example, the rule closes all open activities associated with a claim if the claim closes.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16506620">Condition</a></h6>
      <div class="CS_-_Code_Single_Line"><a name="16506621">return true</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16506622">Action</a></h6>
      <PRE class="CF_-_Code_First_Line"><a name="16506623">for( act in claim.Activities) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506624">&nbsp;&nbsp;if (act.Status=="open" and act.ActivityPattern != null </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16852357">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and act.ActivityPattern.ClosedClaimAvlble == false) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506626">&nbsp;&nbsp;&nbsp;&nbsp;act.complete()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506627">&nbsp;&nbsp;&nbsp;&nbsp;if (act.Description == null) {        	</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506628">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;act.Description = "Closed by ClaimCenter."</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506629">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506630">&nbsp;&nbsp;&nbsp;&nbsp;else {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506631">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;act.Description = act.Description + " Closed by ClaimCenter."</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506632">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="16506633">&nbsp;&nbsp;}</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="16506634">}</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="16852382">In actual practice, Guidewire recommends that you make all </a><span class="cv_-_computer_voice">String</span> values into display keys.</div>
      <h4 class="H2_-_Heading_2"><a name="16506636">Exposure Closed Rules</a></h4>
      <div class="B_-_Body"><a name="16506640">These rules execute immediately after the rules in the Exposure Closed Validation Rules rule set run. Use these rules to take automated actions on the closure of the exposure. See </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.19.html#16853912', '');" title="Adding New Validation Levels">“Exposure Closed Validation Rules”</a>.</div>
      <div class="B_-_Body"><a name="17007482">In the following example, the rule closes a claim any time that a user closes the last open exposure associated with the claim.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16506641">Condition</a></h6>
      <div class="CS_-_Code_Single_Line"><a name="16506642">return not exists (exp in exposure.Claim.Exposures where exp.State != "closed" )</a></div>
      <h6 class="HS_-_Head_Sub"><a name="16506643">Action</a></h6>
      <div class="CS_-_Code_Single_Line"><a name="16506644">exposure.Claim.close( "completed", "Claim closed by ClaimCenter as last open exposure closed.")</a></div>
      <h4 class="H2_-_Heading_2"><a name="16506645">Matter Closed Rules</a></h4>
      <div class="B_-_Body"><a name="16506646">A matter is the set of data organized around a single lawsuit or potential lawsuit. This data includes information on the attorneys involved, the trial details, and the lawsuit details. These rules execute immediately after a matter closes. Use these rules to take automated actions on the closure of a matter.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>