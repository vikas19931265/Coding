<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Modifying Free-text Search for Additional Fields</title>
    <link rel="StyleSheet" href="css/search.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-ui.html#2887676">User Interface Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="search.33.01.html#2887676">Configuring Search Functionality</a> : <a class="WebWorks_Breadcrumb_Link" href="search.33.07.html#2887676">Free-text Search Configuration</a> : Modifying Free-text Search for Additional Fields</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="2887676">Modifying Free-text Search for Additional Fields</a></h4>
      <div class="B_-_Body"><a name="2887677">You can modify the configuration of free-text search in many ways. For example, you can add or remove fields for search criteria, modify how fields are stored in the Guidewire Solr Extension, and configure how fields are matched to search criteria. For complete information on how to modify the Guidewire Solr extension, consult the online documentation for Apache&nbsp;Solr 4</a></div>
      <div class="B_-_Body"><a name="2887678">This section shows by example the configuration files you typically modify to change how the Guidewire Solr Extension loads, indexes, and searches data. The example is a simple configuration change to add a field to free-text search. </a></div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2887679">Be aware that adding multi-valued fields can affect free-text search performance. In particular, adding fields with too many values significantly degrades full-text search performance.</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2887680">Configuration Files for Full-text Loading, Indexing, and Searching</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2887681">Typically, you modify the following files to configure the way the Guidewire Solr extension loads, indexes, and searches information in the Guidewire Solr Extension. The following table lists the configuration files, grouped by the component they configure. </a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2887880">Sequence of Steps for Adding a Field to Free-text Search</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2887684">Configuration file</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2887686">Description </a></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F2F7FC; border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom" colspan="3">
            <div class="TH_-_Table_Heading"><a name="2887690">ClaimCenter</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" rowspan="2">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2887696">claimcontact-search-config.xml</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><a name="2887698">Defines the mapping between ClaimCenter fields and Guidewire Solr Extension fields, and configures how the Guidewire Solr Extension indexes and searches its index documents.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887704">ClaimCenter/modules/configuration/config/search/claimcontact -search-config.xml</a></span> </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" rowspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887708">CCSolrSearchPlugin.gs</a></span> </div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><a name="2887710">The implementation class for the free-text plugin </a><span class="cvt_-_computer_voice_table">ISolrSearchPlugin</span>. This plugin sends search criteria to the Guidewire Solr Extension and receives the search results.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2887716">ClaimCenter/modules/gsrc/gw/solr/CCSolrSearchPlugin.gs</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F2F7FC; border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom" colspan="2">
            <div class="TH_-_Table_Heading"><a name="2887756">Guidewire Solr Extension</a></div>
          </td>
          <td style="background-color: #F2F7FC; border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2887760">For more information …</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" rowspan="2">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2887762">schema.xml</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2887764">Defines the document schema structure for the Guidewire Solr Extension.</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a href="http://wiki.apache.org/solr/SchemaXml" target="external_window" name="2887767">http://wiki.apache.org/solr/SchemaXml</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887771">/opt/gwsolr/cc/solr/claimcontact_active/conf</a></span>/<span class="cvt_-_computer_voice_table">schema.xml</span> </div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" rowspan="2">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a name="2887775">data-config.xml</a></span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2887777">Read only at startup, defines where to locate and how to interpret data from the batch load command.</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text" style="color: #000000; font-family: &quot;Lucida Sans Typewriter&quot;; font-style: normal; font-variant: normal; font-weight: normal; margin-top: 3.0pt; text-transform: none; vertical-align: baseline"><span class="cvt_-_computer_voice_table"><a href="http://wiki.apache.org/solr/DataImportHandler#Configuration_in_data-config.xml-1" target="external_window" name="2887780">http://wiki.apache.org/solr/DataImportHandler#Configuration_in_data-config.xml-1</a></span></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887784">/opt/gwsolr/cc/solr/claimcontact_active/conf</a></span>/<span class="cvt_-_computer_voice_table">data-config.xml</span> </div>
          </td>
        </tr>
        <tr>
          <td style="background-color: #F2F7FC; border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom" colspan="3">
            <div class="TH_-_Table_Heading"><a name="2887814">Free-text batch load command</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" rowspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887820">batchload.sh</a></span> </div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><a name="2887822">The batch load command itself.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887828">/opt/gwsolr/cc/solr/claimcontact_active/conf</a></span>/<span class="cvt_-_computer_voice_table">batchload.sh</span></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" rowspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887832">batchload-config.xml</a></span><span style="font-family: &quot;Times New Roman&quot;; font-size: 10.0pt"> </span></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><a name="2887834">Contains database connection information and brand-specific native SQL for selecting data from the ClaimCenter relational database.</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top" colspan="2">
            <div class="TT_-_Table_Text"><span class="cvt_-_computer_voice_table"><a name="2887840">/opt/gwsolr/cc/solr/claimcontact_active/conf</a></span>/<span class="cvt_-_computer_voice_table">batchload-config.xml</span></div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2887881">Follow these high-level steps to configure free-text search with an additional field.</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'search.33.14.html#2887896', '');" title="Modifying Free-text Search for Additional Fields" name="2887885">“Define a New Free-text Field in the Guidewire Solr Extension”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'search.33.14.html#2887911', '');" title="Modifying Free-text Search for Additional Fields" name="2887889">“Define a New Free-text Field in ClaimCenter”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'search.33.14.html#2887970', '');" title="Modifying Free-text Search for Additional Fields" name="2887893">“Define a New Free-text Field in the Batch Load Command”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2887894">The examples that follow of add a policy postal code as a free-text field. </a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2887896">Define a New Free-text Field in the Guidewire Solr Extension</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2887897">Open the following file to define a new free-text field in the Guidewire Solr Extension: </a></div>
      <div class="CS_-_Code_Single_Line"><a name="2890566">/opt/gwsolr/cc/solr/claimcontact_active/conf/schema.xml</a></div>
      <div class="B_-_Body"><a name="2887900">The Guidewire Solr Extension defines the format of this file.</a></div>
      <div class="B_-_Body"><a name="2887901">The schema configuration file contains </a><span class="cv_-_computer_voice">&lt;field&gt;</span> elements, one for each full-text field of the index documents in the Guidewire Solr Extension. </div>
      <div class="B_-_Body"><a name="2887902">The following example defines a full-text field that stores postal codes. </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2887903">&lt;field name=</a><span class="s_-_strong">"postalCode</span>" type="gw_unanalyzed" <span class="s_-_strong">indexed="true"</span> </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2887904">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><span class="s_-_strong">stored="true"</span> required="false"</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2887905">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiValued="false"/&gt;</a></PRE>
      <div class="B_-_Body"><a name="2887906">The definition directs the Guidewire Solr Extension to index the values of postal code fields, so search criteria can include postal codes. The definition directs the Guidewire Solr Extension to store the values of postal code fields, so items returned in search results include them. </a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2887911">Define a New Free-text Field in ClaimCenter</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2887915">Open the following file to define a new free-text field in ClaimCenter.</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2890585">ClaimCenter/modules/configuration/config/search/</a><span class="s_-_strong">claimcontact-search-config.xml</span></div>
      <div class="B_-_Body"><a name="2890593">In Studio, access the file from </a><span class="ui_-_UI_element">configuration → Other Resources</span> → <span class="cv_-_computer_voice">claimcontact-search-config.xml</span>. ClaimCenter defines the format of this file.</div>
      <div class="B_-_Body"><a name="2887932">Free-text search configuration files have these main elements: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2887933">&lt;Indexer&gt;</a></span> – Contains <span class="cv_-_computer_voice">&lt;IndexField&gt;</span> elements to define field names and their locations within object graphs of the root object and in the index documents sent to the Guidewire Solr Extension. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2887934">&lt;Query&gt;</a></span> – Contains the following types of elements:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="2887935">&lt;FilterTerm&gt;</a></span> elements configure whether to return specific fields in results if the field matches search criteria.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><span class="cv_-_computer_voice"><a name="2887936">&lt;QueryTerm&gt;</a></span> elements define how specific fields are matched and how a match contributes to the overall score. A query term is one of two types: <span class="e_-_emphasis">term</span> and <span class="e_-_emphasis">subquery</span>. A term type searches a single index. A subquery type searches multiple indices simultaneously and scores the most appropriate match.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2887937">&lt;QueryResult&gt;</a></span> – Contains <span class="cv_-_computer_voice">&lt;ResultProperty&gt;</span> elements to configure whether and how specific fields are returned in query results from the Guidewire Solr Extension.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2890643">To add a free-text field to </a><span class="cv_-_computer_voice">claimcontact-search-config.xml</span>, first add an <span class="cv_-_computer_voice">&lt;IndexField&gt;</span> element to the <span class="cv_-_computer_voice">&lt;Indexer&gt;</span> element. The following example defines a free-text field for postal codes. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2890644">&lt;IndexField field="</a><span class="s_-_strong">postalCode</span>"&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890645">&nbsp;&nbsp;&lt;DataProperty path="root.ClaimContactAddress.PostalCode"/&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2890646">&lt;/IndexField&gt;</a></PRE>
      <div class="B_-_Body"><a name="2890647">The definition specifies that values of </a><span class="cv_-_computer_voice">postalCode</span> fields in the index documents sent to the full-text engine come from addresses on claim contacts, the root object.</div>
      <div class="B_-_Body"><a name="2887954">Next, add </a><span class="cv_-_computer_voice">&lt;FilterTerm&gt;</span> elements for the new free-text field to the <span class="cv_-_computer_voice">&lt;Query&gt;</span> element. The following example specifies how the Guidewire Solr Extension matches <span class="cv_-_computer_voice">PostalCodeCriteria</span> values in search criteria with <span class="cv_-_computer_voice">postalCode</span> values in the Guidewire Solr Extension.</div>
      <PRE class="CF_-_Code_First_Line"><a name="2887959">&lt;FilterTerm&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2887960">&nbsp;&nbsp;&lt;DataProperty path="root.PostalCodeCriteria"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2887961">&nbsp;&nbsp;&lt;QueryField field="</a><span class="s_-_strong">postalCode</span>"/&gt;</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2887962">&lt;/FilterTerm&gt;</a></PRE>
      <div class="B_-_Body"><a name="2887963">The definition directs the Guidewire Solr Extension to accept postal codes in search criteria and where to find them in the XML structure of the search criteria. </a></div>
      <div class="B_-_Body"><a name="2887964">Finally, add a </a><span class="cv_-_computer_voice">&lt;ResultProperty&gt;</span> element to the <span class="cv_-_computer_voice">&lt;QueryResult&gt;</span> element. The following example defines how the Guidewire Solr Extension returns <span class="cv_-_computer_voice">postalCode</span> values in query results. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2887965">&lt;ResultProperty name="PostalCode"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2887966">&nbsp;&nbsp;&lt;ResultField name="</a><span class="s_-_strong">postalCode</span>"/&gt;</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2887967">&lt;/ResultProperty&gt;</a></PRE>
      <div class="B_-_Body"><a name="2887968">The definition assigns the </a><span class="cv_-_computer_voice">postalCode</span> value in the result to the <span class="cv_-_computer_voice">PostalCode</span> on the result object.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2887970">Define a New Free-text Field in the Batch Load Command</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2887974">In order to load data from an existing ClaimCenter database, the new free-text field has must listed in the </a><span class="cv_-_computer_voice">batchload-config.xml</span> files and the <span class="cv_-_computer_voice">data-config.xml</span> file. You decide whether to include or exclude the field from the digest that prevents duplicate index entries.</div>
      <h6 class="HS_-_Head_Sub"><a name="2887975">Generating the SQL Query</a></h6>
      <div class="B_-_Body"><a name="2887976">Add the new free-text field in the SELECT portion of the query that corresponds to the data. The SQL for postal codes looks like this:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2890692">SELECT DISTINCT</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890693">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890694">&nbsp;&nbsp;ccaddr.postalcodeinternal AS </a><span class="s_-_strong">postalCode</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890695">&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890696">&nbsp;&nbsp;FROM cc_claimcontact AS cc</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890697">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890698">&nbsp;&nbsp;&nbsp;&nbsp;INNER JOIN cc_claim ccaddr</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890699">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON ccaddr.branchid = cc.id</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890700">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890701">&nbsp;&nbsp;WHERE </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890702">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890703">&nbsp;&nbsp;&nbsp;&nbsp;AND (ccaddr.EffectiveDate  IS NULL OR ccaddr.EffectiveDate  </a><span class="s_-_strong">&amp;lt;</span>= cc2.EditEffectiveDate )</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890704">&nbsp;&nbsp;&nbsp;&nbsp;AND (ccaddr.ExpirationDate IS NULL OR ccaddr.ExpirationDate </a><span class="s_-_strong">&amp;gt;</span>  cc2.EditEffectiveDate )</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2890705">&nbsp;&nbsp;&nbsp;&nbsp;...</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2888007">Because the SQL is included in an XML file, you must escape the less than (</a><span class="cv_-_computer_voice">&amp;lt;</span>) and greater than (<span class="cv_-_computer_voice">&amp;gt;</span>) symbols. </div>
      <div class="B_-_Body"><a name="2888008">The query is processed into an XML document that will be loaded into SQL. Batch loading of XML into Solr is described in </a><span class="cv_-_computer_voice"><a href="http://wiki.apache.org/solr/DataImportHandler#Configuration_in_data-config.xml-1" target="external_window">http://wiki.apache.org/solr/DataImportHandler#Configuration_in_data-config.xml-1.</a></span></div>
      <div class="B_-_Body"><a name="2888010">The field names come out all in uppercase, and the structure of the XML document is</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2890754">&lt;CONTAINER_ELEM&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890755">&nbsp;&nbsp;&lt;CLAIMCONTACT&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890756">&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- data for one claim contact --&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2890757">&nbsp;&nbsp;&lt;/CLAIMCONTACT&gt;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2890758">&lt;/CONTAINER_ELEM&gt;</a></PRE>
      <div class="B_-_Body"><a name="2888021">The entry needed in </a><span class="cv_-_computer_voice">data-config.xml</span> in order to include the <span class="cv_-_computer_voice">postalCode</span> in the index is:</div>
      <div class="CS_-_Code_Single_Line"><a name="2890785">&lt;field column="</a><span class="s_-_strong">postalCode</span>" xpath="/CONTAINER_ELEM/CLAIMCONTACT/POSTALCODE"/&gt;</div>
      <div class="B_-_Body"><a name="2888024">Within the row for one claim contact, the fields will be in the same order as they were returned by the SELECT statement.</a></div>
      <div class="B_-_Body"><a name="2888025">You can have fields in the SQL result that do not become part of the XML of the index documents. The Guidewire Solr Extension ignores them when it loads them. The batch load command uses these kinds of fields to sort and manipulate the data returned from the database to XML to produce the final XML index documents to load. But, these fields are not part of the index document schema. </a></div>
      <div class="B_-_Body"><a name="2332287">&nbsp;</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>