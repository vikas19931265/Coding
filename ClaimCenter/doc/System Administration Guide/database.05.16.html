<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Purging Unwanted Claims</title>
    <link rel="StyleSheet" href="css/database.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter System Administration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="database.05.01.html#1264409">Configuring and Maintaining the ClaimCenter Database</a> : Purging Unwanted Claims</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="1264409">Purging Unwanted Claims</a></h3>
      <div class="B_-_Body"><a name="1264410">You can purge unwanted claims from the database and the archive. Unwanted claims could be claims that are older than a certain threshold, or they could be claims that were mistakenly or incorrectly entered into ClaimCenter. You can also store a date on the claim in </a><span class="cv_-_computer_voice">Claim.PurgeDate</span> that indicates when the claim can be purged from the ClaimCenter database. Storing a date in <span class="cv_-_computer_voice">ClaimInfo.PurgeDate</span> indicates when the claim can be purged from the archive. You must write code to check these dates if you want them to affect purging of claims.</div>
      <div class="B_-_Body"><a name="1264420">ClaimCenter includes sample rules that you can use to set the claim purge date when the claim is closed and to null the date if the claim is reopened. See </a><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.04.html#16881432', '');" title="Archive Rule Set Category">“Archive Claim Purge Rules” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('rules', 'cc_rulesets.09.04.html#16881432', '');" title="Archive Rule Set Category">Rules Guide</a></span>.</div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1264424">While </a><span class="cv_-_computer_voice">Claim.PurgeDate</span> and <span class="cv_-_computer_voice">ClaimInfo.PurgeDate</span> are set by these sample rules, the base configuration of ClaimCenter does not use these dates. You can extend ClaimCenter to query these fields and use them to determine when to purge claims.</div>
      <div class="B_-_Body"><a name="1264425">Purging a claim permanently removes the claim from the database or the archive if archiving is enabled. You will never again be able to find the claim by searching, and you will never be able to restore it. Purging removes all traces of the claim from the database and the archive.</a></div>
      <div class="B_-_Body"><a name="1264429">For ClaimCenter to purge a claim, the claim must meet the following conditions:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1264430">Unless it has draft status, the claim cannot have any active (unanswered) messages, or ClaimCenter throws an </a><span class="cv_-_computer_voice">ActiveMessageException</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1264437">Unless it has draft status, the claim cannot be part of a workflow, or ClaimCenter throws an </a><span class="cv_-_computer_voice">ActiveWorkflowException</span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1264438">The claim cannot have aggregate limits.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1264439">The claim cannot be linked to a bulk invoice.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="1264440">These conditions do not prevent you from purging an open claim. </a></div>
      <div class="B_-_Body"><a name="1264441">As you purge a claim:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1264445">All traces of the claim disappear from the main database. ClaimCenter uses the claim domain graph, which identifies all tables and rows associated with the claim, for purging.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1264449">ClaimCenter removes the claim from all claim associations. If there is only one claim remaining in the association, ClaimCenter also removes the association itself.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="1264456">If there are no remaining claims associated with the claim’s policy period, ClaimCenter removes the policy period.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="1264460">Before doing your initial purge, Guidewire recommends that you back up the ClaimCenter database. It is probably not practical to back up the database before every purge, so you will need to develop a policy for making backups that takes purges into account.</a></div>
      <div class="B_-_Body"><a name="1264461">Purge claims either from the command line or by calling a web service. </a></div>
      <h6 class="HS_-_Head_Sub"><a name="1264462">To use the web service to purge claims</a></h6>
      <div class="B_-_Body"><a name="1264463">First mark the claims ready for purge by calling </a><span class="cv_-_computer_voice">IMaintenanceToolsAPI.markPurgeReady</span>, passing in the claim numbers for the claims to mark for purging. Later, when the Bulk Purge batch process runs, the marked claims will actually be deleted. The batch process is not scheduled in the base configuration. You can schedule it to run at regular intervals, or you can trigger it to run immediately by calling <span class="cv_-_computer_voice">IMaintenanceToolsAPI.startBatchProcess("bulkpurge")</span>. </div>
      <div class="B_-_Body"><a name="1264464">For more information on web services, see:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'webservices.06.1.html#3412469', '');" title="Web Services Introduction" name="1264468">“Web Services Introduction” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'webservices.06.1.html#3412469', '');" title="Web Services Introduction">Integration Guide</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('integration', 'webservices-general.11.1.html#3386593', '');" title="General Web Services" name="1264472">“General Web Services” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('integration', 'webservices-general.11.1.html#3386593', '');" title="General Web Services">Integration Guide</a></span></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="1264473">To purge a claim from the command line</a></h6>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1264474">Use </a><span class="cv_-_computer_voice">maintenance_tools</span> to mark claims for purging. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="1264475">Either mark a single claim or comma-delimited list of claims for purging by listing the claim number or numbers:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1264477">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -markforpurge -claims <span class="pc_-_parameter_in_code">claim_number1, claim_number2...</span></div>
      <div class="LP_-_List_Para"><a name="1264478">Or, mark multiple claims by creating a text file containing a list of claim numbers separated by commas or new lines. Then mark them all for purging by using the following command:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="1264479">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> -markforpurge -file <span class="pc_-_parameter_in_code">file_name</span></div>
      <div class="LP_-_List_Para"><a name="1264480">After you mark claims for purging, you can no longer view or edit those claims. However, the claims still exist in the ClaimCenter database until you actually purge them. Upon marking a claim for purge, ClaimCenter retires the row in the </a><span class="cv_-_computer_voice">ClaimInfo</span> and <span class="cv_-_computer_voice">Claim</span> tables and deletes related rows that are not retireable from <span class="cv_-_computer_voice">LocationInfo</span>, <span class="cv_-_computer_voice">ClaimInfoAccess</span>, <span class="cv_-_computer_voice">ContactInfo</span>, and <span class="cv_-_computer_voice">PeriodPolicy</span>.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="1264487">Purge the marked claims by using the following command:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="1264488">maintenance_tools -password </a><span class="pc_-_parameter_in_code">password</span> –startprocess bulkpurge</div>
      <div class="LP_-_List_Para"><a name="1264492">ClaimCenter permanently deletes all claims that you marked for purging from the ClaimCenter database and the archive. ClaimCenter also deletes the </a><span class="cv_-_computer_voice">ClaimInfo</span> record for each purged claim.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>