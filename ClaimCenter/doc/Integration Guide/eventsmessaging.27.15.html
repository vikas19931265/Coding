<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Messaging Tools Web Service</title>
    <link rel="StyleSheet" href="css/eventsmessaging.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-messaging.html#4419178">Messaging</a> : <a class="WebWorks_Breadcrumb_Link" href="eventsmessaging.27.01.html#4419178">Messaging and Events</a> : Messaging Tools Web Service</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="4419178">Messaging Tools Web Service</a></h3>
      <div class="B_-_Body"><a name="4419512">ClaimCenter provides a web service called </a><span class="cv_-_computer_voice">MessagingToolsAPI</span>, which lets an external system remotely control the messaging system.</div>
      <div class="B_-_Body"><a name="4420857">These API methods (except for </a><span class="cv_-_computer_voice">getClaimMessageStatistics</span>) are available using the <span class="cv_-_computer_voice">messaging_tools</span> command line tool. See <a href="javascript:WWHClickedPopup('admin', 'commandsref.14.06.html#1028063', '');" title="Messaging Tools Command">“Messaging Tools Command” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('admin', 'commandsref.14.06.html#1028063', '');" title="Messaging Tools Command">System Administration Guide</a></span>. Within the administrative environment, the following command shows the syntax of each command:</div>
      <div class="CS_-_Code_Single_Line"><a name="4420808">messaging_tools -help</a></div>
      <h6 class="HS_-_Head_Sub"><a name="4419513">Retry a Message</a></h6>
      <div class="B_-_Body"><a name="4419518">To retry a message, call the </a><span class="cv_-_computer_voice">retryMessage</span> method. The behavior is the same as in the ClaimCenter user interface.</div>
      <h6 class="HS_-_Head_Sub"><a name="4419446">Skip a Message</a></h6>
      <div class="B_-_Body"><a name="4421496">To skip a message, call the </a><span class="cv_-_computer_voice">skipMessage</span> method. The behavior is the same as in the ClaimCenter user interface.</div>
      <h6 class="HS_-_Head_Sub"><a name="4421497">Retry Messages</a></h6>
      <div class="B_-_Body"><a name="4419549">To retry all </a><span class="e_-_emphasis">retryable</span> messages for a destination, call the <span class="cv_-_computer_voice">retryRetryableErrorMessages</span> method. </div>
      <div class="B_-_Body"><a name="4419596">For example, call this method if the destination was temporarily unavailable and is now back on-line. </a></div>
      <div class="B_-_Body"><a name="4419631">You can specify a maximum number of times to retry each message. This maximum prevents messages from retrying forever. </a></div>
      <h6 class="HS_-_Head_Sub"><a name="4419702">Purge Completed Messages</a></h6>
      <div class="B_-_Body"><a name="4419926">To purge completed messages, call the </a><span class="cv_-_computer_voice">purgeCompletedMessages</span> method. This method deletes completed messages in the messaging history table (<span class="cv_-_computer_voice">MessageHistory</span>) from the ClaimCenter database for all messages older than the given date. </div>
      <div class="B_-_Body"><a name="4419937">Since the number and size of messages may be very large, Guidewire recommends you muse this method periodically to purge old messages. Purging messages in the message history table prevents the database from growing unnecessarily large. </a></div>
      <div class="B_-_Body"><a name="4419946">Always purge completed (inactive) messages before upgrading to a new version of ClaimCenter. Purging completed messages reduces the complexity of your upgrade. </a></div>
      <div class="B_-_Body"><a name="4419949">Additionally, periodically use this command to purge old messages to avoid the database from growing unnecessarily.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="4419952">Suspend Destination</a></h6>
      <div class="B_-_Body"><a name="4419984">To suspend a destination, call the </a><span class="cv_-_computer_voice">suspendDestination</span> method. Suspending a destination means that ClaimCenter stops sending messages to a destination. </div>
      <div class="B_-_Body"><a name="4420078">ClaimCenter suspends the destination so that it can also release any resources such as a message batch file. Use this method to shut down the destination system to halt sending during processing of a daily batch file.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="4420141">Resume Destination</a></h6>
      <div class="B_-_Body"><a name="4420164">To resume a destination, call the </a><span class="cv_-_computer_voice">resumeDestination</span> method. Resuming a destination means that ClaimCenter starts trying to send messages to the destination again. </div>
      <div class="B_-_Body"><a name="4420258">If a previous suspend action released any resources, resuming the destination reclaims those resources. For example, the destination might reconnect to a message queue.</a></div>
      <h6 class="HS_-_Head_Sub"><a name="4420366">Get Messaging Statistics for a Safe Ordered Object</a></h6>
      <div class="B_-_Body"><a name="4420606">To get messaging statistics for a safe-ordered object, call the </a><span class="cv_-_computer_voice">getMessageStatisticsForSafeOrderedObject</span> object. </div>
      <div class="B_-_Body"><a name="4420706">This method returns information that is similar to the user interface for a claim:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4420548">the number of messages failed</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4420553">retryable messages</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4420571">in-flight messages</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="4420643">unsent messages</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="4420897">Messaging tool actions such as </a><span class="cv_-_computer_voice">suspend</span>, <span class="cv_-_computer_voice">resume</span>, <span class="cv_-_computer_voice">retry</span>, and others can be triggered from the Administrator interface and also from the web services <span class="cv_-_computer_voice">MessagingToolsAPI</span> interface. These messaging tools can only be used if the server run mode is <span class="cv_-_computer_voice">multiuser</span>.</div>
      <h6 class="HS_-_Head_Sub"><a name="4419218">Change Messaging Destination Configuration Parameters</a></h6>
      <div class="B_-_Body"><a name="4420965">To change messaging destination configuration parameters on a running server, call the </a><span class="cv_-_computer_voice">configureDestination</span> method. This restarts the destination with the change to the configuration settings. The command waits for the destination to stop for the configured stop time. The method returns nothing,</div>
      <div class="B_-_Body"><a name="4421430">The arguments are:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421145">destID</a></span> – The destination ID of the destination to suspend</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421146">maxretries</a></span> – maximum retries</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421147">initialretryinterval</a></span> – initial retry interval</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421148">retrybackoffmultiplier</a></span> – additional retry backoff</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421149">pollinterval</a></span> – how often to poll, from start to start</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421150">numsenderthreads</a></span> – number of sender threads for multi-threaded sends</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421151">chunksize</a></span> – number of messages to read in a chunk</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="4421152">timeToWaitInSec</a></span> – the number of seconds to wait for the shutdown before forcing it</div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="4421502">Get Configuration Information from a Destination</a></h6>
      <div class="B_-_Body"><a name="4421550">To get some configuration information from a messaging destination, call the </a><span class="cv_-_computer_voice">getConfiguration</span> method. This information is read from files on disk during server startup, however can be modified by web services and command line tools. See earlier in this topic for the <span class="cv_-_computer_voice">configureDestination</span> method.</div>
      <div class="B_-_Body"><a name="4421561">The </a><span class="cv_-_computer_voice">getConfiguration</span> method takes only one argument, the destination ID. The method returns a <span class="cv_-_computer_voice">ExternalDestinationConfig</span> object, which contains properties matching the properties in the <span class="cv_-_computer_voice">getConfiguration</span> method, such as the polling interval and the chunk size. See the <span class="cv_-_computer_voice">getConfiguration</span> method documentation for details of each property.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>