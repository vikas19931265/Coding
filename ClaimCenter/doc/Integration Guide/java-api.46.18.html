<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Advanced OSGi Dependency and Settings Configuration</title>
    <link rel="StyleSheet" href="css/java-api.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-claims.html#2225912">Other Integration Topics</a> : <a class="WebWorks_Breadcrumb_Link" href="java-api.46.01.html#2225912">Java and OSGi Support</a> : Advanced OSGi Dependency and Settings Configuration</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2225912">Advanced OSGi Dependency and Settings Configuration</a></h3>
      <div class="B_-_Body"><a name="2243995">The IntelliJ IDEA with OSGi Editor application configures dependencies and several additional files related to module configuration and Ant build script. These files are created automatically.</a></div>
      <div class="B_-_Body"><a name="2238413">You can edit these files directly in the file system if necessary without harming OSGi module settings. The only file that IntelliJ IDEA with OSGi Editor modifies is </a><span class="cv_-_computer_voice">build.properties</span>, to edit the bundle symbolic name and version.</div>
      <h6 class="HS_-_Head_Sub"><a name="2224845">Dependencies</a></h6>
      <div class="B_-_Body"><a name="2236781">The IntelliJ IDEA with OSGi Editor auto-creates the following dependencies:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ps_-_parameter_in_code_snippets"><a name="2236329">PROJECT</a></span><span class="cv_-_computer_voice">/</span><span class="ps_-_parameter_in_code_snippets">MODULE</span><span class="cv_-_computer_voice">/inline-lib</span> directory – Directory for third-party Java libraries to embed in your OSGi bundle. See <a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2273002', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor">“Embed a Third-Party Java Library in your OSGi bundle”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ps_-_parameter_in_code_snippets"><a name="2236295">PROJECT</a></span><span class="cv_-_computer_voice">/</span><span class="ps_-_parameter_in_code_snippets">MODULE</span><span class="cv_-_computer_voice">/lib</span> directory – Directory for third-party OSGi-compliant libraries to use but deploy into a separate OSGi bundle. See <a href="javascript:WWHClickedPopup('integration', 'java-api.46.17.html#2264954', '');" title="OSGi Plugin Deployment with IntelliJ IDEA with OSGi Editor">“Deploying a Third-party OSGi-compliant Library as a Separate Bundle”</a>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2275230">ClaimCenter/java-api/lib</a></span> – The ClaimCenter Java API files that the <span class="cv_-_computer_voice">regen-java-api</span> tool creates.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2275231">If you have any JAR files that you require, put them in the </a><span class="cv_-_computer_voice">lib</span> or <span class="cv_-_computer_voice">inline-lib</span> directories, as specified earlier. You do not need to modify any build scripts to add JAR files.</div>
      <div class="B_-_Body"><a name="2275480">If you add dependencies in the IntelliJ project from other directories, change the associated </a><span class="cv_-_computer_voice">build.xml</span> (Ant build script) to include those directories.</div>
      <h6 class="HS_-_Head_Sub"><a name="2275232">Build Properties</a></h6>
      <div class="B_-_Body"><a name="2237014">The </a><span class="cv_-_computer_voice">build.properties</span> file at the root directory of the module contains the bundle symbolic name, version, and the path to Guidewire product. From within IntelliJ IDEA with OSGi Editor, you can edit these fields but optionally you can directly modify this file as needed. The following is an example of this file:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2224860">Bundle-SymbolicName=messaging-OSGi-plugins</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224862">Bundle-Version=1.0.0</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2224864">-gw-dist-directory=C:/ClaimCenter/</a></PRE>
      <div class="B_-_Body"><a name="2224866">The Ant build script (</a><span class="cv_-_computer_voice">build.xml</span>) uses these properties. </div>
      <h6 class="HS_-_Head_Sub"><a name="2224870">OSGi Bundle Metadata Configuration File</a></h6>
      <div class="B_-_Body"><a name="2237359">The OSGi bundle metadata configuration file is called </a><span class="cv_-_computer_voice">bnd.bnd</span>. The contents of this file configures how scripts in the IntelliJ IDEA with OSGi Editor application generate OSGi bundle metadata, such as the <span class="cv_-_computer_voice">MANIFEST.MF</span> file and other descriptor files. </div>
      <div class="B_-_Body"><a name="2237618">By default, this file looks like:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2224873">Import-Package=*</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224875">DynamicImport-Package=</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224877">Export-Package=</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224879">Service-Component=*</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224881">Bundle-DocURL=</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224883">Bundle-License=</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224885">Bundle-Vendor=</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224887">Bundle-RequiredExecutionEnvironment=JavaSE-1.7</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224889">-consumer-policy=${range;[==,+)}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2224891">-include=build.properties</a></PRE>
      <div class="B_-_Body"><a name="2224893">For the format of this file, see:</a></div>
      <div class="CS_-_Code_Single_Line"><a href="http://www.aqute.biz/Bnd/Format" target="external_window" name="2237843">http://www.aqute.biz/Bnd/Format</a></div>
      <div class="B_-_Body"><a name="2224895">However, for the </a><span class="cv_-_computer_voice">Bundle-SymbolicName</span> and <span class="cv_-_computer_voice">Bundle-Version</span> properties, you must set or change those settings in the <span class="cv_-_computer_voice">build.properties</span> file. Both the <span class="cv_-_computer_voice">bnd.bnd</span> and <span class="cv_-_computer_voice">build.xml</span> file use those properties from the <span class="cv_-_computer_voice">build.properties</span> file.</div>
      <div class="B_-_Body"><a name="2224897">You may need to edit this file if you want to export some Java packages from your bundle, or you want to customize the </a><span class="cv_-_computer_voice">Import-Package</span> header generation.</div>
      <h6 class="HS_-_Head_Sub"><a name="2224899">Build Configuration Ant Script</a></h6>
      <div class="B_-_Body"><a name="2238111">The build configuration Ant script (</a><span class="cv_-_computer_voice">build.xml</span>) relies on properties from the files <span class="cv_-_computer_voice">build.properties</span> and <span class="cv_-_computer_voice">bnd.bnd</span>. </div>
      <div class="B_-_Body"><a name="2275801">For advanced OSGi configuration, you can modify the </a><span class="cv_-_computer_voice">build.xml</span> build script.</div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>