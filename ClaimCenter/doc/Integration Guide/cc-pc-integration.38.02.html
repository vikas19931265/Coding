<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Policy System Notifications</title>
    <link rel="StyleSheet" href="css/cc-pc-integration.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Integration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-policycontacts.html#2084270">Policy and Contact Integrations</a> : <a class="WebWorks_Breadcrumb_Link" href="cc-pc-integration.38.01.html#2084270">Claim and Policy Integration</a> : Policy System Notifications</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2084270">Policy System Notifications</a></h3>
      <div class="B_-_Body"><a name="2720730">ClaimCenter includes a general architecture for notifications from ClaimCenter to policy administration systems. The only built-in notification type in the default implementation is to detect large losses. </a></div>
      <h4 class="H2_-_Heading_2"><a name="2720736">General Purpose Notification System</a></h4>
      <div class="B_-_Body"><a name="2720737">The ClaimCenter architecture for policy notifications is flexible enough to support multiple types of policy system notifications.</a></div>
      <div class="B_-_Body"><a name="2720738">The main aspects of the ClaimCenter notification architecture:</a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="e_-_emphasis"><a name="2720739">Preupdate rules</a></span> that detect specific types of issues and raise messaging events</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="e_-_emphasis"><a name="2720740">Notification handler classes </a></span>for each type of policy system notification. Each one of these notifications correspond to one messaging event name. There is exactly one built-in notification handler class, which detects large losses.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="e_-_emphasis"><a name="2720741">Event messaging rules</a></span> that delegate work to the notification handlers to create messages to submit to the messaging queue. To do this, the rules call the handler’s <span class="cv_-_computer_voice">createMessage</span> method.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="e_-_emphasis"><a name="2720742">A messaging transport</a></span> that gets each message (asynchronously in a separate thread) and asks the appropriate handler to send the message.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="e_-_emphasis"><a name="2720743">A policy system plugin interface</a></span> that defines the contract between ClaimCenter and an actual policy administration system. ClaimCenter includes a built-in version of this plugin interface that connects to PolicyCenter web services.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="e_-_emphasis"><a name="2720744">Event message rules to handle resync</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2720745">Each notification handler for each type of policy system notification corresponds to one messaging event name.</a></div>
      <div class="B_-_Body"><a name="2720746">ClaimCenter calls the handler at the following times: </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2720747">In Event Fired rules, to create a message for the messaging queue</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2720748">At message send time to perform any last-minute actions then call the plugin to send the message</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="2720749">If a claim is resynced</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2720750">Each of these times correspond to different methods in the notification handler class. Each notification handler can define its own behavior at each of these times. If you make new notification types, Guidewire recommends following the general pattern of the built-in large loss notification class. </a></div>
      <div class="B_-_Body"><a name="2720751">In the default configuration, ClaimCenter includes one notification handler: </a><span class="cv_-_computer_voice">LargeLossPolicySystemNotification</span>. This handler delivers large loss notifications to the policy administration system. </div>
      <div class="B_-_Body"><a name="2720752">It is important to note that the handler mostly represents the type of notification itself, not necessarily all the implementation details. For instance, the built-in large loss notification handler delegates the actual work of sending the large loss message to the currently-registered version of the plugin interface </a><span class="cv_-_computer_voice">IPolicySystemNotificationPlugin</span>. If you make new notification types, Guidewire recommends following this general pattern and put your code that actually contacts the external system in your <span class="cv_-_computer_voice">IPolicySystemNotificationPlugin</span> implementation.</div>
      <h4 class="H2_-_Heading_2"><a name="2720753">Large Loss Notification Implementation Details</a></h4>
      <div class="B_-_Body"><a name="2762331">The following table summarizes the rule sets that ClaimCenter uses for large loss notifications.</a></div>
      <div class="T_-_Table"><a name="2762370">&nbsp;</a></div>
      <table class="withHeading" style="text-align: left" border="0" cellpadding="10" cellspacing="0" summary="">
        <caption></caption>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2762334">Purpose</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2762336">Rule Set</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: bottom">
            <div class="TH_-_Table_Heading"><a name="2762338">Description</a></div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2762340">Preupdate rules to detect large losses</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2762342">Large Loss Notification</a></div>
          </td>
          <td style="border-bottom-color: #c0d1d1; border-bottom-style: solid; border-bottom-width: 0.15pt; border-top-color: #000000; border-top-style: solid; border-top-width: 0.5pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2762350">The </a><span class="uit_-_UI_element_table">Preupdate</span> → <span class="uit_-_UI_element_table">TransactionSetPreupdate</span> → <span class="uit_-_UI_element_table">Large Loss Notification</span> rule is disabled by default in the base configuration. When enabled, the rule fires whenever transaction sets are created or changed. The rule’s conditions determine if the claim exceeds the large loss threshold for the claim's policy type. They also determines if a message is in the queue or if PolicyCenter has been notified. If the conditions pass, the rule adds a <span class="cvt_-_computer_voice_table">ClaimExceedsLargeLoss</span> event to the claim. You define the thresholds in the administration user interface of ClaimCenter.</div>
          </td>
        </tr>
        <tr>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2762352">Event rules to support policy system notifications in general</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2762354">Policy System Notification</a></div>
          </td>
          <td style="border-bottom-color: #000000; border-bottom-style: solid; border-bottom-width: 0.5pt; border-top-color: #c0d1d1; border-top-style: solid; border-top-width: 0.15pt; padding-bottom: 4pt; padding-left: 2pt; padding-right: 8pt; padding-top: 0pt; vertical-align: top">
            <div class="TT_-_Table_Text"><a name="2762362">The</a><span style="font-family: &quot;Times New Roman&quot;; font-size: 10.0pt"> </span><span class="uit_-_UI_element_table">EventMessage</span><span style="font-family: &quot;Times New Roman&quot;; font-size: 10.0pt"> → </span><span class="uit_-_UI_element_table">EventFired</span><span style="font-family: &quot;Times New Roman&quot;; font-size: 10.0pt"> → </span><span class="uit_-_UI_element_table">Policy System Notification </span>rule is a general rule for all policy system notification events. In the base configuration, this rule is disabled. If enabled, the rules can do the following:</div>
            <div class="LST_-_List_Start_Table_outer" style="margin-left: 0pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline">
                  <td>
                    <div class="LST_-_List_Start_Table_inner" style="width: 9.36pt; white-space: nowrap">
                      <span class="s_-_strong">1. 	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="LST_-_List_Start_Table_inner"><a name="2762363">Determine the event name. For a large loss, the event name is </a><span class="cvt_-_computer_voice_table">ClaimExceedsLargeLoss</span>. If you register additional notification handlers, the event name is different.</div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="LIT_-_List_Item_Table_outer" style="margin-left: 0pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline">
                  <td>
                    <div class="LIT_-_List_Item_Table_inner" style="width: 9.36pt; white-space: nowrap">
                      <span class="s_-_strong">2. 	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="LIT_-_List_Item_Table_inner"><a name="2762364">Find the policy system notification handler that supports the current event name. For large loss, the handler class is </a><span class="cvt_-_computer_voice_table">gw.policy.notification.LargeLossPolicySystemNotification</span>.</div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="LIT_-_List_Item_Table_outer" style="margin-left: 0pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline">
                  <td>
                    <div class="LIT_-_List_Item_Table_inner" style="width: 9.36pt; white-space: nowrap">
                      <span class="s_-_strong">3. 	</span>
                    </div>
                  </td>
                  <td width="100%">
                    <div class="LIT_-_List_Item_Table_inner"><a name="2762365">The rules call the handler’s </a><span class="cvt_-_computer_voice_table">createMessage</span> method to create an outgoing message to persist to the database in the same transaction as the change that triggers the large loss notification. This call does not actually send the message. Sending the message happens asynchronously in another thread. </div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="LPT_-_List_Para_Table_outer" style="margin-left: 0pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline">
                  <td>
                    <div class="LPT_-_List_Para_Table_inner" style="width: 9.36pt; white-space: nowrap">	</div>
                  </td>
                  <td width="100%">
                    <div class="LPT_-_List_Para_Table_inner"><a name="2762366">The handler’s </a><span class="cvt_-_computer_voice_table">createMessage</span> method delegates the actual sending behavior to the class that implements the <span class="cvt_-_computer_voice_table">IPolicySystemNotificationPlugin</span> plugin interface.</div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="LPT_-_List_Para_Table_outer" style="margin-left: 0pt">
              <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
                <tr style="vertical-align: baseline">
                  <td>
                    <div class="LPT_-_List_Para_Table_inner" style="width: 9.36pt; white-space: nowrap">	</div>
                  </td>
                  <td width="100%">
                    <div class="LPT_-_List_Para_Table_inner"><a name="2762367">The </a><span class="cvt_-_computer_voice_table">message.EventName</span> property encodes which notification occurred. The body of the message contains information that the notification handler might need. For large loss, for example, it would contain the size of the loss.</div>
                  </td>
                </tr>
              </table>
            </div>
            <div class="TT_-_Table_Text"><a name="2762368">At message send time, the messaging transport calls the notification handler’s </a><span class="cvt_-_computer_voice_table">send</span> method and does not use this rule set. </div>
            <div class="TT_-_Table_Text"><a name="2762369">If a claim resynchronization happens, a </a><span class="cvt_-_computer_voice_table">ClaimResync</span> event, ClaimCenter drops all queued (pending/errant) messages for the destination. However, ClaimCenter first calls the <span class="uit_-_UI_element_table">EventFired</span> rule set to preserve and queue messages. These event rules trigger code that checks the notification handler’s <span class="cvt_-_computer_voice_table">MessageResyncBehavior</span> property for how to handle it. If the value is <span class="cvt_-_computer_voice_table">COPY_LAST</span>, then only one pending message corresponding to that notification will be copied, the last one by send order.</div>
          </td>
        </tr>
      </table>
      <div class="B_-_Body"><a name="2720799">ClaimCenter can notify a policy administration system if a claim reaches a critical threshold, defined by policy type. The policy administration system can take appropriate actions to notify the policy’s underwriter. Guidewire ClaimCenter is pre-configured to support this type of notification. When the claim exceeds the threshold, ClaimCenter creates a message using the messaging system. A special message transport plugin sends this message to your policy administration system and sends the claim’s policy number, loss date, and the total gross incurred. This feature is called </a><span class="e_-_emphasis">large loss notification</span>.</div>
      <div class="B_-_Body"><a name="2720801">Guidewire PolicyCenter includes a built-in integration to support this notification from ClaimCenter. PolicyCenter exposes a web service interface called </a><span class="cv_-_computer_voice">ClaimToPolicySystemNotificationAPI</span><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">.</span> ClaimCenter calls this PolicyCenter web service across the network to add a referral reason and an activity in PolicyCenter. For more information about this from an application perspective, see <a href="javascript:WWHClickedPopup('app', 'pas.52.5.html#4707816', '');" title="Large Loss Notifications">“Large Loss Notifications” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'pas.52.5.html#4707816', '');" title="Large Loss Notifications">Application Guide</a></span></div>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2720806">If you use the built-in integration to PolicyCenter, you do not need to know the API details of the web service. For API details of this PolicyCenter web service, refer to the PolicyCenter documentation (the </a><span class="bt_-_book_title">PolicyCenter Integration Guide</span>).</div>
      <div class="B_-_Body"><a name="2720807">If you want to use a policy administration system other than PolicyCenter, you can do so simply by writing your own implementation of the plugin interface </a><span class="cv_-_computer_voice">IPolicySystemNotificationPlugin</span>. That plugin is the code that actually notifies the external system.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2720809">The definitions of the thresholds for what counts as a large loss are defined from within ClaimCenter, not in the policy administration system.</a></div>
      <div class="B_-_Body"><a name="2720811">There is a </a><span class="cv_-_computer_voice">Claim</span> entity property called <span class="cv_-_computer_voice">LargeLossNotification</span> that tracks whether ClaimCenter has sent a notification for this claim. That property contains a typecode from the typelist <span class="cv_-_computer_voice">LargeLossNotification</span>. For the typecode values, see <a href="javascript:WWHClickedPopup('app', 'pas.52.5.html#4707816', '');" title="Large Loss Notifications">“Large Loss Notifications” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('app', 'pas.52.5.html#4707816', '');" title="Large Loss Notifications">Application Guide</a></span>.</div>
      <div class="B_-_Body"><a name="2073923">The PolicyCenter implementation of the notification web service does the following:</a></div>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><span class="ri_-_run_in_header"><a name="2073924">Finds the policy</a></span> – Finds the policy from its policy number, and throws an exception if it cannot find it</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="2073925">Adds a referral reason</a></span> – Creates a referral reason on the policy for the large loss</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><span class="ri_-_run_in_header"><a name="2073926">Adds an activity</a></span> – Adds a new activity to examine the large loss.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2084903">On the PolicyCenter side, you can modify the built in implementation of this API to do additional things. You could also have different code paths depending on the size of the gross total of the loss.</a></div>
      <h4 class="H2_-_Heading_2"><a name="2720834">Enabling Large Loss Notification</a></h4>
      <div class="B_-_Body"><a name="2720837">Follow the detailed instructions in </a><a href="javascript:WWHClickedPopup('install', 'postinstall.7.11.html#2554106', '');" title="Enabling Integration between ClaimCenter and PolicyCenter">“Enabling Large Loss Notification Integration” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('install', 'postinstall.7.11.html#2554106', '');" title="Enabling Integration between ClaimCenter and PolicyCenter">Installation Guide</a></span>.</div>
      <div class="B_-_Body"><a name="2720839">To use the built-in plugin that connects to PolicyCenter, remember to set up your web services to connect to PolicyCenter. In Studio, in its Web Services editor, you can set the server, port, and authentication settings in that dialog.</a></div>
      <div class="B_-_Body"><a name="2720840">If you want to define your authentication in Studio, set the web service to use HTTP authentication and specify your credentials there. </a></div>
      <div class="B_-_Body"><a name="2720841">Alternatively, you can choose to leave the authentication setting on None and modify the code in the class </a><span class="cv_-_computer_voice">PCPolicySystemNotificationPlugin</span> to add authentication credentials. Look for the line:</div>
      <div class="CS_-_Code_Single_Line"><a name="2720842">_policySystemAPI = new ClaimToPolicySystemNotificationAPI() </a></div>
      <div class="B_-_Body"><a name="2720843">Immediately afterward, add a line like the following and pass your user name and password:</a></div>
      <div class="CS_-_Code_Single_Line"><a name="2720844">_policySystemAPI.addHandler(new GWAuthenticationHandler( "su", "gw" ))</a></div>
      <div class="B_-_Body"><a name="2720847">For the full procedure, see </a><a href="javascript:WWHClickedPopup('install', 'postinstall.7.11.html#2554106', '');" title="Enabling Integration between ClaimCenter and PolicyCenter">“Enabling Large Loss Notification Integration” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('install', 'postinstall.7.11.html#2554106', '');" title="Enabling Integration between ClaimCenter and PolicyCenter">Installation Guide</a></span>.</div>
      <h4 class="H2_-_Heading_2"><a name="2720849">Using a Policy Administration System Other than PolicyCenter</a></h4>
      <div class="B_-_Body"><a name="2720850">If you use a policy administration system other than PolicyCenter, you must write your own implementation of the </a><span class="cv_-_computer_voice">IPolicySystemNotificationPlugin</span><span class="ui_-_UI_element"> </span>plugin interface. Instead of contacting PolicyCenter, you can send the notification to your policy administration system through whatever API is appropriate. This might be web services but it could be some other remote procedure call. However, in the default implementation, the request must be synchronous.</div>
      <div class="NI_-_Note_Important">
        <span class="n_-_note">IMPORTANT   </span><a name="2720851">The remote procedure call to the external system must be synchronous. This is because a messaging transport calls the plugin implementation as part of its send process. Assuming there are no exceptions that your code throws, when your plugin methods complete, the message transport acknowledges the message immediately afterward. The message transport must be certain the external system got the request before acknowledging the message.</a></div>
      <div class="B_-_Body"><a name="2720856">The </a><span class="cv_-_computer_voice">IPolicySystemNotificationPlugin</span> plugin has only a single method that you must implement, a method called <span class="cv_-_computer_voice">claimExceedsLargeLossThreshold</span>. It takes a loss date (as a <span class="cv_-_computer_voice">Calendar</span> object), a policy number (a <span class="cv_-_computer_voice">String</span> value), the gross total incurred (as a <span class="cv_-_computer_voice">String</span>), and a transaction ID (a <span class="cv_-_computer_voice">String</span>). Its method signature is:</div>
      <PRE class="CF_-_Code_First_Line"><a name="2720857">claimExceedsLargeLossThreshold(java.util.Calendar lossDate, String policyNumber, </a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2720858">&nbsp;&nbsp;&nbsp;&nbsp;String grossTotalIncurred, String transactionId) : void</a></PRE>
      <div class="B_-_Body"><a name="2720859">The transaction ID is a identifier that ClaimCenter creates. Use this ID to avoid processing the same notification twice. For example, suppose ClaimCenter sends a notification and the remote system processes it but the reply back to ClaimCenter never arrives due to network failure. ClaimCenter does not know that the notification successfully delivered and retries using the same transaction ID. The remote system must detect that it has already processed a notification with this transaction ID and throw the exception </a><span class="cv_-_computer_voice">PolicySystemAlreadyExecutedException</span>. ClaimCenter catches this exception and marks the message as successfully delivered.</div>
      <div class="B_-_Body"><a name="2720860">Plugin methods in this interface can throw </a><span class="cv_-_computer_voice">PolicySystemRetryableException</span> or <span class="cv_-_computer_voice">PolicySystemAlreadyExecutedException</span>. Typically the plugin talks to a remote system with web services over the SOAP protocol. The exception class <span class="cv_-_computer_voice">PolicySystemRetryableException</span> indicates a temporary problem contacting the remote system. The exception class <span class="cv_-_computer_voice">PolicySystemAlreadyExecutedException</span> if the remote system already processed a notification with that ID. </div>
      <div class="B_-_Body"><a name="2720861">If you implement this plugin using a web service you must wrap any exceptions thrown by the web service. The web service throws exceptions specific to its WSDL so you will have to do something like: </a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720862">try {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720863">&nbsp;&nbsp;// call web service ...</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720864">} catch (e : ...web service exception...) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720865">throw new gw.plugin.policy.PolicySystemRetryableException(e.message)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720866">}</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="2720871">The Message Transport Acknowledges the Message</a></h6>
      <div class="B_-_Body"><a name="2720872">If no exceptions occur during the plugin notification method call, after the method completes, ClaimCenter marks the message to indicate that the policy administration system correctly received the message. This is called message acknowledgement. For more information about messaging acknowledgements, refer to </a><a href="javascript:WWHClickedPopup('integration', 'eventsmessaging.27.01.html#4197044', '');" title="Messaging and Events">“Messaging and Events”</a>.</div>
      <div class="B_-_Body"><a name="2720876">Additionally, each notification handler can set additional messaging-specific properties on the other objects as appropriate. For example, the built-in large loss notification handler sets the claim property </a><span class="cv_-_computer_voice">LargeLossNotificationStatus</span>. </div>
      <h4 class="H2_-_Heading_2"><a name="2720877">Adding Other Notification Types</a></h4>
      <div class="B_-_Body"><a name="2720878">The only built-in notification type is the large loss notification, but you can add custom types. </a></div>
      <h6 class="HS_-_Head_Sub"><a name="2720879">To add new notification types</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="2720880">Create a new notification class that extends the class </a><span class="cv_-_computer_voice">gw.policy.notification.PolicySystemNotificationBase</span>. That base class contains some default behavior.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720881">In your class definition, set up the ClaimCenter event name that corresponds to your notification handler. Also set up a static method that can instantiate an instance of your class. Follow the approach in the large loss handler:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720882">/** The event name for this notification */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720883">  public static final var EVENT_NAME : String = "ClaimExceedsLargeLoss"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720884">  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720885">  /** Singleton instance of this notification strategy */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720886">  public static final var INSTANCE : LargeLossPolicySystemNotification = </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720887">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new LargeLossPolicySystemNotification()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720888">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720889">  private construct() {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720890">    super(EVENT_NAME)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720891">  }</a></PRE>
      <div class="LP_-_List_Para"><a name="2720892">Replace </a><span class="cv_-_computer_voice">LargeLossPolicySystemNotification</span> with your class name and replace the <span class="cv_-_computer_voice">String</span> value <span class="cv_-_computer_voice">"ClaimExceedsLargeLoss"</span> with your event name.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720893">Implement the </a><span class="cv_-_computer_voice">createMessage</span> method to generate a message. This method takes a message context object, which is the object that Event Fired rules get to assist in message creation. The large loss notification uses code like the following:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720894">override function createMessage(context : MessageContext) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720895">    var claim = context.Root as Claim</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720896">    var amt = FinancialsCalculationUtil.getTotalIncurredGross().getAmount(claim)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720897">    var renderedAmt = CurrencyUtil.renderAsCurrency(amt)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720898">    var msg = context.createMessage(renderedAmt)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720899">    msg.MessageRoot = claim</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720900">    claim.LargeLossNotificationStatus = "InQueue"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720901">  }</a></PRE>
      <div class="LP_-_List_Para"><a name="2720902">Note that it sets a field on the claim itself to indicate the claim notification is in queue. Also note that the method does not need to indicate what type of notification it is. Even if you add additional notifications, you do not need to add a special property to the message entity to identify the type of notification. Instead, your message code that runs later can detect which notification type by checking the </a><span class="cv_-_computer_voice">message.EventName</span> property.</div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720903">Implement the </a><span class="cv_-_computer_voice">send</span> method, which ClaimCenter calls from the messaging transport that gets messages from the send queue. The message transport gets messages one by one from the send queue in another thread. Any changes on the message happen in different database transactions than the original change that triggered creation of the message. The <span class="cv_-_computer_voice">send</span> method takes a reference to the instance of the policy system notification plugin, the <span class="cv_-_computer_voice">Message</span> entity, and the transformed payload <span class="cv_-_computer_voice">String</span>. The transformed payload <span class="cv_-_computer_voice">String</span> is a variant of the <span class="cv_-_computer_voice">Message.payload</span>, and might be different if the messaging destination used a <span class="cv_-_computer_voice">MessageRequest</span> plugin in addition to the <span class="cv_-_computer_voice">MessageTransport</span> plugin. Generally speaking it is best to use the transformed payload rather than <span class="cv_-_computer_voice">Message.payload</span>. Your version of this method might just do what large loss does, which is call the plugin method that matches your notification type. If you added additional methods to your plugin implementation, you will need to cast the plugin reference to your specific implementation class type before calling custom methods on it. The large loss version looks like:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720904">override function send(plugin : IPolicySystemNotificationPlugin, message : Message, </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720905">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transformedPayload : String) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720906">    var claim = message.Claim</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720907">    plugin.claimExceedsLargeLossThreshold(claim.LossDate.toCalendar(),</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720908">            claim.Policy.PolicyNumber, transformedPayload, message.PublicID)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720909">  }</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	5.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720910">Implement the </a><span class="cv_-_computer_voice">afterSend</span> method. ClaimCenter calls this immediately after sending the message. You can use this as a hook to set messaging-specific fields on the <span class="cv_-_computer_voice">Claim</span>. For example:</div>
            </td>
          </tr>
        </table>
      </div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720911">override function afterSend(message : Message, status : MessageStatus) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720912">&nbsp;&nbsp;&nbsp;&nbsp;if (status == GOOD) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720913">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.Claim.LargeLossNotificationStatus = "Sent"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720914">&nbsp;&nbsp;&nbsp;&nbsp;} else if (status == NON_RETRYABLE_ERROR) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720915">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.Claim.LargeLossNotificationStatus = "None"</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720916">&nbsp;&nbsp;&nbsp;&nbsp;}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720917">}</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	6.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720918">Implement the </a><span class="cv_-_computer_voice">MessageResyncBehavior</span> property getter. ClaimCenter responds differently during resync based on the value:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2720919">If the value is </a><span class="cv_-_computer_voice">DROP</span>, ClaimCenter does not resend the notification during resync.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2720920">If the value is </a><span class="cvt_-_computer_voice_table">COPY_LAST</span>, then ClaimCenter copies only one pending notification message corresponding to that notification type for that messaging destination for that claim. ClaimCenter uses the last one, by send order.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="2720921">If the value is </a><span class="cvt_-_computer_voice_table">COPY_ALL</span>, then ClaimCenter copies all pending notification messages for that notification type for that messaging destination for that claim. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP2_-_List_Para_002c_Level_2"><a name="2720922">For example, a simple implementation of this looks like:</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2720923">&nbsp;&nbsp;&nbsp;override property get MessageResyncBehavior() : MessageResyncBehavior {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720924">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return COPY_LAST</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2720925">&nbsp;&nbsp;&nbsp;}</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	7.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720926">Register your notification type handler with the system by modifying the class </a><span class="cv_-_computer_voice">gw.policy.notificationPolicySystemNotificationList</span><span style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt">.</span> This is a configurable list of all policy system notifications. Adding a notification to this list makes it known to the policy system notification event messaging rules and to the messaging transport <span class="cv_-_computer_voice">PolicySystemNotificationMessageTransport</span>. Although you cannot add new methods to the actual interface for the <span class="cv_-_computer_voice">IPolicySystemNotificationPlugin</span>, you can add new notifications to this list. If you do this, override the notification <span class="cv_-_computer_voice">send</span> method to directly call whatever mechanism is used for calling the policy administration system. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="2720927">The built-in version of this list looks like the following:</a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720928">class PolicySystemNotificationList {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720929">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720930">  /** List of all available notifications */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720931">  public static var ALL : List&lt;PolicySystemNotificationBase&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720932">          = { LargeLossPolicySystemNotification.INSTANCE }.freeze()</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720933">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720934">  /** Never instantiated */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720935">  construct() {}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720936">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720937">}</a></PRE>
      <div class="LP_-_List_Para"><a name="2720938">To add another notification class called </a><span class="cv_-_computer_voice">abc.integration.MyNotificationHandler</span>, change the list to look like this:</div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720939">class PolicySystemNotificationList {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720940">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720941">  /** List of all available notifications */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720942">  public static var ALL : List&lt;PolicySystemNotificationBase&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720943">          = { LargeLossPolicySystemNotification.INSTANCE ,</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="s_-_strong"><a name="2720944">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abc.integration.MyNotificationHandler.INSTANCE </a></span>}.freeze()</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720945">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720946">  /** Never instantiated */</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720947">  construct() {}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2720948">&nbsp;</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2720949">}</a></PRE>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	8.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720950">Add new preupdate rules that detect whatever situation you are interested in. If you detect the condition, raise the event with code such as:</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="2720951">claim.addEvent("MyEventName")</a></div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	9.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720954">If you have not already enabled the notification system rules and plugins, see </a><a href="javascript:WWHClickedPopup('install', 'postinstall.7.11.html#2554106', '');" title="Enabling Integration between ClaimCenter and PolicyCenter">“Enabling Large Loss Notification Integration” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('install', 'postinstall.7.11.html#2554106', '');" title="Enabling Integration between ClaimCenter and PolicyCenter">Installation Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	10.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="2720956">Test your notification system with a development version of ClaimCenter and your policy administration system.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>