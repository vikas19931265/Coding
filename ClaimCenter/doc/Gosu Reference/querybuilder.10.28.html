<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Filtering Results with Standard Query Filters</title>
    <link rel="StyleSheet" href="css/querybuilder.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>Gosu Reference Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="querybuilder.10.01.html#2592202">Query Builder APIs</a> : <a class="WebWorks_Breadcrumb_Link" href="querybuilder.10.26.html#2592202">Working with Results</a> : Filtering Results with Standard Query Filters</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="2592202">Filtering Results with Standard Query Filters</a></h4>
      <div class="B_-_Body"><a name="2592218">Sometimes you want to use a query result object and filter the items in different ways when you iterate them. For example, you have a query with complicated joins, predicates, and subselects. Several routines want to use the results of this complex query, but each routine processes different subsets of the results. </a></div>
      <div class="B_-_Body"><a name="2592219">In such cases, you can separate the query from the filtering of its results. You write query builder code in your main routine to construct and refine the query and then produce a result object with the </a><span class="cv_-_computer_voice">select</span> method. If you build the query once in your main routine, you can debug and maintain the query logic of your overall programming unit more easily. </div>
      <div class="B_-_Body"><a name="2592220">After you obtain a result object in your main routine, pass the result object to each subroutine. The subroutines apply their own, more restrictive predicates by using standard query filters. Also, the subroutines can apply their own ordering and grouping requirements. ClaimCenter combines the query predicates from the main routine and the standard query filter predicates from the subroutine to form the SQL query that it sends to the relational database. </a></div>
      <div class="B_-_Body"><a name="2723350">In addition to using standard query filters in Gosu code, you can use standard query filters in the page configuration of your ClaimCenter application. List views support a special type of toolbar widget, a toolbar filter. A toolbar filter lets users choose from a drop-down menu of filters to apply to the set of data that a list view contains. Toolbar filters accept different kinds of filters, including standard query filters. For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'querybuilder.10.28.html#2684850', '');" title="Filtering Results with Standard Query Filters">“Using Standard Query Filters in Toolbar Filters”</a></div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2592221">Creating a Standard Query Filter</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2592222">A </a><span class="e_-_emphasis">standard query filter</span> represents a named query predicate that you can add to a query builder result object. You create a standard query filter by instantiating a new <span class="cv_-_computer_voice">StandardQueryFilter</span> object. The <span class="cv_-_computer_voice">gw.api.filters</span> package contains the <span class="cv_-_computer_voice">StandardQueryFilter</span> class. Its constructor takes two arguments:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2592223">Name</a></span> – A <span class="cv_-_computer_voice">String</span> to use as an identifier for the filter. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2724067">Predicate</a></span> – A Gosu block with a query builder predicate method. You must apply the predicate method to a field in the query result that you want to filter. You can use the same predicate methods in standard query filter predicates that you use on queries themselves.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2592225">The following sample Gosu code creates a standard query filter that can apply to query results that include </a><span class="cv_-_computer_voice">Address</span> instances. The standard query filter predicate uses a simple <span class="cv_-_computer_voice">compare</span> predicate method on the <span class="cv_-_computer_voice">City</span> field. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2592226">var myQueryFilter = </a><span class="s_-_strong">new StandardQueryFilter</span>("myQueryFilter",</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2592227">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ query -&gt; {query.</a><span class="s_-_strong">compare</span>("<span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Bloomington</span>")})</PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2707303">The package </a><span class="cv_-_computer_voice">gw.api.filters</span> contains pre-defined standard query filters that you can apply as needed. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2592229">Adding a Standard Query Filter to a Query Result</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2592230">Use the </a><span class="cv_-_computer_voice">addFilter</span> method on a query builder result object to restrict the items you obtain when you iterate the result. The method takes as its single argument a <span class="cv_-_computer_voice">StandardQueryFilter</span> object. You can add as many filters as you want to a query result. </div>
      <div class="B_-_Body"><a name="2595008">The following sample Gosu code adds a standard query filter to restrict a result object to addresses in the city of Chicago. </a></div>
      <PRE class="CF_-_Code_First_Line"><a name="2595062">uses gw.api.database.Query</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595079">uses gw.api.filters.StandardQueryFilter</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595094">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595097">// Create a query of addresses.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595476">var result = Query.make(Address).select()&nbsp;&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595195">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595198">// Create a standard query filter for addresses in the city of Chicago. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595491">var </a><span class="s_-_strong">queryFilterChicago</span> = new StandardQueryFilter("Chicago Addresses",<span class="s_-_strong"> </span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595285">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ query -&gt; {query.</a><span class="s_-_strong">compare</span>("<span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Chicago</span>")})</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595676">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595386">// Add the Chicago addresses filter to the result. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595685">result.</a><span class="s_-_strong">addFilter</span>(<span class="s_-_strong">queryFilterChicago</span>) </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595398">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595401">// Iterate the addresses in Chicago. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595574">for (address in result) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2595387">    print (address.City  + ", " + address.State + "  " +address.PostalCode)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2616747">}</a></PRE>
      <div class="B_-_Body"><a name="2616748">Use the </a><span class="cv_-_computer_voice">addFilter</span> method when you want a single result to have one or more query filters in effect at the same time.</div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2615959">Using </a><span class="cvh_-_computer_voice_in_heading">AND</span> and <span class="cvh_-_computer_voice_in_heading">OR</span> Logic with Standard Query Filter Predicates </h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2598188">You can use ‘AND’ and ‘OR’ logic with standard query filter predicates in the same way that you use AND’ and ‘OR’ logic with predicates on a query builder query. </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2724603">For </a></span><span class="cvh_-_computer_voice_in_heading" style="color: #000000; font-family: Arial; font-size: 8.4pt; font-style: normal; font-weight: bold">AND</span><span class="ri_-_run_in_header"> logic</span> – Add multiple standard query filters, each with a single comparison predicate, to a result.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="ri_-_run_in_header"><a name="2724615">For </a></span><span class="cvh_-_computer_voice_in_heading" style="color: #000000; font-family: Arial; font-size: 8.4pt; font-style: normal; font-weight: bold">OR</span><span class="ri_-_run_in_header"> logic</span> – Add a single standard query filter with an <span class="cv_-_computer_voice">or</span> method in its filter predicate to a result.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2598419">For more information, see </a><a href="javascript:WWHClickedPopup('gosu', 'querybuilder.10.20.html#2569471', '');" title="Combining Predicates with AND and OR Logic">“Combining Predicates with AND and OR Logic”</a>.</div>
      <h6 class="HS_-_Head_Sub"><a name="2724263">Using </a><span class="cvh_-_computer_voice_in_heading">AND</span> Logic with Standard Query Filter Predicates</h6>
      <div class="B_-_Body"><a name="2724264">With standard query filters, you combine filter predicates that </a><span class="Emphasis" style="font-style: italic">all</span> must be true by adding standard query filters to a result one after the other. The following sample Gosu code adds two standard query filters to a result object. The first filter restricts the iteration to addresses in the city of Chicago. The second filter further restricts the iteration to addresses that were added to the database during 2012 or later. </div>
      <PRE class="CF_-_Code_First_Line"><a name="2599279">uses gw.api.database.Query</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599280">uses gw.api.filters.StandardQueryFilter</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599281">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599282">// Create a query of addresses.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599283">var result = Query.make(Address).select()  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599284">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2607266">// Create a standard query filter for addresses in the city of Chicago. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2607267">var </a><span class="s_-_strong">queryFilterChicago</span> = new StandardQueryFilter("Chicago Addresses",<span class="s_-_strong"> </span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2607268">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\ query -&gt; {query.</a><span class="s_-_strong">compare</span>("<span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Chicago</span>")})</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2607278">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599488">// Create a standard query filter for addresses added during 2012 or later. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599289">var </a><span class="s_-_strong">queryFilter2012Address</span> = <span class="s_-_strong">new</span> <span class="s_-_strong">StandardQueryFilter</span>("2012 Addresses", </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599290">        \ query -&gt; {query.compare("</a><span class="s_-_strong">CreateTime</span>", GreaterThanOrEquals, </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2600193">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"</a><span class="s_-_strong">2012-01-01</span>" as java.util.Date)})</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599291">        </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599292">// Add the Chicago and 2012 address filters to the result. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="s_-_strong"><a name="2599293">result.addFilter(queryFilterChicago)</a></span> </PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2599294">result.addFilter(queryFilter2012Address)</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599295">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599296">// Iterate the addresses in Chicago added during 2012 or later. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599297">for (address in result) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599298">    print(address.City  + ", " + address.State + "  " + address.PostalCode + " " + address.CreateTime)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2599274">}</a></PRE>
      <div class="B_-_Body"><a name="2599079">If you add more than one standard query filter to a result, make sure that each filter predicate applies to a different field in the result. If you add two or more standard query filters with predicates on the same field, Boolean logic ensures that no item in the result satisfies them all. </a></div>
      <h6 class="HS_-_Head_Sub"><a name="2598391">Using </a><span class="cvh_-_computer_voice_in_heading">OR</span> Logic with Standard Query Filter Predicates</h6>
      <div class="B_-_Body"><a name="2599552">With standard query filters, you combine predicates only one of which must be true by using the </a><span class="cv_-_computer_voice">or</span> method in the filter predicate of a single standard query filter. The following sample Gosu code adds two predicates to a standard query filter to restrict the iteration of addresses to the cities of Bloomington or Chicago.</div>
      <PRE class="CF_-_Code_First_Line"><a name="2599804">uses gw.api.database.Query</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599805">uses gw.api.filters.StandardQueryFilter</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599806">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599807">// Create a query of addresses.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599808">var result = Query.make(Address).select()  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599809">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599810">// Create a standard query filter for addresses in the cities of Bloomington or Chicago. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599811">var </a><span class="s_-_strong">queryFilterBloomingtonOrChicago</span> = new <span class="s_-_strong">StandardQueryFilter</span>("Bloomington and Chicago Addresses", </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599935">        \ query -&gt; {query.</a><span class="s_-_strong">or</span>( \ orCriteria -&gt; {</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599936">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orCriteria.compare("</a><span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Bloomington</span>")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599937">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orCriteria.compare("</a><span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Chicago</span>")</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599938">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2600138">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599812">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599818">// Add the Bloomington or Chicago filter to the result. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2599819">result.addFilter(queryFilterBloomingtonOrChicago) </a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599821">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599822">// Iterate the addresses in Bloomington or Chicago, in order by city. </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599823">for (address in result.orderBy(\ row -&gt; row.City)) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2599824">    print(address.City  + ", " + address.State + "  " + address.PostalCode)</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2599825">}</a></PRE>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2643101">Using Standard Query Filters in Gosu Code</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2643102">You often use standard query filters in Gosu code to separate code that constructs a general purpose query from code in subroutines that process different subsets of the result. Query builder code that constructs a query can be complex whenever joins, subselects, and compound predicate expressions are involved. Locating this part of your query builder code in one location makes debugging and maintenance easier. </a></div>
      <div class="B_-_Body"><a name="2643385">The following sample Gosu code builds a query for addresses in the state of Illinois. Then, the code passes the query result to three subroutines for processing. Each subroutine creates and adds a standard query filter for a city in Illinois: Bloomington, Chicago, or Evanston. Then, the subroutines iterate their own subset of the main query result. </a></div>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644101">uses gw.api.database.Query</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644102">uses gw.api.database.IQueryBeanResult</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644103">uses gw.api.filters.StandardQueryFilter</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644104">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644105">// Select addresses from the state of Illinois.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644106">var query = </a><span class="s_-_strong">Query.make(Address)</span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644107">query.compare("State", Equals, typekey.State.TC_IL) </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644108">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644109">// Get a result and apply ordering</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644110">var </a><span class="s_-_strong">result = query.select()</span> </PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="s_-_strong"><a name="2644111">result.orderBy</a></span>(\ row -&gt; row.City).thenBy(\ row -&gt; row.PostalCode)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644112">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644113">// Pass the ordered result to subroutines to process Illinois addresses by city.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644114">processBloomington(</a><span class="s_-_strong">result</span>)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644115">result.clearFilters() // Remove any filters added by the subroutine from the result.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644116">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644117">processChicago(</a><span class="s_-_strong">result</span>)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644118">result.clearFilters() // Remove any filters added by the subroutine from the result.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644119">  </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644120">processEvanston(</a><span class="s_-_strong">result</span>)</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644121">result.clearFilters() // Remove any filters added by the subroutine from the result.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644122">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644123">// subroutines</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644124">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2668616">// Add Bloomington filter and process results.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644125">function </a><span class="s_-_strong">processBloomington(aResult : IQueryBeanResult&lt;Address&gt;)</span> { </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644126">  var queryFilterBloomington = new </a><span class="s_-_strong">StandardQueryFilter</span>("QueryFilterBloomington",</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644127">          \ query -&gt; {query.compare("</a><span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Bloomington</span>")})</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644128">  aResult.addFilter(queryFilterBloomington)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644129">  for (address in aResult) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644130">    print (address.City  + ", " + address.State + "  " + address.PostalCode)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644131">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644132">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644133">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644134">// Add Chicago filter and process results.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2668636">function </a><span class="s_-_strong">processChicago(aResult : IQueryBeanResult&lt;Address&gt;)</span> { </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644135">  var queryFilterChicago = new </a><span class="s_-_strong">StandardQueryFilter</span>("QueryFilterChicago",</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644136">          \ query -&gt; {query.compare("</a><span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Chicago</span>")})</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644137">  aResult.addFilter(queryFilterChicago)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644138">  for (address in result) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644139">    print (address.City  + ", " + address.State + "  " + address.PostalCode)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644140">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644141">}</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644142">&nbsp;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2668654">// Add Evanston filter and process results.</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644143">function </a><span class="s_-_strong">processEvanston(aResult : IQueryBeanResult&lt;Address&gt;)</span> { </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644144">  var queryFilterEvanston = new </a><span class="s_-_strong">StandardQueryFilter</span>("QueryFilterEvantson",</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644145">         \ query -&gt; {query.compare("</a><span class="s_-_strong">City</span>", Equals, "<span class="s_-_strong">Evanston</span>")})  </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644146">  aResult.addFilter(queryFilterEvanston)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644147">  for (address in result) {</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644148">    print (address.City  + ", " + address.State + "  " + address.PostalCode)</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2644149">  }</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2643141">}</a></PRE>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2684850">Using Standard Query Filters in Toolbar Filters</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2684851">You often use standard query filters with list views in the page configuration of the application user interface. The row iterators of list views support toolbar filter widgets. A toolbar filter lets users select from a drop-down menu of query filters to view subsets of the data that the list view displays. Standard query filters are one type of query filter that you can add. </a></div>
      <div class="B_-_Body"><a name="2688476">You specify the standard query filters for a toolbar filter on the </a><span class="ui_-_UI_element">Filter Options</span> tab. On the tab, you can add two kinds of filter options: </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2688715">ToolbarFilterOption</a></span> – An expression that resolves to a single object that implements the <span class="cv_-_computer_voice">BeanBasedQueryFilter</span> interface, such as a standard query filter. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2697981">ToolbarFilterOptionsGroup</a></span> – An expression that resolves to an array of objects that implement the <span class="cv_-_computer_voice">BeanBasedQueryFilter</span> interface, such as standard query filters. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2697982">You can specify a standard query filter of an array of standard query filters by using an inline constructor in the </a><span class="ui_-_UI_element">filter</span> property of a filter option. Alternatively, you can specify a Java or Gosu class that returns a standard query filter or an array of them.</div>
      <h6 class="HS_-_Head_Sub"><a name="2698528">Example of a Single Toolbar Filter Option</a></h6>
      <div class="B_-_Body"><a name="3452734">The following example </a><span class="ui_-_UI_element">filter</span> property specifies a standard query filter by using an inline constructor. The filter applies to activity patterns that the <span class="cv_-_computer_voice">ActivityPatternsLV</span> list view displays. </div>
      <PRE class="CF_-_Code_First_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong" style="font-family: &quot;Lucida Sans Typewriter&quot;; font-size: 7.0pt"><a name="2706872">ToolbarFilterOption</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="s_-_strong"><a name="2706873">&nbsp;&nbsp;filter*</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|new gw.api.filters.StandardQueryFilter("<span class="s_-_strong">Mandatory</span>", \ filter -&gt; </PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="2706884">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{filter.compare("Mandatory", Equals, true)})</a></PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2707156">The previous code block for the single-line filter option field in the PCF editor contains line breaks and extra spaces for readability. If you copy and paste this code, remove these line breaks and spaces to make the code valid.</a></div>
      <div class="B_-_Body"><a name="2707078">The toolbar filter displays the first parameter, “Mandatory”, as an option in the toolbar filter drop-down menu.</a></div>
      <div class="B_-_Body"><a name="2722872">For single filter options, you can override the text of the drop-down menu of with the </a><span class="cv_-_computer_voice">label</span> property. For localization purposes, you must specify the filter name or the label property as a display key, not as a <span class="cv_-_computer_voice">String</span> literal. </div>
      <h6 class="HS_-_Head_Sub"><a name="2698591">Example of a Group Toolbar Filter Option</a></h6>
      <div class="B_-_Body"><a name="2698416">The following example </a><span class="ui_-_UI_element">filter</span> property specifies an array of two standard query filters by using inline constructors.</div>
      <PRE class="CF_-_Code_First_Line" style="font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline"><span class="s_-_strong"><a name="2698493">ToolbarFilterOption</a></span></PRE>
      <PRE class="CM_-_Code_Middle_Line"><span class="s_-_strong"><a name="2698494">&nbsp;&nbsp;filter*</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|new gw.api.filters.StandardQueryFilter[] {new </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2706930">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gw.api.filters.StandardQueryFilter("Mandatory", \ query -&gt; </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2706958">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{query.compare("</a><span class="s_-_strong">Mandatory</span>", Equals, true)}), </PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2706985">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new gw.api.filters.StandardQueryFilter("Optional", \ query -&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="2707013">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{query.compare("</a><span class="s_-_strong">Optional</span>", Equals, false)})} </PRE>
      <div class="N_-_Note">
        <span class="n_-_note">Note: </span><a name="2707142">The previous code block for the single-line filter option field in the PCF editor contains line breaks and extra spaces for readability. If you copy and paste this code, remove these line breaks and spaces to make the code valid.</a></div>
      <div class="B_-_Body"><a name="2698770">The toolbar filter displays the first parameters of the filters, “Mandatory” and “Optional”, as options in the toolbar filter drop-down menu. The drop-down menu displays them together and in the order that you specify in the array constructor. </a></div>
      <div class="B_-_Body"><a name="2711337">Group filter options do not have a </a><span class="cv_-_computer_voice">label</span> property, so the text of the menu options comes only from the filter names. For localization purposes, you must specify the filter names as display keys, not as <span class="cv_-_computer_voice">String</span> literals. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2688813">Toolbar Filter Caching</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2688814">Generally, list views cache the most recent toolbar filter selection made by user in the user’s sessions. If a user leaves a page and then returns to it, a list view retains and applies the toolbar filter option in effect when the user left the page. </a></div>
      <div class="B_-_Body"><a name="2711334">You disable filter caching by setting the </a><span class="ui_-_UI_element">cacheKey</span> property of a toolbar filter to an expression that evaluates to a potentially different value each time a user enters the page. For example, you might specify the following Gosu expression.</div>
      <div class="CS_-_Code_Single_Line"><a name="3452745">claim.ClaimNumber</a></div>
      <div class="B_-_Body"><a name="2708045">If you disable filter caching, the list view reverts to the default filter option for entry to the page. You specify the default filter option by setting the </a><span class="cv_-_computer_voice">selectOnEntry</span> property on the option to <span class="cv_-_computer_voice">true</span>. Alternatively, you specify the default filter option by moving the option to the top of the list of options on the <span class="ui_-_UI_element">Filter Options</span> tab. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="2708217">Toolbar Filter Recalculation</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2696649">Generally, list views recalculate their filter options only once, when a user enters a page. Filter options remain unchanged during the life span of a page. Sometimes, you may want a list view to recalculate its filter options in response to changes that a user makes on a page. </a></div>
      <div class="B_-_Body"><a name="2711331">You force a list view to recalculate its filter options in response to changes by setting the </a><span class="ui_-_UI_element">cacheOptions</span> property of a toolbar filter to <span class="cv_-_computer_voice">false</span>. Set the property to <span class="cv_-_computer_voice">false</span> with caution, because the recalculation of filter options after a user makes changes can reduce the speed at which the application renders the updated page. </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>