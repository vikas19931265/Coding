<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Upgrading Phone Numbers</title>
    <link rel="StyleSheet" href="css/procedure-db-c.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>ClaimCenter Upgrade Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="part-basicupgrade_2.html#2013565">Upgrading from 6.0.x</a> : <a class="WebWorks_Breadcrumb_Link" href="procedure-db-c.17.01.html#2013565">Upgrading the ClaimCenter 6.0.x Database</a> : Upgrading Phone Numbers</span></div>
    <hr align="left" />
    <blockquote>
      <h3 class="H1_-_Heading_1"><a name="2013565">Upgrading Phone Numbers</a></h3>
      <div class="B_-_Body"><a name="2013569">ClaimCenter 8.0 has a different format for phone numbers. Each phone number type has two additional fields in 8.0: a country code and an extension. The country code is a typekey to the </a><span class="cv_-_computer_voice">PhoneCountryCode</span> typelist, which is a list of regions and their regional phone codes. </div>
      <div class="B_-_Body"><a name="2013573">ClaimCenter 8.0 provides a plugin interface, </a><span class="cv_-_computer_voice">IPhoneNormalizerPlugin</span>, that you can use to customize the conversion of legacy phone numbers to the 8.0 standard. The interface includes the following method signatures:</div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2013574">isPossibleNumber(String) : boolean</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2013575">isPossibleNumberWithExtension(String) : boolean</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2013576">normalizeNumberIfPossible(String) : String</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2013577">parsePhoneNumber(String) : GWPhoneNumber</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2013578">formatPhoneNumber(GWPhoneNumber number): String</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2013579">normalizePhoneNumbersInBean(KeyableBean) : void</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="2013580">normalizePhoneNumbersInArchive(IArchivedEntity, java.util.List&lt;PhoneColumnProperties&gt;) : void</a></span> </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="2013581">The plugin is called by the Phone Number Normalizer work queue. The plugin is also called whenever an entity containing a phone number is modified in ClaimCenter</a> or restored from the archive.</div>
      <div class="B_-_Body"><a name="2013585">Guidewire provides a default implementation of the plugin, </a><span class="cv_-_computer_voice">DefaultPhoneNormalizerPlugin</span>. If you disabled the phone number input mask or imported phone numbers, you might need to customize the plugin implementation. If you added new phone fields on existing objects or extension objects, customize or extend the plugin implementation to handle the additional phone fields. The <span class="cv_-_computer_voice">gw.api.util.PhoneUtil </span>class contains helper methods to facilitate formatting and parsing phone number records.</div>
      <div class="B_-_Body"><a name="2013586">Define both </a><span class="cv_-_computer_voice">isPossibleNumber</span> and <span class="cv_-_computer_voice">isPossibleNumberWithExtension</span> methods to be very loose, non-country specific, validations. These methods essentially just need to check if the passed string could be a number in any country.</div>
      <div class="B_-_Body"><a name="2013587">In </a><span class="cv_-_computer_voice">DefaultPhoneNormalizerPlugin</span>, the <span class="cv_-_computer_voice">normalizeNumberIfPossible</span> method strips all decorator and formatting characters from the number if <span class="cv_-_computer_voice">isPossibleNumber</span> returns <span class="cv_-_computer_voice">true</span>. The normalizer ignores all numeric characters as well as + and * characters.</div>
      <div class="B_-_Body"><a name="2013591">The </a><span class="cv_-_computer_voice">parsePhoneNumber</span> and <span class="cv_-_computer_voice">formatPhoneNumber</span> methods are used to convert between ClaimCenter 7.0 and ClaimCenter 8.0 phone numbers. The <span class="cv_-_computer_voice">parsePhoneNumber</span> method parses a string into a <span class="cv_-_computer_voice">GWPhoneNumber</span> object if possible. <span class="cv_-_computer_voice">GWPhoneNumber</span> is an interface that defines a standard ClaimCenter 8.0 phone number object. See the Javadoc for further details.The <span class="cv_-_computer_voice">parsePhoneNumber</span> method is for converting phone numbers from versions prior to 8.0 to the 8.0 standard. The <span class="cv_-_computer_voice">formatPhoneNumber</span> method formats a <span class="cv_-_computer_voice">GWPhoneNumber</span> object into a single string. The <span class="cv_-_computer_voice">formatPhoneNumber</span> method is for converting 8.0 phone numbers to the 7.0 standard.</div>
      <div class="B_-_Body"><a name="2013598">The plugin only normalizes a phone number if </a><span class="cv_-_computer_voice">isPossibleNumber</span> returns <span class="cv_-_computer_voice">true</span>. If <span class="cv_-_computer_voice">isPossibleNumber</span> returns <span class="cv_-_computer_voice">true</span>, the plugin calls <span class="cv_-_computer_voice">parsePhoneNumber</span> to convert the number to a <span class="cv_-_computer_voice">GWPhoneNumber</span> object.</div>
      <div class="B_-_Body"><a name="2013599">You can call the </a><span class="cv_-_computer_voice">DefaultPhoneNormalizerPlugin</span> plugin when adding a contact record from an external system to convert the phone number to the ClaimCenter 8.0 standard. You might need to customize the plugin depending on the format of your source data.</div>
      <div class="B_-_Body"><a name="2013603">The Phone Number Normalizer work queue generates work items for phone numbers with a country code of </a><span class="cv_-_computer_voice">unparseable</span> or <span class="cv_-_computer_voice">null</span>, indicating that the plugin has not yet processed the number.</div>
      <div class="B_-_Body"><a name="2013604">If you are using ContactManager, run the Phone Number Normalizer work queue for ContactManager first. Then run the Phone Number Normalizer work queue for ClaimCenter. Phone numbers in ClaimCenter may become out of sync with ContactManager while the ContactManager Phone Number Normalizer work queue is running. It is safe to sync contacts in ClaimCenter that become out of sync with ContactManager. When you run the Phone Number Normalizer work queue for ClaimCenter, it skips the previously synced records.</a></div>
      <div class="B_-_Body"><a name="2013617">Eventually, run the Phone Number Normalizer work queue for all of your Guidewire applications.</a></div>
      <div class="B_-_Body"><a name="2013618">For performance reasons, run the Phone Number Normalizer work queue at off-peak hours. Some functionality, such as database ContactManager’s de-duplication feature could perform poorly while the Phone Number Normalizer work queue runs. You could see Concurrent Data Change Exceptions if you modify an existing contact at the same time as the Phone Number Normalizer work queue. If this occurs, reload the contact and attempt the update again.</a></div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>